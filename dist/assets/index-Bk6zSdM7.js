function $C(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var HC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lE={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.element"),WC=Symbol.for("react.portal"),qC=Symbol.for("react.fragment"),GC=Symbol.for("react.strict_mode"),KC=Symbol.for("react.profiler"),ZC=Symbol.for("react.provider"),QC=Symbol.for("react.context"),XC=Symbol.for("react.forward_ref"),YC=Symbol.for("react.suspense"),JC=Symbol.for("react.memo"),eb=Symbol.for("react.lazy"),Wv=Symbol.iterator;function tb(t){return t===null||typeof t!="object"?null:(t=Wv&&t[Wv]||t["@@iterator"],typeof t=="function"?t:null)}var uE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cE=Object.assign,hE={};function Ia(t,e,n){this.props=t,this.context=e,this.refs=hE,this.updater=n||uE}Ia.prototype.isReactComponent={};Ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dE(){}dE.prototype=Ia.prototype;function fg(t,e,n){this.props=t,this.context=e,this.refs=hE,this.updater=n||uE}var pg=fg.prototype=new dE;pg.constructor=fg;cE(pg,Ia.prototype);pg.isPureReactComponent=!0;var qv=Array.isArray,fE=Object.prototype.hasOwnProperty,mg={current:null},pE={key:!0,ref:!0,__self:!0,__source:!0};function mE(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)fE.call(e,r)&&!pE.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+2];i.children=h}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Au,type:t,key:s,ref:a,props:i,_owner:mg.current}}function nb(t,e){return{$$typeof:Au,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Au}function rb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gv=/\/+/g;function Vf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rb(""+t.key):e.toString(36)}function sh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Au:case WC:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Vf(a,0):r,qv(i)?(n="",t!=null&&(n=t.replace(Gv,"$&/")+"/"),sh(i,e,n,"",function(f){return f})):i!=null&&(gg(i)&&(i=nb(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Gv,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",qv(t))for(var c=0;c<t.length;c++){s=t[c];var h=r+Vf(s,c);a+=sh(s,e,n,h,i)}else if(h=tb(t),typeof h=="function")for(t=h.call(t),c=0;!(s=t.next()).done;)s=s.value,h=r+Vf(s,c++),a+=sh(s,e,n,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Rc(t,e,n){if(t==null)return t;var r=[],i=0;return sh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ib(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},ah={transition:null},ob={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:ah,ReactCurrentOwner:mg};function gE(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Rc,forEach:function(t,e,n){Rc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rc(t,function(){e++}),e},toArray:function(t){return Rc(t,function(e){return e})||[]},only:function(t){if(!gg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Ia;Oe.Fragment=qC;Oe.Profiler=KC;Oe.PureComponent=fg;Oe.StrictMode=GC;Oe.Suspense=YC;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ob;Oe.act=gE;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cE({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=mg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)fE.call(e,h)&&!pE.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&c!==void 0?c[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){c=Array(h);for(var f=0;f<h;f++)c[f]=arguments[f+2];r.children=c}return{$$typeof:Au,type:t.type,key:i,ref:s,props:r,_owner:a}};Oe.createContext=function(t){return t={$$typeof:QC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZC,_context:t},t.Consumer=t};Oe.createElement=mE;Oe.createFactory=function(t){var e=mE.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:XC,render:t}};Oe.isValidElement=gg;Oe.lazy=function(t){return{$$typeof:eb,_payload:{_status:-1,_result:t},_init:ib}};Oe.memo=function(t,e){return{$$typeof:JC,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=ah.transition;ah.transition={};try{t()}finally{ah.transition=e}};Oe.unstable_act=gE;Oe.useCallback=function(t,e){return un.current.useCallback(t,e)};Oe.useContext=function(t){return un.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return un.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return un.current.useEffect(t,e)};Oe.useId=function(){return un.current.useId()};Oe.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return un.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};Oe.useRef=function(t){return un.current.useRef(t)};Oe.useState=function(t){return un.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return un.current.useTransition()};Oe.version="18.3.1";lE.exports=Oe;var H=lE.exports;const D=aE(H),Kv=$C({__proto__:null,default:D},[H]);var Mp={},_E={exports:{}},xn={},vE={exports:{}},yE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,re){var Q=G.length;G.push(re);e:for(;0<Q;){var le=Q-1>>>1,oe=G[le];if(0<i(oe,re))G[le]=re,G[Q]=oe,Q=le;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var re=G[0],Q=G.pop();if(Q!==re){G[0]=Q;e:for(var le=0,oe=G.length,me=oe>>>1;le<me;){var Ae=2*(le+1)-1,ye=G[Ae],ce=Ae+1,qe=G[ce];if(0>i(ye,Q))ce<oe&&0>i(qe,ye)?(G[le]=qe,G[ce]=Q,le=ce):(G[le]=ye,G[Ae]=Q,le=Ae);else if(ce<oe&&0>i(qe,Q))G[le]=qe,G[ce]=Q,le=ce;else break e}}return re}function i(G,re){var Q=G.sortIndex-re.sortIndex;return Q!==0?Q:G.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var h=[],f=[],g=1,v=null,w=3,C=!1,k=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(G){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=G)r(f),re.sortIndex=re.expirationTime,e(h,re);else break;re=n(f)}}function z(G){if(R=!1,A(G),!k)if(n(h)!==null)k=!0,te(W);else{var re=n(f);re!==null&&be(z,re.startTime-G)}}function W(G,re){k=!1,R&&(R=!1,S(T),T=-1),C=!0;var Q=w;try{for(A(re),v=n(h);v!==null&&(!(v.expirationTime>re)||G&&!V());){var le=v.callback;if(typeof le=="function"){v.callback=null,w=v.priorityLevel;var oe=le(v.expirationTime<=re);re=t.unstable_now(),typeof oe=="function"?v.callback=oe:v===n(h)&&r(h),A(re)}else r(h);v=n(h)}if(v!==null)var me=!0;else{var Ae=n(f);Ae!==null&&be(z,Ae.startTime-re),me=!1}return me}finally{v=null,w=Q,C=!1}}var $=!1,b=null,T=-1,N=5,x=-1;function V(){return!(t.unstable_now()-x<N)}function U(){if(b!==null){var G=t.unstable_now();x=G;var re=!0;try{re=b(!0,G)}finally{re?M():($=!1,b=null)}}else $=!1}var M;if(typeof I=="function")M=function(){I(U)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,De=Re.port2;Re.port1.onmessage=U,M=function(){De.postMessage(null)}}else M=function(){O(U,0)};function te(G){b=G,$||($=!0,M())}function be(G,re){T=O(function(){G(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){k||C||(k=!0,te(W))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(G){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var Q=w;w=re;try{return G()}finally{w=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=w;w=G;try{return re()}finally{w=Q}},t.unstable_scheduleCallback=function(G,re,Q){var le=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?le+Q:le):Q=le,G){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Q+oe,G={id:g++,callback:re,priorityLevel:G,startTime:Q,expirationTime:oe,sortIndex:-1},Q>le?(G.sortIndex=Q,e(f,G),n(h)===null&&G===n(f)&&(R?(S(T),T=-1):R=!0,be(z,Q-le))):(G.sortIndex=oe,e(h,G),k||C||(k=!0,te(W))),G},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(G){var re=w;return function(){var Q=w;w=re;try{return G.apply(this,arguments)}finally{w=Q}}}})(yE);vE.exports=yE;var sb=vE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab=H,kn=sb;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wE=new Set,Yl={};function Xo(t,e){aa(t,e),aa(t+"Capture",e)}function aa(t,e){for(Yl[t]=e,t=0;t<e.length;t++)wE.add(e[t])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dp=Object.prototype.hasOwnProperty,lb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zv={},Qv={};function ub(t){return Dp.call(Qv,t)?!0:Dp.call(Zv,t)?!1:lb.test(t)?Qv[t]=!0:(Zv[t]=!0,!1)}function cb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hb(t,e,n,r){if(e===null||typeof e>"u"||cb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var _g=/[\-:]([a-z])/g;function vg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_g,vg);Wt[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_g,vg);Wt[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_g,vg);Wt[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function yg(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hb(e,n,i,r)&&(n=null),r||i===null?ub(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pi=ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kc=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),Fs=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),Vp=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),TE=Symbol.for("react.context"),Eg=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Up=Symbol.for("react.suspense_list"),Tg=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),SE=Symbol.for("react.offscreen"),Xv=Symbol.iterator;function gl(t){return t===null||typeof t!="object"?null:(t=Xv&&t[Xv]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,Ff;function Rl(t){if(Ff===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ff=e&&e[1]||""}return`
`+Ff+t}var Uf=!1;function zf(t,e){if(!t||Uf)return"";Uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,c=s.length-1;1<=a&&0<=c&&i[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==s[c]){var h=`
`+i[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=c);break}}}finally{Uf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rl(t):""}function db(t){switch(t.tag){case 5:return Rl(t.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return t=zf(t.type,!1),t;case 11:return t=zf(t.type.render,!1),t;case 1:return t=zf(t.type,!0),t;default:return""}}function zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fs:return"Fragment";case Vs:return"Portal";case Vp:return"Profiler";case wg:return"StrictMode";case Fp:return"Suspense";case Up:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TE:return(t.displayName||"Context")+".Consumer";case EE:return(t._context.displayName||"Context")+".Provider";case Eg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tg:return e=t.displayName||null,e!==null?e:zp(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return zp(t(e))}catch{}}return null}function fb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zp(e);case 8:return e===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function IE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pb(t){var e=IE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xc(t){t._valueTracker||(t._valueTracker=pb(t))}function PE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=IE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bp(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CE(t,e){e=e.checked,e!=null&&yg(t,"checked",e,!1)}function jp(t,e){CE(t,e);var n=Ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$p(t,e.type,n):e.hasOwnProperty("defaultValue")&&$p(t,e.type,Ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $p(t,e,n){(e!=="number"||Lh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kl=Array.isArray;function Zs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ey(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(kl(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ji(n)}}function bE(t,e){var n=Ji(e.value),r=Ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ty(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oc,RE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Oc=Oc||document.createElement("div"),Oc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mb=["Webkit","ms","Moz","O"];Object.keys(Vl).forEach(function(t){mb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vl[e]=Vl[t]})});function kE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Vl.hasOwnProperty(t)&&Vl[t]?(""+e).trim():e+"px"}function xE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gb=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qp(t,e){if(e){if(gb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Gp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=null;function Sg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zp=null,Qs=null,Xs=null;function ny(t){if(t=xu(t)){if(typeof Zp!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Nd(e),Zp(t.stateNode,t.type,e))}}function OE(t){Qs?Xs?Xs.push(t):Xs=[t]:Qs=t}function LE(){if(Qs){var t=Qs,e=Xs;if(Xs=Qs=null,ny(t),e)for(t=0;t<e.length;t++)ny(e[t])}}function NE(t,e){return t(e)}function ME(){}var Bf=!1;function DE(t,e,n){if(Bf)return t(e,n);Bf=!0;try{return NE(t,e,n)}finally{Bf=!1,(Qs!==null||Xs!==null)&&(ME(),LE())}}function eu(t,e){var n=t.stateNode;if(n===null)return null;var r=Nd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Qp=!1;if(si)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{Qp=!1}function _b(t,e,n,r,i,s,a,c,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(g){this.onError(g)}}var Fl=!1,Nh=null,Mh=!1,Xp=null,vb={onError:function(t){Fl=!0,Nh=t}};function yb(t,e,n,r,i,s,a,c,h){Fl=!1,Nh=null,_b.apply(vb,arguments)}function wb(t,e,n,r,i,s,a,c,h){if(yb.apply(this,arguments),Fl){if(Fl){var f=Nh;Fl=!1,Nh=null}else throw Error(ee(198));Mh||(Mh=!0,Xp=f)}}function Yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ry(t){if(Yo(t)!==t)throw Error(ee(188))}function Eb(t){var e=t.alternate;if(!e){if(e=Yo(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ry(i),t;if(s===r)return ry(i),e;s=s.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function FE(t){return t=Eb(t),t!==null?UE(t):null}function UE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UE(t);if(e!==null)return e;t=t.sibling}return null}var zE=kn.unstable_scheduleCallback,iy=kn.unstable_cancelCallback,Tb=kn.unstable_shouldYield,Sb=kn.unstable_requestPaint,gt=kn.unstable_now,Ib=kn.unstable_getCurrentPriorityLevel,Ig=kn.unstable_ImmediatePriority,BE=kn.unstable_UserBlockingPriority,Dh=kn.unstable_NormalPriority,Pb=kn.unstable_LowPriority,jE=kn.unstable_IdlePriority,kd=null,Ir=null;function Cb(t){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(kd,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:Rb,bb=Math.log,Ab=Math.LN2;function Rb(t){return t>>>=0,t===0?32:31-(bb(t)/Ab|0)|0}var Lc=64,Nc=4194304;function xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=xl(c):(s&=a,s!==0&&(r=xl(s)))}else a=n&~i,a!==0?r=xl(a):s!==0&&(r=xl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),i=1<<n,r|=t[n],e&=~i;return r}function kb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-sr(s),c=1<<a,h=i[a];h===-1?(!(c&n)||c&r)&&(i[a]=kb(c,e)):h<=e&&(t.expiredLanes|=c),s&=~c}}function Yp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $E(){var t=Lc;return Lc<<=1,!(Lc&4194240)&&(Lc=64),t}function jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ru(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function Ob(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-sr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Pg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function HE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WE,Cg,qE,GE,KE,Jp=!1,Mc=[],Bi=null,ji=null,$i=null,tu=new Map,nu=new Map,Oi=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oy(t,e){switch(t){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(e.pointerId)}}function vl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xu(e),e!==null&&Cg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Nb(t,e,n,r,i){switch(e){case"focusin":return Bi=vl(Bi,t,e,n,r,i),!0;case"dragenter":return ji=vl(ji,t,e,n,r,i),!0;case"mouseover":return $i=vl($i,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return tu.set(s,vl(tu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,nu.set(s,vl(nu.get(s)||null,t,e,n,r,i)),!0}return!1}function ZE(t){var e=Po(t.target);if(e!==null){var n=Yo(e);if(n!==null){if(e=n.tag,e===13){if(e=VE(n),e!==null){t.blockedOn=e,KE(t.priority,function(){qE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=em(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kp=r,n.target.dispatchEvent(r),Kp=null}else return e=xu(n),e!==null&&Cg(e),t.blockedOn=n,!1;e.shift()}return!0}function sy(t,e,n){lh(t)&&n.delete(e)}function Mb(){Jp=!1,Bi!==null&&lh(Bi)&&(Bi=null),ji!==null&&lh(ji)&&(ji=null),$i!==null&&lh($i)&&($i=null),tu.forEach(sy),nu.forEach(sy)}function yl(t,e){t.blockedOn===e&&(t.blockedOn=null,Jp||(Jp=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,Mb)))}function ru(t){function e(i){return yl(i,t)}if(0<Mc.length){yl(Mc[0],t);for(var n=1;n<Mc.length;n++){var r=Mc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bi!==null&&yl(Bi,t),ji!==null&&yl(ji,t),$i!==null&&yl($i,t),tu.forEach(e),nu.forEach(e),n=0;n<Oi.length;n++)r=Oi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Oi.length&&(n=Oi[0],n.blockedOn===null);)ZE(n),n.blockedOn===null&&Oi.shift()}var Ys=pi.ReactCurrentBatchConfig,Fh=!0;function Db(t,e,n,r){var i=He,s=Ys.transition;Ys.transition=null;try{He=1,bg(t,e,n,r)}finally{He=i,Ys.transition=s}}function Vb(t,e,n,r){var i=He,s=Ys.transition;Ys.transition=null;try{He=4,bg(t,e,n,r)}finally{He=i,Ys.transition=s}}function bg(t,e,n,r){if(Fh){var i=em(t,e,n,r);if(i===null)Yf(t,e,r,Uh,n),oy(t,r);else if(Nb(i,t,e,n,r))r.stopPropagation();else if(oy(t,r),e&4&&-1<Lb.indexOf(t)){for(;i!==null;){var s=xu(i);if(s!==null&&WE(s),s=em(t,e,n,r),s===null&&Yf(t,e,r,Uh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Yf(t,e,r,null,n)}}var Uh=null;function em(t,e,n,r){if(Uh=null,t=Sg(r),t=Po(t),t!==null)if(e=Yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=VE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uh=t,null}function QE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ib()){case Ig:return 1;case BE:return 4;case Dh:case Pb:return 16;case jE:return 536870912;default:return 16}default:return 16}}var Fi=null,Ag=null,uh=null;function XE(){if(uh)return uh;var t,e=Ag,n=e.length,r,i="value"in Fi?Fi.value:Fi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return uh=i.slice(t,1<r?1-r:void 0)}function ch(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dc(){return!0}function ay(){return!1}function On(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dc:ay,this.isPropagationStopped=ay,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),e}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rg=On(Pa),ku=lt({},Pa,{view:0,detail:0}),Fb=On(ku),$f,Hf,wl,xd=lt({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wl&&(wl&&t.type==="mousemove"?($f=t.screenX-wl.screenX,Hf=t.screenY-wl.screenY):Hf=$f=0,wl=t),$f)},movementY:function(t){return"movementY"in t?t.movementY:Hf}}),ly=On(xd),Ub=lt({},xd,{dataTransfer:0}),zb=On(Ub),Bb=lt({},ku,{relatedTarget:0}),Wf=On(Bb),jb=lt({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),$b=On(jb),Hb=lt({},Pa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wb=On(Hb),qb=lt({},Pa,{data:0}),uy=On(qb),Gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zb[t])?!!e[t]:!1}function kg(){return Qb}var Xb=lt({},ku,{key:function(t){if(t.key){var e=Gb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ch(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kg,charCode:function(t){return t.type==="keypress"?ch(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ch(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yb=On(Xb),Jb=lt({},xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cy=On(Jb),eA=lt({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kg}),tA=On(eA),nA=lt({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),rA=On(nA),iA=lt({},xd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oA=On(iA),sA=[9,13,27,32],xg=si&&"CompositionEvent"in window,Ul=null;si&&"documentMode"in document&&(Ul=document.documentMode);var aA=si&&"TextEvent"in window&&!Ul,YE=si&&(!xg||Ul&&8<Ul&&11>=Ul),hy=" ",dy=!1;function JE(t,e){switch(t){case"keyup":return sA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function lA(t,e){switch(t){case"compositionend":return eT(e);case"keypress":return e.which!==32?null:(dy=!0,hy);case"textInput":return t=e.data,t===hy&&dy?null:t;default:return null}}function uA(t,e){if(Us)return t==="compositionend"||!xg&&JE(t,e)?(t=XE(),uh=Ag=Fi=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YE&&e.locale!=="ko"?null:e.data;default:return null}}var cA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cA[t.type]:e==="textarea"}function tT(t,e,n,r){OE(r),e=zh(e,"onChange"),0<e.length&&(n=new Rg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zl=null,iu=null;function hA(t){dT(t,0)}function Od(t){var e=js(t);if(PE(e))return t}function dA(t,e){if(t==="change")return e}var nT=!1;if(si){var qf;if(si){var Gf="oninput"in document;if(!Gf){var py=document.createElement("div");py.setAttribute("oninput","return;"),Gf=typeof py.oninput=="function"}qf=Gf}else qf=!1;nT=qf&&(!document.documentMode||9<document.documentMode)}function my(){zl&&(zl.detachEvent("onpropertychange",rT),iu=zl=null)}function rT(t){if(t.propertyName==="value"&&Od(iu)){var e=[];tT(e,iu,t,Sg(t)),DE(hA,e)}}function fA(t,e,n){t==="focusin"?(my(),zl=e,iu=n,zl.attachEvent("onpropertychange",rT)):t==="focusout"&&my()}function pA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Od(iu)}function mA(t,e){if(t==="click")return Od(e)}function gA(t,e){if(t==="input"||t==="change")return Od(e)}function _A(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:_A;function ou(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dp.call(e,i)||!hr(t[i],e[i]))return!1}return!0}function gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _y(t,e){var n=gy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gy(n)}}function iT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oT(){for(var t=window,e=Lh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lh(t.document)}return e}function Og(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vA(t){var e=oT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iT(n.ownerDocument.documentElement,n)){if(r!==null&&Og(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=_y(n,s);var a=_y(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yA=si&&"documentMode"in document&&11>=document.documentMode,zs=null,tm=null,Bl=null,nm=!1;function vy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nm||zs==null||zs!==Lh(r)||(r=zs,"selectionStart"in r&&Og(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bl&&ou(Bl,r)||(Bl=r,r=zh(tm,"onSelect"),0<r.length&&(e=new Rg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zs)))}function Vc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bs={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionend:Vc("Transition","TransitionEnd")},Kf={},sT={};si&&(sT=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Ld(t){if(Kf[t])return Kf[t];if(!Bs[t])return t;var e=Bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sT)return Kf[t]=e[n];return t}var aT=Ld("animationend"),lT=Ld("animationiteration"),uT=Ld("animationstart"),cT=Ld("transitionend"),hT=new Map,yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(t,e){hT.set(t,e),Xo(e,[t])}for(var Zf=0;Zf<yy.length;Zf++){var Qf=yy[Zf],wA=Qf.toLowerCase(),EA=Qf[0].toUpperCase()+Qf.slice(1);oo(wA,"on"+EA)}oo(aT,"onAnimationEnd");oo(lT,"onAnimationIteration");oo(uT,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo(cT,"onTransitionEnd");aa("onMouseEnter",["mouseout","mouseover"]);aa("onMouseLeave",["mouseout","mouseover"]);aa("onPointerEnter",["pointerout","pointerover"]);aa("onPointerLeave",["pointerout","pointerover"]);Xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function wy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wb(r,e,void 0,t),t.currentTarget=null}function dT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],h=c.instance,f=c.currentTarget;if(c=c.listener,h!==s&&i.isPropagationStopped())break e;wy(i,c,f),s=h}else for(a=0;a<r.length;a++){if(c=r[a],h=c.instance,f=c.currentTarget,c=c.listener,h!==s&&i.isPropagationStopped())break e;wy(i,c,f),s=h}}}if(Mh)throw t=Xp,Mh=!1,Xp=null,t}function Ye(t,e){var n=e[am];n===void 0&&(n=e[am]=new Set);var r=t+"__bubble";n.has(r)||(fT(e,t,2,!1),n.add(r))}function Xf(t,e,n){var r=0;e&&(r|=4),fT(n,t,r,e)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function su(t){if(!t[Fc]){t[Fc]=!0,wE.forEach(function(n){n!=="selectionchange"&&(TA.has(n)||Xf(n,!1,t),Xf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fc]||(e[Fc]=!0,Xf("selectionchange",!1,e))}}function fT(t,e,n,r){switch(QE(e)){case 1:var i=Db;break;case 4:i=Vb;break;default:i=bg}n=i.bind(null,e,n,t),i=void 0,!Qp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Po(c),a===null)return;if(h=a.tag,h===5||h===6){r=s=a;continue e}c=c.parentNode}}r=r.return}DE(function(){var f=s,g=Sg(n),v=[];e:{var w=hT.get(t);if(w!==void 0){var C=Rg,k=t;switch(t){case"keypress":if(ch(n)===0)break e;case"keydown":case"keyup":C=Yb;break;case"focusin":k="focus",C=Wf;break;case"focusout":k="blur",C=Wf;break;case"beforeblur":case"afterblur":C=Wf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=zb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=tA;break;case aT:case lT:case uT:C=$b;break;case cT:C=rA;break;case"scroll":C=Fb;break;case"wheel":C=oA;break;case"copy":case"cut":case"paste":C=Wb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=cy}var R=(e&4)!==0,O=!R&&t==="scroll",S=R?w!==null?w+"Capture":null:w;R=[];for(var I=f,A;I!==null;){A=I;var z=A.stateNode;if(A.tag===5&&z!==null&&(A=z,S!==null&&(z=eu(I,S),z!=null&&R.push(au(I,z,A)))),O)break;I=I.return}0<R.length&&(w=new C(w,k,null,n,g),v.push({event:w,listeners:R}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",w&&n!==Kp&&(k=n.relatedTarget||n.fromElement)&&(Po(k)||k[ai]))break e;if((C||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,C?(k=n.relatedTarget||n.toElement,C=f,k=k?Po(k):null,k!==null&&(O=Yo(k),k!==O||k.tag!==5&&k.tag!==6)&&(k=null)):(C=null,k=f),C!==k)){if(R=ly,z="onMouseLeave",S="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(R=cy,z="onPointerLeave",S="onPointerEnter",I="pointer"),O=C==null?w:js(C),A=k==null?w:js(k),w=new R(z,I+"leave",C,n,g),w.target=O,w.relatedTarget=A,z=null,Po(g)===f&&(R=new R(S,I+"enter",k,n,g),R.target=A,R.relatedTarget=O,z=R),O=z,C&&k)t:{for(R=C,S=k,I=0,A=R;A;A=Os(A))I++;for(A=0,z=S;z;z=Os(z))A++;for(;0<I-A;)R=Os(R),I--;for(;0<A-I;)S=Os(S),A--;for(;I--;){if(R===S||S!==null&&R===S.alternate)break t;R=Os(R),S=Os(S)}R=null}else R=null;C!==null&&Ey(v,w,C,R,!1),k!==null&&O!==null&&Ey(v,O,k,R,!0)}}e:{if(w=f?js(f):window,C=w.nodeName&&w.nodeName.toLowerCase(),C==="select"||C==="input"&&w.type==="file")var W=dA;else if(fy(w))if(nT)W=gA;else{W=pA;var $=fA}else(C=w.nodeName)&&C.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(W=mA);if(W&&(W=W(t,f))){tT(v,W,n,g);break e}$&&$(t,w,f),t==="focusout"&&($=w._wrapperState)&&$.controlled&&w.type==="number"&&$p(w,"number",w.value)}switch($=f?js(f):window,t){case"focusin":(fy($)||$.contentEditable==="true")&&(zs=$,tm=f,Bl=null);break;case"focusout":Bl=tm=zs=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,vy(v,n,g);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":vy(v,n,g)}var b;if(xg)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Us?JE(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(YE&&n.locale!=="ko"&&(Us||T!=="onCompositionStart"?T==="onCompositionEnd"&&Us&&(b=XE()):(Fi=g,Ag="value"in Fi?Fi.value:Fi.textContent,Us=!0)),$=zh(f,T),0<$.length&&(T=new uy(T,t,null,n,g),v.push({event:T,listeners:$}),b?T.data=b:(b=eT(n),b!==null&&(T.data=b)))),(b=aA?lA(t,n):uA(t,n))&&(f=zh(f,"onBeforeInput"),0<f.length&&(g=new uy("onBeforeInput","beforeinput",null,n,g),v.push({event:g,listeners:f}),g.data=b))}dT(v,e)})}function au(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=eu(t,n),s!=null&&r.unshift(au(t,s,i)),s=eu(t,e),s!=null&&r.push(au(t,s,i))),t=t.return}return r}function Os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ey(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var c=n,h=c.alternate,f=c.stateNode;if(h!==null&&h===r)break;c.tag===5&&f!==null&&(c=f,i?(h=eu(n,s),h!=null&&a.unshift(au(n,h,c))):i||(h=eu(n,s),h!=null&&a.push(au(n,h,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var SA=/\r\n?/g,IA=/\u0000|\uFFFD/g;function Ty(t){return(typeof t=="string"?t:""+t).replace(SA,`
`).replace(IA,"")}function Uc(t,e,n){if(e=Ty(e),Ty(t)!==e&&n)throw Error(ee(425))}function Bh(){}var rm=null,im=null;function om(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sm=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(t){return Sy.resolve(null).then(t).catch(bA)}:sm;function bA(t){setTimeout(function(){throw t})}function Jf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ru(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ru(e)}function Hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Iy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Ca,lu="__reactProps$"+Ca,ai="__reactContainer$"+Ca,am="__reactEvents$"+Ca,AA="__reactListeners$"+Ca,RA="__reactHandles$"+Ca;function Po(t){var e=t[Tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ai]||n[Tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Iy(t);t!==null;){if(n=t[Tr])return n;t=Iy(t)}return e}t=n,n=t.parentNode}return null}function xu(t){return t=t[Tr]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Nd(t){return t[lu]||null}var lm=[],$s=-1;function so(t){return{current:t}}function Je(t){0>$s||(t.current=lm[$s],lm[$s]=null,$s--)}function Qe(t,e){$s++,lm[$s]=t.current,t.current=e}var eo={},en=so(eo),mn=so(!1),Vo=eo;function la(t,e){var n=t.type.contextTypes;if(!n)return eo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gn(t){return t=t.childContextTypes,t!=null}function jh(){Je(mn),Je(en)}function Py(t,e,n){if(en.current!==eo)throw Error(ee(168));Qe(en,e),Qe(mn,n)}function pT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,fb(t)||"Unknown",i));return lt({},n,r)}function $h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||eo,Vo=en.current,Qe(en,t),Qe(mn,mn.current),!0}function Cy(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=pT(t,e,Vo),r.__reactInternalMemoizedMergedChildContext=t,Je(mn),Je(en),Qe(en,t)):Je(mn),Qe(mn,n)}var Zr=null,Md=!1,ep=!1;function mT(t){Zr===null?Zr=[t]:Zr.push(t)}function kA(t){Md=!0,mT(t)}function ao(){if(!ep&&Zr!==null){ep=!0;var t=0,e=He;try{var n=Zr;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,Md=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),zE(Ig,ao),i}finally{He=e,ep=!1}}return null}var Hs=[],Ws=0,Hh=null,Wh=0,jn=[],$n=0,Fo=null,Xr=1,Yr="";function To(t,e){Hs[Ws++]=Wh,Hs[Ws++]=Hh,Hh=t,Wh=e}function gT(t,e,n){jn[$n++]=Xr,jn[$n++]=Yr,jn[$n++]=Fo,Fo=t;var r=Xr;t=Yr;var i=32-sr(r)-1;r&=~(1<<i),n+=1;var s=32-sr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xr=1<<32-sr(e)+i|n<<i|r,Yr=s+t}else Xr=1<<s|n<<i|r,Yr=t}function Lg(t){t.return!==null&&(To(t,1),gT(t,1,0))}function Ng(t){for(;t===Hh;)Hh=Hs[--Ws],Hs[Ws]=null,Wh=Hs[--Ws],Hs[Ws]=null;for(;t===Fo;)Fo=jn[--$n],jn[$n]=null,Yr=jn[--$n],jn[$n]=null,Xr=jn[--$n],jn[$n]=null}var bn=null,Pn=null,nt=!1,ir=null;function _T(t,e){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function by(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,Pn=Hi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fo!==null?{id:Xr,overflow:Yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,Pn=null,!0):!1;default:return!1}}function um(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cm(t){if(nt){var e=Pn;if(e){var n=e;if(!by(t,e)){if(um(t))throw Error(ee(418));e=Hi(n.nextSibling);var r=bn;e&&by(t,e)?_T(r,n):(t.flags=t.flags&-4097|2,nt=!1,bn=t)}}else{if(um(t))throw Error(ee(418));t.flags=t.flags&-4097|2,nt=!1,bn=t}}}function Ay(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function zc(t){if(t!==bn)return!1;if(!nt)return Ay(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!om(t.type,t.memoizedProps)),e&&(e=Pn)){if(um(t))throw vT(),Error(ee(418));for(;e;)_T(t,e),e=Hi(e.nextSibling)}if(Ay(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=Hi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=bn?Hi(t.stateNode.nextSibling):null;return!0}function vT(){for(var t=Pn;t;)t=Hi(t.nextSibling)}function ua(){Pn=bn=null,nt=!1}function Mg(t){ir===null?ir=[t]:ir.push(t)}var xA=pi.ReactCurrentBatchConfig;function El(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var c=i.refs;a===null?delete c[s]:c[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Bc(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ry(t){var e=t._init;return e(t._payload)}function yT(t){function e(S,I){if(t){var A=S.deletions;A===null?(S.deletions=[I],S.flags|=16):A.push(I)}}function n(S,I){if(!t)return null;for(;I!==null;)e(S,I),I=I.sibling;return null}function r(S,I){for(S=new Map;I!==null;)I.key!==null?S.set(I.key,I):S.set(I.index,I),I=I.sibling;return S}function i(S,I){return S=Ki(S,I),S.index=0,S.sibling=null,S}function s(S,I,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<I?(S.flags|=2,I):A):(S.flags|=2,I)):(S.flags|=1048576,I)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function c(S,I,A,z){return I===null||I.tag!==6?(I=ap(A,S.mode,z),I.return=S,I):(I=i(I,A),I.return=S,I)}function h(S,I,A,z){var W=A.type;return W===Fs?g(S,I,A.props.children,z,A.key):I!==null&&(I.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ki&&Ry(W)===I.type)?(z=i(I,A.props),z.ref=El(S,I,A),z.return=S,z):(z=_h(A.type,A.key,A.props,null,S.mode,z),z.ref=El(S,I,A),z.return=S,z)}function f(S,I,A,z){return I===null||I.tag!==4||I.stateNode.containerInfo!==A.containerInfo||I.stateNode.implementation!==A.implementation?(I=lp(A,S.mode,z),I.return=S,I):(I=i(I,A.children||[]),I.return=S,I)}function g(S,I,A,z,W){return I===null||I.tag!==7?(I=Oo(A,S.mode,z,W),I.return=S,I):(I=i(I,A),I.return=S,I)}function v(S,I,A){if(typeof I=="string"&&I!==""||typeof I=="number")return I=ap(""+I,S.mode,A),I.return=S,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case kc:return A=_h(I.type,I.key,I.props,null,S.mode,A),A.ref=El(S,null,I),A.return=S,A;case Vs:return I=lp(I,S.mode,A),I.return=S,I;case ki:var z=I._init;return v(S,z(I._payload),A)}if(kl(I)||gl(I))return I=Oo(I,S.mode,A,null),I.return=S,I;Bc(S,I)}return null}function w(S,I,A,z){var W=I!==null?I.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return W!==null?null:c(S,I,""+A,z);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case kc:return A.key===W?h(S,I,A,z):null;case Vs:return A.key===W?f(S,I,A,z):null;case ki:return W=A._init,w(S,I,W(A._payload),z)}if(kl(A)||gl(A))return W!==null?null:g(S,I,A,z,null);Bc(S,A)}return null}function C(S,I,A,z,W){if(typeof z=="string"&&z!==""||typeof z=="number")return S=S.get(A)||null,c(I,S,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case kc:return S=S.get(z.key===null?A:z.key)||null,h(I,S,z,W);case Vs:return S=S.get(z.key===null?A:z.key)||null,f(I,S,z,W);case ki:var $=z._init;return C(S,I,A,$(z._payload),W)}if(kl(z)||gl(z))return S=S.get(A)||null,g(I,S,z,W,null);Bc(I,z)}return null}function k(S,I,A,z){for(var W=null,$=null,b=I,T=I=0,N=null;b!==null&&T<A.length;T++){b.index>T?(N=b,b=null):N=b.sibling;var x=w(S,b,A[T],z);if(x===null){b===null&&(b=N);break}t&&b&&x.alternate===null&&e(S,b),I=s(x,I,T),$===null?W=x:$.sibling=x,$=x,b=N}if(T===A.length)return n(S,b),nt&&To(S,T),W;if(b===null){for(;T<A.length;T++)b=v(S,A[T],z),b!==null&&(I=s(b,I,T),$===null?W=b:$.sibling=b,$=b);return nt&&To(S,T),W}for(b=r(S,b);T<A.length;T++)N=C(b,S,T,A[T],z),N!==null&&(t&&N.alternate!==null&&b.delete(N.key===null?T:N.key),I=s(N,I,T),$===null?W=N:$.sibling=N,$=N);return t&&b.forEach(function(V){return e(S,V)}),nt&&To(S,T),W}function R(S,I,A,z){var W=gl(A);if(typeof W!="function")throw Error(ee(150));if(A=W.call(A),A==null)throw Error(ee(151));for(var $=W=null,b=I,T=I=0,N=null,x=A.next();b!==null&&!x.done;T++,x=A.next()){b.index>T?(N=b,b=null):N=b.sibling;var V=w(S,b,x.value,z);if(V===null){b===null&&(b=N);break}t&&b&&V.alternate===null&&e(S,b),I=s(V,I,T),$===null?W=V:$.sibling=V,$=V,b=N}if(x.done)return n(S,b),nt&&To(S,T),W;if(b===null){for(;!x.done;T++,x=A.next())x=v(S,x.value,z),x!==null&&(I=s(x,I,T),$===null?W=x:$.sibling=x,$=x);return nt&&To(S,T),W}for(b=r(S,b);!x.done;T++,x=A.next())x=C(b,S,T,x.value,z),x!==null&&(t&&x.alternate!==null&&b.delete(x.key===null?T:x.key),I=s(x,I,T),$===null?W=x:$.sibling=x,$=x);return t&&b.forEach(function(U){return e(S,U)}),nt&&To(S,T),W}function O(S,I,A,z){if(typeof A=="object"&&A!==null&&A.type===Fs&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case kc:e:{for(var W=A.key,$=I;$!==null;){if($.key===W){if(W=A.type,W===Fs){if($.tag===7){n(S,$.sibling),I=i($,A.props.children),I.return=S,S=I;break e}}else if($.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ki&&Ry(W)===$.type){n(S,$.sibling),I=i($,A.props),I.ref=El(S,$,A),I.return=S,S=I;break e}n(S,$);break}else e(S,$);$=$.sibling}A.type===Fs?(I=Oo(A.props.children,S.mode,z,A.key),I.return=S,S=I):(z=_h(A.type,A.key,A.props,null,S.mode,z),z.ref=El(S,I,A),z.return=S,S=z)}return a(S);case Vs:e:{for($=A.key;I!==null;){if(I.key===$)if(I.tag===4&&I.stateNode.containerInfo===A.containerInfo&&I.stateNode.implementation===A.implementation){n(S,I.sibling),I=i(I,A.children||[]),I.return=S,S=I;break e}else{n(S,I);break}else e(S,I);I=I.sibling}I=lp(A,S.mode,z),I.return=S,S=I}return a(S);case ki:return $=A._init,O(S,I,$(A._payload),z)}if(kl(A))return k(S,I,A,z);if(gl(A))return R(S,I,A,z);Bc(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,I!==null&&I.tag===6?(n(S,I.sibling),I=i(I,A),I.return=S,S=I):(n(S,I),I=ap(A,S.mode,z),I.return=S,S=I),a(S)):n(S,I)}return O}var ca=yT(!0),wT=yT(!1),qh=so(null),Gh=null,qs=null,Dg=null;function Vg(){Dg=qs=Gh=null}function Fg(t){var e=qh.current;Je(qh),t._currentValue=e}function hm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Js(t,e){Gh=t,Dg=qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(Dg!==t)if(t={context:t,memoizedValue:e,next:null},qs===null){if(Gh===null)throw Error(ee(308));qs=t,Gh.dependencies={lanes:0,firstContext:t}}else qs=qs.next=t;return e}var Co=null;function Ug(t){Co===null?Co=[t]:Co.push(t)}function ET(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ug(e)):(n.next=i.next,i.next=n),e.interleaved=n,li(t,r)}function li(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xi=!1;function zg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,li(t,n)}return i=r.interleaved,i===null?(e.next=e,Ug(r)):(e.next=i.next,i.next=e),r.interleaved=e,li(t,n)}function hh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pg(t,n)}}function ky(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kh(t,e,n,r){var i=t.updateQueue;xi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var h=c,f=h.next;h.next=null,a===null?s=f:a.next=f,a=h;var g=t.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==a&&(c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=h))}if(s!==null){var v=i.baseState;a=0,g=f=h=null,c=s;do{var w=c.lane,C=c.eventTime;if((r&w)===w){g!==null&&(g=g.next={eventTime:C,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var k=t,R=c;switch(w=e,C=n,R.tag){case 1:if(k=R.payload,typeof k=="function"){v=k.call(C,v,w);break e}v=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=R.payload,w=typeof k=="function"?k.call(C,v,w):k,w==null)break e;v=lt({},v,w);break e;case 2:xi=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[c]:w.push(c))}else C={eventTime:C,lane:w,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(f=g=C,h=v):g=g.next=C,a|=w;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;w=c,c=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(g===null&&(h=v),i.baseState=h,i.firstBaseUpdate=f,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);zo|=a,t.lanes=a,t.memoizedState=v}}function xy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Ou={},Pr=so(Ou),uu=so(Ou),cu=so(Ou);function bo(t){if(t===Ou)throw Error(ee(174));return t}function Bg(t,e){switch(Qe(cu,e),Qe(uu,t),Qe(Pr,Ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wp(e,t)}Je(Pr),Qe(Pr,e)}function ha(){Je(Pr),Je(uu),Je(cu)}function ST(t){bo(cu.current);var e=bo(Pr.current),n=Wp(e,t.type);e!==n&&(Qe(uu,t),Qe(Pr,n))}function jg(t){uu.current===t&&(Je(Pr),Je(uu))}var st=so(0);function Zh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tp=[];function $g(){for(var t=0;t<tp.length;t++)tp[t]._workInProgressVersionPrimary=null;tp.length=0}var dh=pi.ReactCurrentDispatcher,np=pi.ReactCurrentBatchConfig,Uo=0,at=null,Ct=null,Nt=null,Qh=!1,jl=!1,hu=0,OA=0;function Gt(){throw Error(ee(321))}function Hg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function Wg(t,e,n,r,i,s){if(Uo=s,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dh.current=t===null||t.memoizedState===null?DA:VA,t=n(r,i),jl){s=0;do{if(jl=!1,hu=0,25<=s)throw Error(ee(301));s+=1,Nt=Ct=null,e.updateQueue=null,dh.current=FA,t=n(r,i)}while(jl)}if(dh.current=Xh,e=Ct!==null&&Ct.next!==null,Uo=0,Nt=Ct=at=null,Qh=!1,e)throw Error(ee(300));return t}function qg(){var t=hu!==0;return hu=0,t}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?at.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Kn(){if(Ct===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=Nt===null?at.memoizedState:Nt.next;if(e!==null)Nt=e,Ct=t;else{if(t===null)throw Error(ee(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Nt===null?at.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function du(t,e){return typeof e=="function"?e(t):e}function rp(t){var e=Kn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Ct,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=a=null,h=null,f=s;do{var g=f.lane;if((Uo&g)===g)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var v={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(c=h=v,a=r):h=h.next=v,at.lanes|=g,zo|=g}f=f.next}while(f!==null&&f!==s);h===null?a=r:h.next=c,hr(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=h,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,at.lanes|=s,zo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ip(t){var e=Kn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);hr(s,e.memoizedState)||(pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function IT(){}function PT(t,e){var n=at,r=Kn(),i=e(),s=!hr(r.memoizedState,i);if(s&&(r.memoizedState=i,pn=!0),r=r.queue,Gg(AT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,fu(9,bT.bind(null,n,r,i,e),void 0,null),Mt===null)throw Error(ee(349));Uo&30||CT(n,e,i)}return i}function CT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bT(t,e,n,r){e.value=n,e.getSnapshot=r,RT(e)&&kT(t)}function AT(t,e,n){return n(function(){RT(e)&&kT(t)})}function RT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function kT(t){var e=li(t,1);e!==null&&ar(e,t,1,-1)}function Oy(t){var e=yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:t},e.queue=t,t=t.dispatch=MA.bind(null,at,t),[e.memoizedState,t]}function fu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xT(){return Kn().memoizedState}function fh(t,e,n,r){var i=yr();at.flags|=t,i.memoizedState=fu(1|e,n,void 0,r===void 0?null:r)}function Dd(t,e,n,r){var i=Kn();r=r===void 0?null:r;var s=void 0;if(Ct!==null){var a=Ct.memoizedState;if(s=a.destroy,r!==null&&Hg(r,a.deps)){i.memoizedState=fu(e,n,s,r);return}}at.flags|=t,i.memoizedState=fu(1|e,n,s,r)}function Ly(t,e){return fh(8390656,8,t,e)}function Gg(t,e){return Dd(2048,8,t,e)}function OT(t,e){return Dd(4,2,t,e)}function LT(t,e){return Dd(4,4,t,e)}function NT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MT(t,e,n){return n=n!=null?n.concat([t]):null,Dd(4,4,NT.bind(null,e,t),n)}function Kg(){}function DT(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VT(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FT(t,e,n){return Uo&21?(hr(n,e)||(n=$E(),at.lanes|=n,zo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function LA(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=np.transition;np.transition={};try{t(!1),e()}finally{He=n,np.transition=r}}function UT(){return Kn().memoizedState}function NA(t,e,n){var r=Gi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zT(t))BT(e,n);else if(n=ET(t,e,n,r),n!==null){var i=ln();ar(n,t,r,i),jT(n,e,r)}}function MA(t,e,n){var r=Gi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zT(t))BT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,c=s(a,n);if(i.hasEagerState=!0,i.eagerState=c,hr(c,a)){var h=e.interleaved;h===null?(i.next=i,Ug(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}n=ET(t,e,i,r),n!==null&&(i=ln(),ar(n,t,r,i),jT(n,e,r))}}function zT(t){var e=t.alternate;return t===at||e!==null&&e===at}function BT(t,e){jl=Qh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pg(t,n)}}var Xh={readContext:Gn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},DA={readContext:Gn,useCallback:function(t,e){return yr().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:Ly,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fh(4194308,4,NT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fh(4194308,4,t,e)},useInsertionEffect:function(t,e){return fh(4,2,t,e)},useMemo:function(t,e){var n=yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=NA.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=yr();return t={current:t},e.memoizedState=t},useState:Oy,useDebugValue:Kg,useDeferredValue:function(t){return yr().memoizedState=t},useTransition:function(){var t=Oy(!1),e=t[0];return t=LA.bind(null,t[1]),yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,i=yr();if(nt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Mt===null)throw Error(ee(349));Uo&30||CT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ly(AT.bind(null,r,s,t),[t]),r.flags|=2048,fu(9,bT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=yr(),e=Mt.identifierPrefix;if(nt){var n=Yr,r=Xr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=hu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VA={readContext:Gn,useCallback:DT,useContext:Gn,useEffect:Gg,useImperativeHandle:MT,useInsertionEffect:OT,useLayoutEffect:LT,useMemo:VT,useReducer:rp,useRef:xT,useState:function(){return rp(du)},useDebugValue:Kg,useDeferredValue:function(t){var e=Kn();return FT(e,Ct.memoizedState,t)},useTransition:function(){var t=rp(du)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:IT,useSyncExternalStore:PT,useId:UT,unstable_isNewReconciler:!1},FA={readContext:Gn,useCallback:DT,useContext:Gn,useEffect:Gg,useImperativeHandle:MT,useInsertionEffect:OT,useLayoutEffect:LT,useMemo:VT,useReducer:ip,useRef:xT,useState:function(){return ip(du)},useDebugValue:Kg,useDeferredValue:function(t){var e=Kn();return Ct===null?e.memoizedState=t:FT(e,Ct.memoizedState,t)},useTransition:function(){var t=ip(du)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:IT,useSyncExternalStore:PT,useId:UT,unstable_isNewReconciler:!1};function nr(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vd={isMounted:function(t){return(t=t._reactInternals)?Yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Gi(t),s=ri(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wi(t,s,i),e!==null&&(ar(e,t,i,r),hh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Gi(t),s=ri(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wi(t,s,i),e!==null&&(ar(e,t,i,r),hh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=Gi(t),i=ri(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wi(t,i,r),e!==null&&(ar(e,t,r,n),hh(e,t,r))}};function Ny(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ou(n,r)||!ou(i,s):!0}function $T(t,e,n){var r=!1,i=eo,s=e.contextType;return typeof s=="object"&&s!==null?s=Gn(s):(i=gn(e)?Vo:en.current,r=e.contextTypes,s=(r=r!=null)?la(t,i):eo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function My(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vd.enqueueReplaceState(e,e.state,null)}function fm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gn(s):(s=gn(e)?Vo:en.current,i.context=la(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vd.enqueueReplaceState(i,i.state,null),Kh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function da(t,e){try{var n="",r=e;do n+=db(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function op(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UA=typeof WeakMap=="function"?WeakMap:Map;function HT(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jh||(Jh=!0,Im=r),pm(t,e)},n}function WT(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pm(t,e),typeof r!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Dy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JA.bind(null,t,e,n),e.then(t,t))}function Vy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,Wi(n,e,1))),n.lanes|=1),t)}var zA=pi.ReactCurrentOwner,pn=!1;function an(t,e,n,r){e.child=t===null?wT(e,null,n,r):ca(e,t.child,n,r)}function Uy(t,e,n,r,i){n=n.render;var s=e.ref;return Js(e,i),r=Wg(t,e,n,r,s,i),n=qg(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ui(t,e,i)):(nt&&n&&Lg(e),e.flags|=1,an(t,e,r,i),e.child)}function zy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!n_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qT(t,e,s,r,i)):(t=_h(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ou,n(a,r)&&t.ref===e.ref)return ui(t,e,i)}return e.flags|=1,t=Ki(s,r),t.ref=e.ref,t.return=e,e.child=t}function qT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ou(s,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,ui(t,e,i)}return mm(t,e,n,r,i)}function GT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ks,In),In|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(Ks,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qe(Ks,In),In|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Qe(Ks,In),In|=r;return an(t,e,i,n),e.child}function KT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mm(t,e,n,r,i){var s=gn(n)?Vo:en.current;return s=la(e,s),Js(e,i),n=Wg(t,e,n,r,s,i),r=qg(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ui(t,e,i)):(nt&&r&&Lg(e),e.flags|=1,an(t,e,n,i),e.child)}function By(t,e,n,r,i){if(gn(n)){var s=!0;$h(e)}else s=!1;if(Js(e,i),e.stateNode===null)ph(t,e),$T(e,n,r),fm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var h=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=Gn(f):(f=gn(n)?Vo:en.current,f=la(e,f));var g=n.getDerivedStateFromProps,v=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||h!==f)&&My(e,a,r,f),xi=!1;var w=e.memoizedState;a.state=w,Kh(e,r,a,i),h=e.memoizedState,c!==r||w!==h||mn.current||xi?(typeof g=="function"&&(dm(e,n,g,r),h=e.memoizedState),(c=xi||Ny(e,n,c,r,w,h,f))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=f,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,TT(t,e),c=e.memoizedProps,f=e.type===e.elementType?c:nr(e.type,c),a.props=f,v=e.pendingProps,w=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=Gn(h):(h=gn(n)?Vo:en.current,h=la(e,h));var C=n.getDerivedStateFromProps;(g=typeof C=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==v||w!==h)&&My(e,a,r,h),xi=!1,w=e.memoizedState,a.state=w,Kh(e,r,a,i);var k=e.memoizedState;c!==v||w!==k||mn.current||xi?(typeof C=="function"&&(dm(e,n,C,r),k=e.memoizedState),(f=xi||Ny(e,n,f,r,w,k,h)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),a.props=r,a.state=k,a.context=h,r=f):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return gm(t,e,n,r,s,i)}function gm(t,e,n,r,i,s){KT(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Cy(e,n,!1),ui(t,e,s);r=e.stateNode,zA.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ca(e,t.child,null,s),e.child=ca(e,null,c,s)):an(t,e,c,s),e.memoizedState=r.state,i&&Cy(e,n,!0),e.child}function ZT(t){var e=t.stateNode;e.pendingContext?Py(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Py(t,e.context,!1),Bg(t,e.containerInfo)}function jy(t,e,n,r,i){return ua(),Mg(i),e.flags|=256,an(t,e,n,r),e.child}var _m={dehydrated:null,treeContext:null,retryLane:0};function vm(t){return{baseLanes:t,cachePool:null,transitions:null}}function QT(t,e,n){var r=e.pendingProps,i=st.current,s=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(st,i&1),t===null)return cm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=zd(a,r,0,null),t=Oo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vm(n),e.memoizedState=_m,t):Zg(e,a));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return BA(t,e,a,r,c,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,c=i.sibling;var h={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=Ki(i,h),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=Ki(c,s):(s=Oo(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?vm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=_m,r}return s=t.child,t=s.sibling,r=Ki(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zg(t,e){return e=zd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jc(t,e,n,r){return r!==null&&Mg(r),ca(e,t.child,null,n),t=Zg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BA(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=op(Error(ee(422))),jc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=zd({mode:"visible",children:r.children},i,0,null),s=Oo(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ca(e,t.child,null,a),e.child.memoizedState=vm(a),e.memoizedState=_m,s);if(!(e.mode&1))return jc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(ee(419)),r=op(s,r,void 0),jc(t,e,a,r)}if(c=(a&t.childLanes)!==0,pn||c){if(r=Mt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,li(t,i),ar(r,t,i,-1))}return t_(),r=op(Error(ee(421))),jc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Pn=Hi(i.nextSibling),bn=e,nt=!0,ir=null,t!==null&&(jn[$n++]=Xr,jn[$n++]=Yr,jn[$n++]=Fo,Xr=t.id,Yr=t.overflow,Fo=e),e=Zg(e,r.children),e.flags|=4096,e)}function $y(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hm(t.return,e,n)}function sp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function XT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(an(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$y(t,n,e);else if(t.tag===19)$y(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(st,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sp(e,!0,n,null,s);break;case"together":sp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ph(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jA(t,e,n){switch(e.tag){case 3:ZT(e),ua();break;case 5:ST(e);break;case 1:gn(e.type)&&$h(e);break;case 4:Bg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(qh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?QT(t,e,n):(Qe(st,st.current&1),t=ui(t,e,n),t!==null?t.sibling:null);Qe(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,GT(t,e,n)}return ui(t,e,n)}var YT,ym,JT,eS;YT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ym=function(){};JT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bo(Pr.current);var s=null;switch(n){case"input":i=Bp(t,i),r=Bp(t,r),s=[];break;case"select":i=lt({},i,{value:void 0}),r=lt({},r,{value:void 0}),s=[];break;case"textarea":i=Hp(t,i),r=Hp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bh)}qp(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var c=i[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Yl.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var h=r[f];if(c=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&h!==c&&(h!=null||c!=null))if(f==="style")if(c){for(a in c)!c.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&c[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(s||(s=[]),s.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(s=s||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Yl.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Ye("scroll",t),s||c===h||(s=[])):(s=s||[]).push(f,h))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};eS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tl(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $A(t,e,n){var r=e.pendingProps;switch(Ng(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return gn(e.type)&&jh(),Kt(e),null;case 3:return r=e.stateNode,ha(),Je(mn),Je(en),$g(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(bm(ir),ir=null))),ym(t,e),Kt(e),null;case 5:jg(e);var i=bo(cu.current);if(n=e.type,t!==null&&e.stateNode!=null)JT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return Kt(e),null}if(t=bo(Pr.current),zc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Tr]=e,r[lu]=s,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<Ol.length;i++)Ye(Ol[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Yv(r,s),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r);break;case"textarea":ey(r,s),Ye("invalid",r)}qp(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&Uc(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Uc(r.textContent,c,t),i=["children",""+c]):Yl.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Ye("scroll",r)}switch(n){case"input":xc(r),Jv(r,s,!0);break;case"textarea":xc(r),ty(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Tr]=e,t[lu]=r,YT(t,e,!1,!1),e.stateNode=t;e:{switch(a=Gp(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),i=r;break;case"iframe":case"object":case"embed":Ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ol.length;i++)Ye(Ol[i],t);i=r;break;case"source":Ye("error",t),i=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),i=r;break;case"details":Ye("toggle",t),i=r;break;case"input":Yv(t,r),i=Bp(t,r),Ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=lt({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":ey(t,r),i=Hp(t,r),Ye("invalid",t);break;default:i=r}qp(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];s==="style"?xE(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&RE(t,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Jl(t,h):typeof h=="number"&&Jl(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yl.hasOwnProperty(s)?h!=null&&s==="onScroll"&&Ye("scroll",t):h!=null&&yg(t,s,h,a))}switch(n){case"input":xc(t),Jv(t,r,!1);break;case"textarea":xc(t),ty(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ji(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)eS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=bo(cu.current),bo(Pr.current),zc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tr]=e,(s=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:Uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=e,e.stateNode=r}return Kt(e),null;case 13:if(Je(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Pn!==null&&e.mode&1&&!(e.flags&128))vT(),ua(),e.flags|=98560,s=!1;else if(s=zc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ee(317));s[Tr]=e}else ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else ir!==null&&(bm(ir),ir=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?At===0&&(At=3):t_())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return ha(),ym(t,e),t===null&&su(e.stateNode.containerInfo),Kt(e),null;case 10:return Fg(e.type._context),Kt(e),null;case 17:return gn(e.type)&&jh(),Kt(e),null;case 19:if(Je(st),s=e.memoizedState,s===null)return Kt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Tl(s,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Zh(t),a!==null){for(e.flags|=128,Tl(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(st,st.current&1|2),e.child}t=t.sibling}s.tail!==null&&gt()>fa&&(e.flags|=128,r=!0,Tl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!nt)return Kt(e),null}else 2*gt()-s.renderingStartTime>fa&&n!==1073741824&&(e.flags|=128,r=!0,Tl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gt(),e.sibling=null,n=st.current,Qe(st,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return e_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?In&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function HA(t,e){switch(Ng(e),e.tag){case 1:return gn(e.type)&&jh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ha(),Je(mn),Je(en),$g(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jg(e),null;case 13:if(Je(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(st),null;case 4:return ha(),null;case 10:return Fg(e.type._context),null;case 22:case 23:return e_(),null;case 24:return null;default:return null}}var $c=!1,Yt=!1,WA=typeof WeakSet=="function"?WeakSet:Set,se=null;function Gs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ht(t,e,r)}else n.current=null}function wm(t,e,n){try{n()}catch(r){ht(t,e,r)}}var Hy=!1;function qA(t,e){if(rm=Fh,t=oT(),Og(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,c=-1,h=-1,f=0,g=0,v=t,w=null;t:for(;;){for(var C;v!==n||i!==0&&v.nodeType!==3||(c=a+i),v!==s||r!==0&&v.nodeType!==3||(h=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(C=v.firstChild)!==null;)w=v,v=C;for(;;){if(v===t)break t;if(w===n&&++f===i&&(c=a),w===s&&++g===r&&(h=a),(C=v.nextSibling)!==null)break;v=w,w=v.parentNode}v=C}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(im={focusedElem:t,selectionRange:n},Fh=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var R=k.memoizedProps,O=k.memoizedState,S=e.stateNode,I=S.getSnapshotBeforeUpdate(e.elementType===e.type?R:nr(e.type,R),O);S.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(z){ht(e,e.return,z)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return k=Hy,Hy=!1,k}function $l(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wm(e,n,s)}i=i.next}while(i!==r)}}function Fd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Em(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tS(t){var e=t.alternate;e!==null&&(t.alternate=null,tS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tr],delete e[lu],delete e[am],delete e[AA],delete e[RA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nS(t){return t.tag===5||t.tag===3||t.tag===4}function Wy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bh));else if(r!==4&&(t=t.child,t!==null))for(Tm(t,e,n),t=t.sibling;t!==null;)Tm(t,e,n),t=t.sibling}function Sm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sm(t,e,n),t=t.sibling;t!==null;)Sm(t,e,n),t=t.sibling}var Ut=null,rr=!1;function bi(t,e,n){for(n=n.child;n!==null;)rS(t,e,n),n=n.sibling}function rS(t,e,n){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(kd,n)}catch{}switch(n.tag){case 5:Yt||Gs(n,e);case 6:var r=Ut,i=rr;Ut=null,bi(t,e,n),Ut=r,rr=i,Ut!==null&&(rr?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(rr?(t=Ut,n=n.stateNode,t.nodeType===8?Jf(t.parentNode,n):t.nodeType===1&&Jf(t,n),ru(t)):Jf(Ut,n.stateNode));break;case 4:r=Ut,i=rr,Ut=n.stateNode.containerInfo,rr=!0,bi(t,e,n),Ut=r,rr=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&wm(n,e,a),i=i.next}while(i!==r)}bi(t,e,n);break;case 1:if(!Yt&&(Gs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){ht(n,e,c)}bi(t,e,n);break;case 21:bi(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,bi(t,e,n),Yt=r):bi(t,e,n);break;default:bi(t,e,n)}}function qy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WA),e.forEach(function(r){var i=tR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:Ut=c.stateNode,rr=!1;break e;case 3:Ut=c.stateNode.containerInfo,rr=!0;break e;case 4:Ut=c.stateNode.containerInfo,rr=!0;break e}c=c.return}if(Ut===null)throw Error(ee(160));rS(s,a,i),Ut=null,rr=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(f){ht(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iS(e,t),e=e.sibling}function iS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),vr(t),r&4){try{$l(3,t,t.return),Fd(3,t)}catch(R){ht(t,t.return,R)}try{$l(5,t,t.return)}catch(R){ht(t,t.return,R)}}break;case 1:tr(e,t),vr(t),r&512&&n!==null&&Gs(n,n.return);break;case 5:if(tr(e,t),vr(t),r&512&&n!==null&&Gs(n,n.return),t.flags&32){var i=t.stateNode;try{Jl(i,"")}catch(R){ht(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,c=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&CE(i,s),Gp(c,a);var f=Gp(c,s);for(a=0;a<h.length;a+=2){var g=h[a],v=h[a+1];g==="style"?xE(i,v):g==="dangerouslySetInnerHTML"?RE(i,v):g==="children"?Jl(i,v):yg(i,g,v,f)}switch(c){case"input":jp(i,s);break;case"textarea":bE(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?Zs(i,!!s.multiple,C,!1):w!==!!s.multiple&&(s.defaultValue!=null?Zs(i,!!s.multiple,s.defaultValue,!0):Zs(i,!!s.multiple,s.multiple?[]:"",!1))}i[lu]=s}catch(R){ht(t,t.return,R)}}break;case 6:if(tr(e,t),vr(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){ht(t,t.return,R)}}break;case 3:if(tr(e,t),vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ru(e.containerInfo)}catch(R){ht(t,t.return,R)}break;case 4:tr(e,t),vr(t);break;case 13:tr(e,t),vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Yg=gt())),r&4&&qy(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(f=Yt)||g,tr(e,t),Yt=f):tr(e,t),vr(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!g&&t.mode&1)for(se=t,g=t.child;g!==null;){for(v=se=g;se!==null;){switch(w=se,C=w.child,w.tag){case 0:case 11:case 14:case 15:$l(4,w,w.return);break;case 1:Gs(w,w.return);var k=w.stateNode;if(typeof k.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(R){ht(r,n,R)}}break;case 5:Gs(w,w.return);break;case 22:if(w.memoizedState!==null){Ky(v);continue}}C!==null?(C.return=w,se=C):Ky(v)}g=g.sibling}e:for(g=null,v=t;;){if(v.tag===5){if(g===null){g=v;try{i=v.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=v.stateNode,h=v.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=kE("display",a))}catch(R){ht(t,t.return,R)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=f?"":v.memoizedProps}catch(R){ht(t,t.return,R)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:tr(e,t),vr(t),r&4&&qy(t);break;case 21:break;default:tr(e,t),vr(t)}}function vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nS(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jl(i,""),r.flags&=-33);var s=Wy(t);Sm(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=Wy(t);Tm(t,c,a);break;default:throw Error(ee(161))}}catch(h){ht(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GA(t,e,n){se=t,oS(t)}function oS(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||$c;if(!a){var c=i.alternate,h=c!==null&&c.memoizedState!==null||Yt;c=$c;var f=Yt;if($c=a,(Yt=h)&&!f)for(se=i;se!==null;)a=se,h=a.child,a.tag===22&&a.memoizedState!==null?Zy(i):h!==null?(h.return=a,se=h):Zy(i);for(;s!==null;)se=s,oS(s),s=s.sibling;se=i,$c=c,Yt=f}Gy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):Gy(t)}}function Gy(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||Fd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xy(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xy(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&ru(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Yt||e.flags&512&&Em(e)}catch(w){ht(e,e.return,w)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function Ky(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function Zy(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fd(4,e)}catch(h){ht(e,n,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(h){ht(e,i,h)}}var s=e.return;try{Em(e)}catch(h){ht(e,s,h)}break;case 5:var a=e.return;try{Em(e)}catch(h){ht(e,a,h)}}}catch(h){ht(e,e.return,h)}if(e===t){se=null;break}var c=e.sibling;if(c!==null){c.return=e.return,se=c;break}se=e.return}}var KA=Math.ceil,Yh=pi.ReactCurrentDispatcher,Qg=pi.ReactCurrentOwner,qn=pi.ReactCurrentBatchConfig,Ue=0,Mt=null,It=null,$t=0,In=0,Ks=so(0),At=0,pu=null,zo=0,Ud=0,Xg=0,Hl=null,fn=null,Yg=0,fa=1/0,Kr=null,Jh=!1,Im=null,qi=null,Hc=!1,Ui=null,ed=0,Wl=0,Pm=null,mh=-1,gh=0;function ln(){return Ue&6?gt():mh!==-1?mh:mh=gt()}function Gi(t){return t.mode&1?Ue&2&&$t!==0?$t&-$t:xA.transition!==null?(gh===0&&(gh=$E()),gh):(t=He,t!==0||(t=window.event,t=t===void 0?16:QE(t.type)),t):1}function ar(t,e,n,r){if(50<Wl)throw Wl=0,Pm=null,Error(ee(185));Ru(t,n,r),(!(Ue&2)||t!==Mt)&&(t===Mt&&(!(Ue&2)&&(Ud|=n),At===4&&Li(t,$t)),_n(t,r),n===1&&Ue===0&&!(e.mode&1)&&(fa=gt()+500,Md&&ao()))}function _n(t,e){var n=t.callbackNode;xb(t,e);var r=Vh(t,t===Mt?$t:0);if(r===0)n!==null&&iy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&iy(n),e===1)t.tag===0?kA(Qy.bind(null,t)):mT(Qy.bind(null,t)),CA(function(){!(Ue&6)&&ao()}),n=null;else{switch(HE(r)){case 1:n=Ig;break;case 4:n=BE;break;case 16:n=Dh;break;case 536870912:n=jE;break;default:n=Dh}n=fS(n,sS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sS(t,e){if(mh=-1,gh=0,Ue&6)throw Error(ee(327));var n=t.callbackNode;if(ea()&&t.callbackNode!==n)return null;var r=Vh(t,t===Mt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=td(t,r);else{e=r;var i=Ue;Ue|=2;var s=lS();(Mt!==t||$t!==e)&&(Kr=null,fa=gt()+500,xo(t,e));do try{XA();break}catch(c){aS(t,c)}while(!0);Vg(),Yh.current=s,Ue=i,It!==null?e=0:(Mt=null,$t=0,e=At)}if(e!==0){if(e===2&&(i=Yp(t),i!==0&&(r=i,e=Cm(t,i))),e===1)throw n=pu,xo(t,0),Li(t,r),_n(t,gt()),n;if(e===6)Li(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZA(i)&&(e=td(t,r),e===2&&(s=Yp(t),s!==0&&(r=s,e=Cm(t,s))),e===1))throw n=pu,xo(t,0),Li(t,r),_n(t,gt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:So(t,fn,Kr);break;case 3:if(Li(t,r),(r&130023424)===r&&(e=Yg+500-gt(),10<e)){if(Vh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sm(So.bind(null,t,fn,Kr),e);break}So(t,fn,Kr);break;case 4:if(Li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-sr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KA(r/1960))-r,10<r){t.timeoutHandle=sm(So.bind(null,t,fn,Kr),r);break}So(t,fn,Kr);break;case 5:So(t,fn,Kr);break;default:throw Error(ee(329))}}}return _n(t,gt()),t.callbackNode===n?sS.bind(null,t):null}function Cm(t,e){var n=Hl;return t.current.memoizedState.isDehydrated&&(xo(t,e).flags|=256),t=td(t,e),t!==2&&(e=fn,fn=n,e!==null&&bm(e)),t}function bm(t){fn===null?fn=t:fn.push.apply(fn,t)}function ZA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Li(t,e){for(e&=~Xg,e&=~Ud,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function Qy(t){if(Ue&6)throw Error(ee(327));ea();var e=Vh(t,0);if(!(e&1))return _n(t,gt()),null;var n=td(t,e);if(t.tag!==0&&n===2){var r=Yp(t);r!==0&&(e=r,n=Cm(t,r))}if(n===1)throw n=pu,xo(t,0),Li(t,e),_n(t,gt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,So(t,fn,Kr),_n(t,gt()),null}function Jg(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(fa=gt()+500,Md&&ao())}}function Bo(t){Ui!==null&&Ui.tag===0&&!(Ue&6)&&ea();var e=Ue;Ue|=1;var n=qn.transition,r=He;try{if(qn.transition=null,He=1,t)return t()}finally{He=r,qn.transition=n,Ue=e,!(Ue&6)&&ao()}}function e_(){In=Ks.current,Je(Ks)}function xo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PA(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(Ng(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jh();break;case 3:ha(),Je(mn),Je(en),$g();break;case 5:jg(r);break;case 4:ha();break;case 13:Je(st);break;case 19:Je(st);break;case 10:Fg(r.type._context);break;case 22:case 23:e_()}n=n.return}if(Mt=t,It=t=Ki(t.current,null),$t=In=e,At=0,pu=null,Xg=Ud=zo=0,fn=Hl=null,Co!==null){for(e=0;e<Co.length;e++)if(n=Co[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Co=null}return t}function aS(t,e){do{var n=It;try{if(Vg(),dh.current=Xh,Qh){for(var r=at.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qh=!1}if(Uo=0,Nt=Ct=at=null,jl=!1,hu=0,Qg.current=null,n===null||n.return===null){At=1,pu=e,It=null;break}e:{var s=t,a=n.return,c=n,h=e;if(e=$t,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,g=c,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var w=g.alternate;w?(g.updateQueue=w.updateQueue,g.memoizedState=w.memoizedState,g.lanes=w.lanes):(g.updateQueue=null,g.memoizedState=null)}var C=Vy(a);if(C!==null){C.flags&=-257,Fy(C,a,c,s,e),C.mode&1&&Dy(s,f,e),e=C,h=f;var k=e.updateQueue;if(k===null){var R=new Set;R.add(h),e.updateQueue=R}else k.add(h);break e}else{if(!(e&1)){Dy(s,f,e),t_();break e}h=Error(ee(426))}}else if(nt&&c.mode&1){var O=Vy(a);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Fy(O,a,c,s,e),Mg(da(h,c));break e}}s=h=da(h,c),At!==4&&(At=2),Hl===null?Hl=[s]:Hl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=HT(s,h,e);ky(s,S);break e;case 1:c=h;var I=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(qi===null||!qi.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var z=WT(s,c,e);ky(s,z);break e}}s=s.return}while(s!==null)}cS(n)}catch(W){e=W,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function lS(){var t=Yh.current;return Yh.current=Xh,t===null?Xh:t}function t_(){(At===0||At===3||At===2)&&(At=4),Mt===null||!(zo&268435455)&&!(Ud&268435455)||Li(Mt,$t)}function td(t,e){var n=Ue;Ue|=2;var r=lS();(Mt!==t||$t!==e)&&(Kr=null,xo(t,e));do try{QA();break}catch(i){aS(t,i)}while(!0);if(Vg(),Ue=n,Yh.current=r,It!==null)throw Error(ee(261));return Mt=null,$t=0,At}function QA(){for(;It!==null;)uS(It)}function XA(){for(;It!==null&&!Tb();)uS(It)}function uS(t){var e=dS(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?cS(t):It=e,Qg.current=null}function cS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HA(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,It=null;return}}else if(n=$A(n,e,In),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);At===0&&(At=5)}function So(t,e,n){var r=He,i=qn.transition;try{qn.transition=null,He=1,YA(t,e,n,r)}finally{qn.transition=i,He=r}return null}function YA(t,e,n,r){do ea();while(Ui!==null);if(Ue&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ob(t,s),t===Mt&&(It=Mt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hc||(Hc=!0,fS(Dh,function(){return ea(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qn.transition,qn.transition=null;var a=He;He=1;var c=Ue;Ue|=4,Qg.current=null,qA(t,n),iS(n,t),vA(im),Fh=!!rm,im=rm=null,t.current=n,GA(n),Sb(),Ue=c,He=a,qn.transition=s}else t.current=n;if(Hc&&(Hc=!1,Ui=t,ed=i),s=t.pendingLanes,s===0&&(qi=null),Cb(n.stateNode),_n(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jh)throw Jh=!1,t=Im,Im=null,t;return ed&1&&t.tag!==0&&ea(),s=t.pendingLanes,s&1?t===Pm?Wl++:(Wl=0,Pm=t):Wl=0,ao(),null}function ea(){if(Ui!==null){var t=HE(ed),e=qn.transition,n=He;try{if(qn.transition=null,He=16>t?16:t,Ui===null)var r=!1;else{if(t=Ui,Ui=null,ed=0,Ue&6)throw Error(ee(331));var i=Ue;for(Ue|=4,se=t.current;se!==null;){var s=se,a=s.child;if(se.flags&16){var c=s.deletions;if(c!==null){for(var h=0;h<c.length;h++){var f=c[h];for(se=f;se!==null;){var g=se;switch(g.tag){case 0:case 11:case 15:$l(8,g,s)}var v=g.child;if(v!==null)v.return=g,se=v;else for(;se!==null;){g=se;var w=g.sibling,C=g.return;if(tS(g),g===f){se=null;break}if(w!==null){w.return=C,se=w;break}se=C}}}var k=s.alternate;if(k!==null){var R=k.child;if(R!==null){k.child=null;do{var O=R.sibling;R.sibling=null,R=O}while(R!==null)}}se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,se=a;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$l(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,se=S;break e}se=s.return}}var I=t.current;for(se=I;se!==null;){a=se;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,se=A;else e:for(a=I;se!==null;){if(c=se,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Fd(9,c)}}catch(W){ht(c,c.return,W)}if(c===a){se=null;break e}var z=c.sibling;if(z!==null){z.return=c.return,se=z;break e}se=c.return}}if(Ue=i,ao(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(kd,t)}catch{}r=!0}return r}finally{He=n,qn.transition=e}}return!1}function Xy(t,e,n){e=da(n,e),e=HT(t,e,1),t=Wi(t,e,1),e=ln(),t!==null&&(Ru(t,1,e),_n(t,e))}function ht(t,e,n){if(t.tag===3)Xy(t,t,n);else for(;e!==null;){if(e.tag===3){Xy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qi===null||!qi.has(r))){t=da(n,t),t=WT(e,t,1),e=Wi(e,t,1),t=ln(),e!==null&&(Ru(e,1,t),_n(e,t));break}}e=e.return}}function JA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&($t&n)===n&&(At===4||At===3&&($t&130023424)===$t&&500>gt()-Yg?xo(t,0):Xg|=n),_n(t,e)}function hS(t,e){e===0&&(t.mode&1?(e=Nc,Nc<<=1,!(Nc&130023424)&&(Nc=4194304)):e=1);var n=ln();t=li(t,e),t!==null&&(Ru(t,e,n),_n(t,n))}function eR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hS(t,n)}function tR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),hS(t,n)}var dS;dS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,jA(t,e,n);pn=!!(t.flags&131072)}else pn=!1,nt&&e.flags&1048576&&gT(e,Wh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ph(t,e),t=e.pendingProps;var i=la(e,en.current);Js(e,n),i=Wg(null,e,r,t,i,n);var s=qg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(s=!0,$h(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zg(e),i.updater=Vd,e.stateNode=i,i._reactInternals=e,fm(e,r,t,n),e=gm(null,e,r,!0,s,n)):(e.tag=0,nt&&s&&Lg(e),an(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ph(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rR(r),t=nr(r,t),i){case 0:e=mm(null,e,r,t,n);break e;case 1:e=By(null,e,r,t,n);break e;case 11:e=Uy(null,e,r,t,n);break e;case 14:e=zy(null,e,r,nr(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),mm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),By(t,e,r,i,n);case 3:e:{if(ZT(e),t===null)throw Error(ee(387));r=e.pendingProps,s=e.memoizedState,i=s.element,TT(t,e),Kh(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=da(Error(ee(423)),e),e=jy(t,e,r,n,i);break e}else if(r!==i){i=da(Error(ee(424)),e),e=jy(t,e,r,n,i);break e}else for(Pn=Hi(e.stateNode.containerInfo.firstChild),bn=e,nt=!0,ir=null,n=wT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ua(),r===i){e=ui(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return ST(e),t===null&&cm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,om(r,i)?a=null:s!==null&&om(r,s)&&(e.flags|=32),KT(t,e),an(t,e,a,n),e.child;case 6:return t===null&&cm(e),null;case 13:return QT(t,e,n);case 4:return Bg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ca(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),Uy(t,e,r,i,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Qe(qh,r._currentValue),r._currentValue=a,s!==null)if(hr(s.value,a)){if(s.children===i.children&&!mn.current){e=ui(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var h=c.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=ri(-1,n&-n),h.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?h.next=h:(h.next=g.next,g.next=h),f.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),hm(s.return,n,e),c.lanes|=n;break}h=h.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ee(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),hm(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}an(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Js(e,n),i=Gn(i),r=r(i),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,i=nr(r,e.pendingProps),i=nr(r.type,i),zy(t,e,r,i,n);case 15:return qT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),ph(t,e),e.tag=1,gn(r)?(t=!0,$h(e)):t=!1,Js(e,n),$T(e,r,i),fm(e,r,i,n),gm(null,e,r,!0,t,n);case 19:return XT(t,e,n);case 22:return GT(t,e,n)}throw Error(ee(156,e.tag))};function fS(t,e){return zE(t,e)}function nR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,n,r){return new nR(t,e,n,r)}function n_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rR(t){if(typeof t=="function")return n_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Eg)return 11;if(t===Tg)return 14}return 2}function Ki(t,e){var n=t.alternate;return n===null?(n=Wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _h(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")n_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Fs:return Oo(n.children,i,s,e);case wg:a=8,i|=8;break;case Vp:return t=Wn(12,n,e,i|2),t.elementType=Vp,t.lanes=s,t;case Fp:return t=Wn(13,n,e,i),t.elementType=Fp,t.lanes=s,t;case Up:return t=Wn(19,n,e,i),t.elementType=Up,t.lanes=s,t;case SE:return zd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EE:a=10;break e;case TE:a=9;break e;case Eg:a=11;break e;case Tg:a=14;break e;case ki:a=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Wn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Oo(t,e,n,r){return t=Wn(7,t,r,e),t.lanes=n,t}function zd(t,e,n,r){return t=Wn(22,t,r,e),t.elementType=SE,t.lanes=n,t.stateNode={isHidden:!1},t}function ap(t,e,n){return t=Wn(6,t,null,e),t.lanes=n,t}function lp(t,e,n){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function r_(t,e,n,r,i,s,a,c,h){return t=new iR(t,e,n,c,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zg(s),t}function oR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pS(t){if(!t)return eo;t=t._reactInternals;e:{if(Yo(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(gn(n))return pT(t,n,e)}return e}function mS(t,e,n,r,i,s,a,c,h){return t=r_(n,r,!0,t,i,s,a,c,h),t.context=pS(null),n=t.current,r=ln(),i=Gi(n),s=ri(r,i),s.callback=e??null,Wi(n,s,i),t.current.lanes=i,Ru(t,i,r),_n(t,r),t}function Bd(t,e,n,r){var i=e.current,s=ln(),a=Gi(i);return n=pS(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wi(i,e,a),t!==null&&(ar(t,i,a,s),hh(t,i,a)),a}function nd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function i_(t,e){Yy(t,e),(t=t.alternate)&&Yy(t,e)}function sR(){return null}var gS=typeof reportError=="function"?reportError:function(t){console.error(t)};function o_(t){this._internalRoot=t}jd.prototype.render=o_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Bd(t,e,null,null)};jd.prototype.unmount=o_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bo(function(){Bd(null,t,null,null)}),e[ai]=null}};function jd(t){this._internalRoot=t}jd.prototype.unstable_scheduleHydration=function(t){if(t){var e=GE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Oi.length&&e!==0&&e<Oi[n].priority;n++);Oi.splice(n,0,t),n===0&&ZE(t)}};function s_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jy(){}function aR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=nd(a);s.call(f)}}var a=mS(e,r,t,0,null,!1,!1,"",Jy);return t._reactRootContainer=a,t[ai]=a.current,su(t.nodeType===8?t.parentNode:t),Bo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var f=nd(h);c.call(f)}}var h=r_(t,0,!1,null,null,!1,!1,"",Jy);return t._reactRootContainer=h,t[ai]=h.current,su(t.nodeType===8?t.parentNode:t),Bo(function(){Bd(e,h,n,r)}),h}function Hd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var c=i;i=function(){var h=nd(a);c.call(h)}}Bd(e,a,t,i)}else a=aR(n,e,t,i,r);return nd(a)}WE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xl(e.pendingLanes);n!==0&&(Pg(e,n|1),_n(e,gt()),!(Ue&6)&&(fa=gt()+500,ao()))}break;case 13:Bo(function(){var r=li(t,1);if(r!==null){var i=ln();ar(r,t,1,i)}}),i_(t,1)}};Cg=function(t){if(t.tag===13){var e=li(t,134217728);if(e!==null){var n=ln();ar(e,t,134217728,n)}i_(t,134217728)}};qE=function(t){if(t.tag===13){var e=Gi(t),n=li(t,e);if(n!==null){var r=ln();ar(n,t,e,r)}i_(t,e)}};GE=function(){return He};KE=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};Zp=function(t,e,n){switch(e){case"input":if(jp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Nd(r);if(!i)throw Error(ee(90));PE(r),jp(r,i)}}}break;case"textarea":bE(t,n);break;case"select":e=n.value,e!=null&&Zs(t,!!n.multiple,e,!1)}};NE=Jg;ME=Bo;var lR={usingClientEntryPoint:!1,Events:[xu,js,Nd,OE,LE,Jg]},Sl={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uR={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FE(t),t===null?null:t.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||sR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{kd=Wc.inject(uR),Ir=Wc}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lR;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s_(e))throw Error(ee(200));return oR(t,e,null,n)};xn.createRoot=function(t,e){if(!s_(t))throw Error(ee(299));var n=!1,r="",i=gS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=r_(t,1,!1,null,null,n,!1,r,i),t[ai]=e.current,su(t.nodeType===8?t.parentNode:t),new o_(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=FE(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return Bo(t)};xn.hydrate=function(t,e,n){if(!$d(e))throw Error(ee(200));return Hd(null,t,e,!0,n)};xn.hydrateRoot=function(t,e,n){if(!s_(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=gS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=mS(e,null,t,1,n??null,i,!1,s,a),t[ai]=e.current,su(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jd(e)};xn.render=function(t,e,n){if(!$d(e))throw Error(ee(200));return Hd(null,t,e,!1,n)};xn.unmountComponentAtNode=function(t){if(!$d(t))throw Error(ee(40));return t._reactRootContainer?(Bo(function(){Hd(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};xn.unstable_batchedUpdates=Jg;xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$d(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return Hd(t,e,n,!1,r)};xn.version="18.3.1-next-f1338f8080-20240426";function _S(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_S)}catch(t){console.error(t)}}_S(),_E.exports=xn;var a_=_E.exports,ew=a_;Mp.createRoot=ew.createRoot,Mp.hydrateRoot=ew.hydrateRoot;const cR=({therapist:t,onHover:e,onClick:n})=>D.createElement("div",{className:"therapist-card",onMouseEnter:e,onClick:n},D.createElement("div",{className:"therapist-info"},D.createElement("div",{className:"therapist-header"},D.createElement("h3",null,t.name),D.createElement("p",{className:"therapist-about"},t.therapy_type)),D.createElement("div",{className:"therapist-details"},D.createElement("p",null,t.categories.join(", ")),D.createElement("p",null,t.address+", "+t.city))),D.createElement("img",{src:t.profile_image,alt:`${t.name}'s profile`,className:"therapist-profile-image"}));function vS(t,e){const n=H.useRef(e);H.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const hR=1;function dR(t){return Object.freeze({__version:hR,map:t})}function fR(t,e){return Object.freeze({...t,...e})}const yS=H.createContext(null),wS=yS.Provider;function l_(){const t=H.useContext(yS);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function pR(t){function e(n,r){const{instance:i,context:s}=t(n).current;return H.useImperativeHandle(r,()=>i),n.children==null?null:D.createElement(wS,{value:s},n.children)}return H.forwardRef(e)}function mR(t){function e(n,r){const[i,s]=H.useState(!1),{instance:a}=t(n,s).current;H.useImperativeHandle(r,()=>a),H.useEffect(function(){i&&a.update()},[a,i,n.children]);const c=a._contentNode;return c?a_.createPortal(n.children,c):null}return H.forwardRef(e)}function gR(t){function e(n,r){const{instance:i}=t(n).current;return H.useImperativeHandle(r,()=>i),null}return H.forwardRef(e)}function ES(t,e){const n=H.useRef();H.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function u_(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function _R(t,e){return function(r,i){const s=l_(),a=t(u_(r,s),s);return vS(s.map,r.attribution),ES(a.current,r.eventHandlers),e(a.current,s,r,i),a}}var Am={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(HC,function(n){var r="1.9.4";function i(o){var l,d,p,_;for(d=1,p=arguments.length;d<p;d++){_=arguments[d];for(l in _)o[l]=_[l]}return o}var s=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function a(o,l){var d=Array.prototype.slice;if(o.bind)return o.bind.apply(o,d.call(arguments,1));var p=d.call(arguments,2);return function(){return o.apply(l,p.length?p.concat(d.call(arguments)):arguments)}}var c=0;function h(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function f(o,l,d){var p,_,E,F;return F=function(){p=!1,_&&(E.apply(d,_),_=!1)},E=function(){p?_=arguments:(o.apply(d,arguments),setTimeout(F,l),p=!0)},E}function g(o,l,d){var p=l[1],_=l[0],E=p-_;return o===p&&d?o:((o-_)%E+E)%E+_}function v(){return!1}function w(o,l){if(l===!1)return o;var d=Math.pow(10,l===void 0?6:l);return Math.round(o*d)/d}function C(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function k(o){return C(o).split(/\s+/)}function R(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var d in l)o.options[d]=l[d];return o.options}function O(o,l,d){var p=[];for(var _ in o)p.push(encodeURIComponent(d?_.toUpperCase():_)+"="+encodeURIComponent(o[_]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function I(o,l){return o.replace(S,function(d,p){var _=l[p];if(_===void 0)throw new Error("No value provided for variable "+d);return typeof _=="function"&&(_=_(l)),_})}var A=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function z(o,l){for(var d=0;d<o.length;d++)if(o[d]===l)return d;return-1}var W="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var b=0;function T(o){var l=+new Date,d=Math.max(0,16-(l-b));return b=l+d,window.setTimeout(o,d)}var N=window.requestAnimationFrame||$("RequestAnimationFrame")||T,x=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function V(o,l,d){if(d&&N===T)o.call(l);else return N.call(window,a(o,l))}function U(o){o&&x.call(window,o)}var M={__proto__:null,extend:i,create:s,bind:a,get lastId(){return c},stamp:h,throttle:f,wrapNum:g,falseFn:v,formatNum:w,trim:C,splitWords:k,setOptions:R,getParamString:O,template:I,isArray:A,indexOf:z,emptyImageUrl:W,requestFn:N,cancelFn:x,requestAnimFrame:V,cancelAnimFrame:U};function Re(){}Re.extend=function(o){var l=function(){R(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,p=s(d);p.constructor=l,l.prototype=p;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(l[_]=this[_]);return o.statics&&i(l,o.statics),o.includes&&(De(o.includes),i.apply(null,[p].concat(o.includes))),i(p,o),delete p.statics,delete p.includes,p.options&&(p.options=d.options?s(d.options):{},i(p.options,o.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,F=p._initHooks.length;E<F;E++)p._initHooks[E].call(this)}},l},Re.include=function(o){var l=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},Re.mergeOptions=function(o){return i(this.prototype.options,o),this},Re.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),d=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function De(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=A(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(o,l,d){if(typeof o=="object")for(var p in o)this._on(p,o[p],l);else{o=k(o);for(var _=0,E=o.length;_<E;_++)this._on(o[_],l,d)}return this},off:function(o,l,d){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var p in o)this._off(p,o[p],l);else{o=k(o);for(var _=arguments.length===1,E=0,F=o.length;E<F;E++)_?this._off(o[E]):this._off(o[E],l,d)}return this},_on:function(o,l,d,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,d)===!1){d===this&&(d=void 0);var _={fn:l,ctx:d};p&&(_.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(_)}},_off:function(o,l,d){var p,_,E;if(this._events&&(p=this._events[o],!!p)){if(arguments.length===1){if(this._firingCount)for(_=0,E=p.length;_<E;_++)p[_].fn=v;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var F=this._listens(o,l,d);if(F!==!1){var j=p[F];this._firingCount&&(j.fn=v,this._events[o]=p=p.slice()),p.splice(F,1)}}},fire:function(o,l,d){if(!this.listens(o,d))return this;var p=i({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var _=this._events[o];if(_){this._firingCount=this._firingCount+1||1;for(var E=0,F=_.length;E<F;E++){var j=_[E],q=j.fn;j.once&&this.off(o,q,j.ctx),q.call(j.ctx||this,p)}this._firingCount--}}return d&&this._propagateEvent(p),this},listens:function(o,l,d,p){typeof o!="string"&&console.warn('"string" type argument expected');var _=l;typeof l!="function"&&(p=!!l,_=void 0,d=void 0);var E=this._events&&this._events[o];if(E&&E.length&&this._listens(o,_,d)!==!1)return!0;if(p){for(var F in this._eventParents)if(this._eventParents[F].listens(o,l,d,p))return!0}return!1},_listens:function(o,l,d){if(!this._events)return!1;var p=this._events[o]||[];if(!l)return!!p.length;d===this&&(d=void 0);for(var _=0,E=p.length;_<E;_++)if(p[_].fn===l&&p[_].ctx===d)return _;return!1},once:function(o,l,d){if(typeof o=="object")for(var p in o)this._on(p,o[p],l,!0);else{o=k(o);for(var _=0,E=o.length;_<E;_++)this._on(o[_],l,d,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[h(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[h(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var be=Re.extend(te);function G(o,l,d){this.x=d?Math.round(o):o,this.y=d?Math.round(l):l}var re=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(o){return this.clone()._add(Q(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Q(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new G(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new G(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=re(this.x),this.y=re(this.y),this},distanceTo:function(o){o=Q(o);var l=o.x-this.x,d=o.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(o){return o=Q(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=Q(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function Q(o,l,d){return o instanceof G?o:A(o)?new G(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new G(o.x,o.y):new G(o,l,d)}function le(o,l){if(o)for(var d=l?[o,l]:o,p=0,_=d.length;p<_;p++)this.extend(d[p])}le.prototype={extend:function(o){var l,d;if(!o)return this;if(o instanceof G||typeof o[0]=="number"||"x"in o)l=d=Q(o);else if(o=oe(o),l=o.min,d=o.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(o){return Q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return Q(this.min.x,this.max.y)},getTopRight:function(){return Q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,d;return typeof o[0]=="number"||o instanceof G?o=Q(o):o=oe(o),o instanceof le?(l=o.min,d=o.max):l=d=o,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(o){o=oe(o);var l=this.min,d=this.max,p=o.min,_=o.max,E=_.x>=l.x&&p.x<=d.x,F=_.y>=l.y&&p.y<=d.y;return E&&F},overlaps:function(o){o=oe(o);var l=this.min,d=this.max,p=o.min,_=o.max,E=_.x>l.x&&p.x<d.x,F=_.y>l.y&&p.y<d.y;return E&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,d=this.max,p=Math.abs(l.x-d.x)*o,_=Math.abs(l.y-d.y)*o;return oe(Q(l.x-p,l.y-_),Q(d.x+p,d.y+_))},equals:function(o){return o?(o=oe(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function oe(o,l){return!o||o instanceof le?o:new le(o,l)}function me(o,l){if(o)for(var d=l?[o,l]:o,p=0,_=d.length;p<_;p++)this.extend(d[p])}me.prototype={extend:function(o){var l=this._southWest,d=this._northEast,p,_;if(o instanceof ye)p=o,_=o;else if(o instanceof me){if(p=o._southWest,_=o._northEast,!p||!_)return this}else return o?this.extend(ce(o)||Ae(o)):this;return!l&&!d?(this._southWest=new ye(p.lat,p.lng),this._northEast=new ye(_.lat,_.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),d.lat=Math.max(_.lat,d.lat),d.lng=Math.max(_.lng,d.lng)),this},pad:function(o){var l=this._southWest,d=this._northEast,p=Math.abs(l.lat-d.lat)*o,_=Math.abs(l.lng-d.lng)*o;return new me(new ye(l.lat-p,l.lng-_),new ye(d.lat+p,d.lng+_))},getCenter:function(){return new ye((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ye(this.getNorth(),this.getWest())},getSouthEast:function(){return new ye(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof ye||"lat"in o?o=ce(o):o=Ae(o);var l=this._southWest,d=this._northEast,p,_;return o instanceof me?(p=o.getSouthWest(),_=o.getNorthEast()):p=_=o,p.lat>=l.lat&&_.lat<=d.lat&&p.lng>=l.lng&&_.lng<=d.lng},intersects:function(o){o=Ae(o);var l=this._southWest,d=this._northEast,p=o.getSouthWest(),_=o.getNorthEast(),E=_.lat>=l.lat&&p.lat<=d.lat,F=_.lng>=l.lng&&p.lng<=d.lng;return E&&F},overlaps:function(o){o=Ae(o);var l=this._southWest,d=this._northEast,p=o.getSouthWest(),_=o.getNorthEast(),E=_.lat>l.lat&&p.lat<d.lat,F=_.lng>l.lng&&p.lng<d.lng;return E&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=Ae(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ae(o,l){return o instanceof me?o:new me(o,l)}function ye(o,l,d){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,d!==void 0&&(this.alt=+d)}ye.prototype={equals:function(o,l){if(!o)return!1;o=ce(o);var d=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return d<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+w(this.lat,o)+", "+w(this.lng,o)+")"},distanceTo:function(o){return _t.distance(this,ce(o))},wrap:function(){return _t.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,d=l/Math.cos(Math.PI/180*this.lat);return Ae([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new ye(this.lat,this.lng,this.alt)}};function ce(o,l,d){return o instanceof ye?o:A(o)&&typeof o[0]!="object"?o.length===3?new ye(o[0],o[1],o[2]):o.length===2?new ye(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new ye(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new ye(o,l,d)}var qe={latLngToPoint:function(o,l){var d=this.projection.project(o),p=this.scale(l);return this.transformation._transform(d,p)},pointToLatLng:function(o,l){var d=this.scale(l),p=this.transformation.untransform(o,d);return this.projection.unproject(p)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(o),p=this.transformation.transform(l.min,d),_=this.transformation.transform(l.max,d);return new le(p,_)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?g(o.lng,this.wrapLng,!0):o.lng,d=this.wrapLat?g(o.lat,this.wrapLat,!0):o.lat,p=o.alt;return new ye(d,l,p)},wrapLatLngBounds:function(o){var l=o.getCenter(),d=this.wrapLatLng(l),p=l.lat-d.lat,_=l.lng-d.lng;if(p===0&&_===0)return o;var E=o.getSouthWest(),F=o.getNorthEast(),j=new ye(E.lat-p,E.lng-_),q=new ye(F.lat-p,F.lng-_);return new me(j,q)}},_t=i({},qe,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var d=Math.PI/180,p=o.lat*d,_=l.lat*d,E=Math.sin((l.lat-o.lat)*d/2),F=Math.sin((l.lng-o.lng)*d/2),j=E*E+Math.cos(p)*Math.cos(_)*F*F,q=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j));return this.R*q}}),Mr=6378137,fr={R:Mr,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,d=this.MAX_LATITUDE,p=Math.max(Math.min(d,o.lat),-d),_=Math.sin(p*l);return new G(this.R*o.lng*l,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(o){var l=180/Math.PI;return new ye((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:function(){var o=Mr*Math.PI;return new le([-o,-o],[o,o])}()};function Zn(o,l,d,p){if(A(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=d,this._d=p}Zn.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new G((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function Nn(o,l,d,p){return new Zn(o,l,d,p)}var Dr=i({},_t,{code:"EPSG:3857",projection:fr,transformation:function(){var o=.5/(Math.PI*fr.R);return Nn(o,.5,-o,.5)}()}),gi=i({},Dr,{code:"EPSG:900913"});function _i(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Ma(o,l){var d="",p,_,E,F,j,q;for(p=0,E=o.length;p<E;p++){for(j=o[p],_=0,F=j.length;_<F;_++)q=j[_],d+=(_?"L":"M")+q.x+" "+q.y;d+=l?ue.svg?"z":"x":""}return d||"M0 0"}var Da=document.documentElement.style,ns="ActiveXObject"in window,Ku=ns&&!document.addEventListener,rs="msLaunchUri"in navigator&&!("documentMode"in document),is=Mn("webkit"),Zu=Mn("android"),os=Mn("android 2")||Mn("android 3"),Va=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qu=Zu&&Mn("Google")&&Va<537&&!("AudioNode"in window),vt=!!window.opera,kt=!rs&&Mn("chrome"),lo=Mn("gecko")&&!is&&!vt&&!ns,Xu=!kt&&Mn("safari"),Fa=Mn("phantom"),Yu="OTransition"in Da,uo=navigator.platform.indexOf("Win")===0,Ua=ns&&"transition"in Da,ss="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!os,as="MozPerspective"in Da,Rf=!window.L_DISABLE_3D&&(Ua||ss||as)&&!Yu&&!Fa,co=typeof orientation<"u"||Mn("mobile"),za=co&&is,Ju=co&&ss,Ba=!window.PointerEvent&&window.MSPointerEvent,vi=!!(window.PointerEvent||Ba),ls="ontouchstart"in window||!!window.TouchEvent,ja=!window.L_NO_TOUCH&&(ls||vi),Vr=co&&vt,ec=co&&lo,us=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,tc=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",v,l),window.removeEventListener("testPassiveEventSupport",v,l)}catch{}return o}(),ho=function(){return!!document.createElement("canvas").getContext}(),cs=!!(document.createElementNS&&_i("svg").createSVGRect),Vt=!!cs&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),nc=!cs&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),fo=navigator.platform.indexOf("Mac")===0,po=navigator.platform.indexOf("Linux")===0;function Mn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var ue={ie:ns,ielt9:Ku,edge:rs,webkit:is,android:Zu,android23:os,androidStock:Qu,opera:vt,chrome:kt,gecko:lo,safari:Xu,phantom:Fa,opera12:Yu,win:uo,ie3d:Ua,webkit3d:ss,gecko3d:as,any3d:Rf,mobile:co,mobileWebkit:za,mobileWebkit3d:Ju,msPointer:Ba,pointer:vi,touch:ja,touchNative:ls,mobileOpera:Vr,mobileGecko:ec,retina:us,passiveEvents:tc,canvas:ho,svg:cs,vml:nc,inlineSvg:Vt,mac:fo,linux:po},Fr=ue.msPointer?"MSPointerDown":"pointerdown",rc=ue.msPointer?"MSPointerMove":"pointermove",ic=ue.msPointer?"MSPointerUp":"pointerup",mo=ue.msPointer?"MSPointerCancel":"pointercancel",hs={touchstart:Fr,touchmove:rc,touchend:ic,touchcancel:mo},ds={touchstart:ps,touchmove:fs,touchend:fs,touchcancel:fs},Qn={},Xn=!1;function oc(o,l,d){return l==="touchstart"&&ac(),ds[l]?(d=ds[l].bind(this,d),o.addEventListener(hs[l],d,!1),d):(console.warn("wrong event specified:",l),v)}function sc(o,l,d){if(!hs[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(hs[l],d,!1)}function $a(o){Qn[o.pointerId]=o}function Ha(o){Qn[o.pointerId]&&(Qn[o.pointerId]=o)}function Wa(o){delete Qn[o.pointerId]}function ac(){Xn||(document.addEventListener(Fr,$a,!0),document.addEventListener(rc,Ha,!0),document.addEventListener(ic,Wa,!0),document.addEventListener(mo,Wa,!0),Xn=!0)}function fs(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in Qn)l.touches.push(Qn[d]);l.changedTouches=[l],o(l)}}function ps(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&it(l),fs(o,l)}function lc(o){var l={},d,p;for(p in o)d=o[p],l[p]=d&&d.bind?d.bind(o):d;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var qa=200;function go(o,l){o.addEventListener("dblclick",l);var d=0,p;function _(E){if(E.detail!==1){p=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var F=il(E);if(!(F.some(function(q){return q instanceof HTMLLabelElement&&q.attributes.for})&&!F.some(function(q){return q instanceof HTMLInputElement||q instanceof HTMLSelectElement}))){var j=Date.now();j-d<=qa?(p++,p===2&&l(lc(E))):p=1,d=j}}}return o.addEventListener("click",_),{dblclick:l,simDblclick:_}}function Ur(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var _o=Br(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),vo=Br(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ga=vo==="webkitTransition"||vo==="OTransition"?vo+"End":"transitionend";function Ka(o){return typeof o=="string"?document.getElementById(o):o}function yi(o,l){var d=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(o,null);d=p?p[l]:null}return d==="auto"?null:d}function Le(o,l,d){var p=document.createElement(o);return p.className=l||"",d&&d.appendChild(p),p}function Ze(o){var l=o.parentNode;l&&l.removeChild(o)}function yo(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function zr(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function wi(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function Za(o,l){if(o.classList!==void 0)return o.classList.contains(l);var d=Dn(o);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function Ie(o,l){if(o.classList!==void 0)for(var d=k(l),p=0,_=d.length;p<_;p++)o.classList.add(d[p]);else if(!Za(o,l)){var E=Dn(o);Qa(o,(E?E+" ":"")+l)}}function et(o,l){o.classList!==void 0?o.classList.remove(l):Qa(o,C((" "+Dn(o)+" ").replace(" "+l+" "," ")))}function Qa(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function Dn(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function ct(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&ms(o,l)}function ms(o,l){var d=!1,p="DXImageTransform.Microsoft.Alpha";try{d=o.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):o.style.filter+=" progid:"+p+"(opacity="+l+")"}function Br(o){for(var l=document.documentElement.style,d=0;d<o.length;d++)if(o[d]in l)return o[d];return!1}function pr(o,l,d){var p=l||new G(0,0);o.style[_o]=(ue.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(d?" scale("+d+")":"")}function we(o,l){o._leaflet_pos=l,ue.any3d?pr(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function Vn(o){return o._leaflet_pos||new G(0,0)}var Yn,Jn,Xa;if("onselectstart"in document)Yn=function(){_e(window,"selectstart",it)},Jn=function(){Ge(window,"selectstart",it)};else{var Ei=Br(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yn=function(){if(Ei){var o=document.documentElement.style;Xa=o[Ei],o[Ei]="none"}},Jn=function(){Ei&&(document.documentElement.style[Ei]=Xa,Xa=void 0)}}function Ya(){_e(window,"dragstart",it)}function Ja(){Ge(window,"dragstart",it)}var gs,el;function jr(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(wn(),gs=o,el=o.style.outlineStyle,o.style.outlineStyle="none",_e(window,"keydown",wn))}function wn(){gs&&(gs.style.outlineStyle=el,gs=void 0,el=void 0,Ge(window,"keydown",wn))}function tl(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function _s(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var uc={__proto__:null,TRANSFORM:_o,TRANSITION:vo,TRANSITION_END:Ga,get:Ka,getStyle:yi,create:Le,remove:Ze,empty:yo,toFront:zr,toBack:wi,hasClass:Za,addClass:Ie,removeClass:et,setClass:Qa,getClass:Dn,setOpacity:ct,testProp:Br,setTransform:pr,setPosition:we,getPosition:Vn,get disableTextSelection(){return Yn},get enableTextSelection(){return Jn},disableImageDrag:Ya,enableImageDrag:Ja,preventOutline:jr,restoreOutline:wn,getSizedParentNode:tl,getScale:_s};function _e(o,l,d,p){if(l&&typeof l=="object")for(var _ in l)nl(o,_,l[_],d);else{l=k(l);for(var E=0,F=l.length;E<F;E++)nl(o,l[E],d,p)}return this}var Fn="_leaflet_events";function Ge(o,l,d,p){if(arguments.length===1)cc(o),delete o[Fn];else if(l&&typeof l=="object")for(var _ in l)rl(o,_,l[_],d);else if(l=k(l),arguments.length===2)cc(o,function(j){return z(l,j)!==-1});else for(var E=0,F=l.length;E<F;E++)rl(o,l[E],d,p);return this}function cc(o,l){for(var d in o[Fn]){var p=d.split(/\d/)[0];(!l||l(p))&&rl(o,p,null,null,d)}}var Un={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function nl(o,l,d,p){var _=l+h(d)+(p?"_"+h(p):"");if(o[Fn]&&o[Fn][_])return this;var E=function(j){return d.call(p||o,j||window.event)},F=E;!ue.touchNative&&ue.pointer&&l.indexOf("touch")===0?E=oc(o,l,E):ue.touch&&l==="dblclick"?E=go(o,E):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener(Un[l]||l,E,ue.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(E=function(j){j=j||window.event,ol(o,j)&&F(j)},o.addEventListener(Un[l],E,!1)):o.addEventListener(l,F,!1):o.attachEvent("on"+l,E),o[Fn]=o[Fn]||{},o[Fn][_]=E}function rl(o,l,d,p,_){_=_||l+h(d)+(p?"_"+h(p):"");var E=o[Fn]&&o[Fn][_];if(!E)return this;!ue.touchNative&&ue.pointer&&l.indexOf("touch")===0?sc(o,l,E):ue.touch&&l==="dblclick"?Ur(o,E):"removeEventListener"in o?o.removeEventListener(Un[l]||l,E,!1):o.detachEvent("on"+l,E),o[Fn][_]=null}function En(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Ti(o){return nl(o,"wheel",En),this}function Si(o){return _e(o,"mousedown touchstart dblclick contextmenu",En),o._leaflet_disable_click=!0,this}function it(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Tn(o){return it(o),En(o),this}function il(o){if(o.composedPath)return o.composedPath();for(var l=[],d=o.target;d;)l.push(d),d=d.parentNode;return l}function vs(o,l){if(!l)return new G(o.clientX,o.clientY);var d=_s(l),p=d.boundingClientRect;return new G((o.clientX-p.left)/d.x-l.clientLeft,(o.clientY-p.top)/d.y-l.clientTop)}var tt=ue.linux&&ue.chrome?window.devicePixelRatio:ue.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function hc(o){return ue.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/tt:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function ol(o,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==o;)d=d.parentNode}catch{return!1}return d!==o}var dc={__proto__:null,on:_e,off:Ge,stopPropagation:En,disableScrollPropagation:Ti,disableClickPropagation:Si,preventDefault:it,stop:Tn,getPropagationPath:il,getMousePosition:vs,getWheelDelta:hc,isExternalTarget:ol,addListener:_e,removeListener:Ge},sl=be.extend({run:function(o,l,d,p){this.stop(),this._el=o,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Vn(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var d=this._startPos.add(this._offset.multiplyBy(o));l&&d._round(),we(this._el,d),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),xe=be.extend({options:{crs:Dr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=R(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ce(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=vo&&ue.any3d&&!ue.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_e(this._proxy,Ga,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(ce(o),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=i({animate:d.animate},d.zoom),d.pan=i({animate:d.animate,duration:d.duration},d.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,d.zoom):this._tryAnimatedPan(o,d.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(ue.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(ue.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,d){var p=this.getZoomScale(l),_=this.getSize().divideBy(2),E=o instanceof G?o:this.latLngToContainerPoint(o),F=E.subtract(_).multiplyBy(1-1/p),j=this.containerPointToLatLng(_.add(F));return this.setView(j,l,{zoom:d})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():Ae(o);var d=Q(l.paddingTopLeft||l.padding||[0,0]),p=Q(l.paddingBottomRight||l.padding||[0,0]),_=this.getBoundsZoom(o,!1,d.add(p));if(_=typeof l.maxZoom=="number"?Math.min(l.maxZoom,_):_,_===1/0)return{center:o.getCenter(),zoom:_};var E=p.subtract(d).divideBy(2),F=this.project(o.getSouthWest(),_),j=this.project(o.getNorthEast(),_),q=this.unproject(F.add(j).divideBy(2).add(E),_);return{center:q,zoom:_}},fitBounds:function(o,l){if(o=Ae(o),!o.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(o,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=Q(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new sl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Ie(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,d){if(d=d||{},d.animate===!1||!ue.any3d)return this.setView(o,l,d);this._stop();var p=this.project(this.getCenter()),_=this.project(o),E=this.getSize(),F=this._zoom;o=ce(o),l=l===void 0?F:l;var j=Math.max(E.x,E.y),q=j*this.getZoomScale(F,l),X=_.distanceTo(p)||1,ie=1.42,ve=ie*ie;function ke(wt){var Ac=wt?-1:1,UC=wt?q:j,zC=q*q-j*j+Ac*ve*ve*X*X,BC=2*UC*ve*X,Df=zC/BC,Hv=Math.sqrt(Df*Df+1)-Df,jC=Hv<1e-9?-18:Math.log(Hv);return jC}function on(wt){return(Math.exp(wt)-Math.exp(-wt))/2}function Ot(wt){return(Math.exp(wt)+Math.exp(-wt))/2}function Bn(wt){return on(wt)/Ot(wt)}var dn=ke(0);function xs(wt){return j*(Ot(dn)/Ot(dn+ie*wt))}function MC(wt){return j*(Ot(dn)*Bn(dn+ie*wt)-on(dn))/ve}function DC(wt){return 1-Math.pow(1-wt,1.5)}var VC=Date.now(),jv=(ke(1)-dn)/ie,FC=d.duration?1e3*d.duration:1e3*jv*.8;function $v(){var wt=(Date.now()-VC)/FC,Ac=DC(wt)*jv;wt<=1?(this._flyToFrame=V($v,this),this._move(this.unproject(p.add(_.subtract(p).multiplyBy(MC(Ac)/X)),F),this.getScaleZoom(j/xs(Ac),F),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),$v.call(this),this},flyToBounds:function(o,l){var d=this._getBoundsCenterZoom(o,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(o){return o=Ae(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var d=this.getCenter(),p=this._limitCenter(d,this._zoom,Ae(o));return d.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var d=Q(l.paddingTopLeft||l.padding||[0,0]),p=Q(l.paddingBottomRight||l.padding||[0,0]),_=this.project(this.getCenter()),E=this.project(o),F=this.getPixelBounds(),j=oe([F.min.add(d),F.max.subtract(p)]),q=j.getSize();if(!j.contains(E)){this._enforcingBounds=!0;var X=E.subtract(j.getCenter()),ie=j.extend(E).getSize().subtract(q);_.x+=X.x<0?-ie.x:ie.x,_.y+=X.y<0?-ie.y:ie.y,this.panTo(this.unproject(_),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),p=l.divideBy(2).round(),_=d.divideBy(2).round(),E=p.subtract(_);return!E.x&&!E.y?this:(o.animate&&o.pan?this.panBy(E):(o.pan&&this._rawPanBy(E),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),d=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,o):navigator.geolocation.getCurrentPosition(l,d,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,d=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,d=o.coords.longitude,p=new ye(l,d),_=p.toBounds(o.coords.accuracy*2),E=this._locateOptions;if(E.setView){var F=this.getBoundsZoom(_);this.setView(p,E.maxZoom?Math.min(F,E.maxZoom):F)}var j={latlng:p,bounds:_,timestamp:o.timestamp};for(var q in o.coords)typeof o.coords[q]=="number"&&(j[q]=o.coords[q]);this.fire("locationfound",j)}},addHandler:function(o,l){if(!l)return this;var d=this[o]=new l(this);return this._handlers.push(d),this.options[o]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ze(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Ze(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var d="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),p=Le("div",d,l||this._mapPane);return o&&(this._panes[o]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),d=this.unproject(o.getTopRight());return new me(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,d){o=Ae(o),d=Q(d||[0,0]);var p=this.getZoom()||0,_=this.getMinZoom(),E=this.getMaxZoom(),F=o.getNorthWest(),j=o.getSouthEast(),q=this.getSize().subtract(d),X=oe(this.project(j,p),this.project(F,p)).getSize(),ie=ue.any3d?this.options.zoomSnap:1,ve=q.x/X.x,ke=q.y/X.y,on=l?Math.max(ve,ke):Math.min(ve,ke);return p=this.getScaleZoom(on,p),ie&&(p=Math.round(p/(ie/100))*(ie/100),p=l?Math.ceil(p/ie)*ie:Math.floor(p/ie)*ie),Math.max(_,Math.min(E,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var d=this._getTopLeftPoint(o,l);return new le(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(o)/d.scale(l)},getScaleZoom:function(o,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var p=d.zoom(o*d.scale(l));return isNaN(p)?1/0:p},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ce(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(Q(o),l)},layerPointToLatLng:function(o){var l=Q(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(ce(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ce(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Ae(o))},distance:function(o,l){return this.options.crs.distance(ce(o),ce(l))},containerPointToLayerPoint:function(o){return Q(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Q(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(Q(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(o)))},mouseEventToContainerPoint:function(o){return vs(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=Ka(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");_e(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&ue.any3d,Ie(o,"leaflet-container"+(ue.touch?" leaflet-touch":"")+(ue.retina?" leaflet-retina":"")+(ue.ielt9?" leaflet-oldie":"")+(ue.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=yi(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),we(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ie(o.markerPane,"leaflet-zoom-hide"),Ie(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,d){we(this._mapPane,new G(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var _=this._zoom!==l;this._moveStart(_,d)._move(o,l)._moveEnd(_),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,d,p){l===void 0&&(l=this._zoom);var _=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),p?d&&d.pinch&&this.fire("zoom",d):((_||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){we(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[h(this._container)]=this;var l=o?Ge:_e;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ue.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var d=[],p,_=l==="mouseout"||l==="mouseover",E=o.target||o.srcElement,F=!1;E;){if(p=this._targets[h(E)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){F=!0;break}if(p&&p.listens(l,!0)&&(_&&!ol(E,o)||(d.push(p),_))||E===this._container)break;E=E.parentNode}return!d.length&&!F&&!_&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var d=o.type;d==="mousedown"&&jr(l),this._fireDOMEvent(o,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,d){if(o.type==="click"){var p=i({},o);p.type="preclick",this._fireDOMEvent(p,p.type,d)}var _=this._findEventTargets(o,l);if(d){for(var E=[],F=0;F<d.length;F++)d[F].listens(l,!0)&&E.push(d[F]);_=E.concat(_)}if(_.length){l==="contextmenu"&&it(o);var j=_[0],q={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var X=j.getLatLng&&(!j._radius||j._radius<=10);q.containerPoint=X?this.latLngToContainerPoint(j.getLatLng()):this.mouseEventToContainerPoint(o),q.layerPoint=this.containerPointToLayerPoint(q.containerPoint),q.latlng=X?j.getLatLng():this.layerPointToLatLng(q.layerPoint)}for(F=0;F<_.length;F++)if(_[F].fire(l,q,!0),q.originalEvent._stopped||_[F].options.bubblingMouseEvents===!1&&z(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return Vn(this._mapPane)||new G(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var d=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var d=this.getSize()._divideBy(2);return this.project(o,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,d){var p=this._getNewPixelOrigin(d,l);return this.project(o,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(o,l,d){var p=this._getNewPixelOrigin(d,l);return oe([this.project(o.getSouthWest(),l)._subtract(p),this.project(o.getNorthWest(),l)._subtract(p),this.project(o.getSouthEast(),l)._subtract(p),this.project(o.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,d){if(!d)return o;var p=this.project(o,l),_=this.getSize().divideBy(2),E=new le(p.subtract(_),p.add(_)),F=this._getBoundsOffset(E,d,l);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?o:this.unproject(p.add(F),l)},_limitOffset:function(o,l){if(!l)return o;var d=this.getPixelBounds(),p=new le(d.min.add(o),d.max.add(o));return o.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(o,l,d){var p=oe(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),_=p.min.subtract(o.min),E=p.max.subtract(o.max),F=this._rebound(_.x,-E.x),j=this._rebound(_.y,-E.y);return new G(F,j)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),d=this.getMaxZoom(),p=ue.any3d?this.options.zoomSnap:1;return p&&(o=Math.round(o/p)*p),Math.max(l,Math.min(d,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){et(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var d=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var o=this._proxy=Le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var d=_o,p=this._proxy.style[d];pr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ze(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();pr(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),_=this._getCenterOffset(o)._divideBy(1-1/p);return d.animate!==!0&&!this.getSize().contains(_)?!1:(V(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,d,p){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,Ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&et(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ys(o,l){return new xe(o,l)}var hn=Re.extend({options:{position:"topright"},initialize:function(o){R(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),d=this.getPosition(),p=o._controlCorners[d];return Ie(l,"leaflet-control"),d.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ze(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),rn=function(o){return new hn(o)};xe.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",d=this._controlContainer=Le("div",l+"control-container",this._container);function p(_,E){var F=l+_+" "+l+E;o[_+E]=Le("div",F,d)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Ze(this._controlCorners[o]);Ze(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var al=hn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,d,p){return d<p?-1:p<d?1:0}},initialize:function(o,l,d){R(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in o)this._addLayer(o[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return hn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):et(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return et(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=Le("div",o),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Si(l),Ti(l);var p=this._section=Le("section",o+"-list");d&&(this._map.on("click",this.collapse,this),_e(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=Le("a",o+"-toggle",l);_.href="#",_.title="Layers",_.setAttribute("role","button"),_e(_,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){it(E),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Le("div",o+"-base",p),this._separator=Le("div",o+"-separator",p),this._overlaysList=Le("div",o+"-overlays",p),l.appendChild(p)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,d){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(a(function(p,_){return this.options.sortFunction(p.layer,_.layer,p.name,_.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yo(this._baseLayersList),yo(this._overlaysList),this._layerControlInputs=[];var o,l,d,p,_=0;for(d=0;d<this._layers.length;d++)p=this._layers[d],this._addItem(p),l=l||p.overlay,o=o||!p.overlay,_+=p.overlay?0:1;return this.options.hideSingleBase&&(o=o&&_>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(h(o.target)),d=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(o,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=d,p.firstChild},_addItem:function(o){var l=document.createElement("label"),d=this._map.hasLayer(o.layer),p;o.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=d):p=this._createRadioElement("leaflet-base-layers_"+h(this),d),this._layerControlInputs.push(p),p.layerId=h(o.layer),_e(p,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+o.name;var E=document.createElement("span");l.appendChild(E),E.appendChild(p),E.appendChild(_);var F=o.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,d,p=[],_=[];this._handlingClick=!0;for(var E=o.length-1;E>=0;E--)l=o[E],d=this._getLayer(l.layerId).layer,l.checked?p.push(d):l.checked||_.push(d);for(E=0;E<_.length;E++)this._map.hasLayer(_[E])&&this._map.removeLayer(_[E]);for(E=0;E<p.length;E++)this._map.hasLayer(p[E])||this._map.addLayer(p[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,d,p=this._map.getZoom(),_=o.length-1;_>=0;_--)l=o[_],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&p<d.options.minZoom||d.options.maxZoom!==void 0&&p>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,_e(o,"click",it),this.expand();var l=this;setTimeout(function(){Ge(o,"click",it),l._preventClick=!1})}}),kf=function(o,l,d){return new al(o,l,d)},$r=hn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",d=Le("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,d,p,_){var E=Le("a",d,p);return E.innerHTML=o,E.href="#",E.title=l,E.setAttribute("role","button"),E.setAttribute("aria-label",l),Si(E),_e(E,"click",Tn),_e(E,"click",_,this),_e(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";et(this._zoomInButton,l),et(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ie(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ie(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});xe.mergeOptions({zoomControl:!0}),xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $r,this.addControl(this.zoomControl))});var fc=function(o){return new $r(o)},ws=hn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",d=Le("div",l),p=this.options;return this._addScales(p,l+"-line",d),o.on(p.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),d},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,d){o.metric&&(this._mScale=Le("div",l,d)),o.imperial&&(this._iScale=Le("div",l,d))},_update:function(){var o=this._map,l=o.getSize().y/2,d=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/o)},_updateImperial:function(o){var l=o*3.2808399,d,p,_;l>5280?(d=l/5280,p=this._getRoundNum(d),this._updateScale(this._iScale,p+" mi",p/d)):(_=this._getRoundNum(l),this._updateScale(this._iScale,_+" ft",_/l))},_updateScale:function(o,l,d){o.style.width=Math.round(this.options.maxWidth*d)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),d=o/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),Es=function(o){return new ws(o)},pc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ii=hn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ue.inlineSvg?pc+" ":"")+"Leaflet</a>"},initialize:function(o){R(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Le("div","leaflet-control-attribution"),Si(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),o.length&&d.push(o.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});xe.mergeOptions({attributionControl:!0}),xe.addInitHook(function(){this.options.attributionControl&&new Ii().addTo(this)});var xf=function(o){return new Ii(o)};hn.Layers=al,hn.Zoom=$r,hn.Scale=ws,hn.Attribution=Ii,rn.layers=kf,rn.zoom=fc,rn.scale=Es,rn.attribution=xf;var Sn=Re.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Sn.addTo=function(o,l){return o.addHandler(l,this),this};var wo={Events:te},ll=ue.touch?"touchstart mousedown":"mousedown",er=be.extend({options:{clickTolerance:3},initialize:function(o,l,d,p){R(this,p),this._element=o,this._dragStartTarget=l||o,this._preventOutline=d},enable:function(){this._enabled||(_e(this._dragStartTarget,ll,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(er._dragging===this&&this.finishDrag(!0),Ge(this._dragStartTarget,ll,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Za(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){er._dragging===this&&this.finishDrag();return}if(!(er._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(er._dragging=this,this._preventOutline&&jr(this._element),Ya(),Yn(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,d=tl(this._element);this._startPoint=new G(l.clientX,l.clientY),this._startPos=Vn(this._element),this._parentScale=_s(d);var p=o.type==="mousedown";_e(document,p?"mousemove":"touchmove",this._onMove,this),_e(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,d=new G(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,it(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ie(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),we(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){et(document.body,"leaflet-dragging"),this._lastTarget&&(et(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ge(document,"mousemove touchmove",this._onMove,this),Ge(document,"mouseup touchend touchcancel",this._onUp,this),Ja(),Jn();var l=this._moved&&this._moving;this._moving=!1,er._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Ts(o,l,d){var p,_=[1,4,2,8],E,F,j,q,X,ie,ve,ke;for(E=0,ie=o.length;E<ie;E++)o[E]._code=mr(o[E],l);for(j=0;j<4;j++){for(ve=_[j],p=[],E=0,ie=o.length,F=ie-1;E<ie;F=E++)q=o[E],X=o[F],q._code&ve?X._code&ve||(ke=xt(X,q,ve,l,d),ke._code=mr(ke,l),p.push(ke)):(X._code&ve&&(ke=xt(X,q,ve,l,d),ke._code=mr(ke,l),p.push(ke)),p.push(q));o=p}return o}function Ss(o,l){var d,p,_,E,F,j,q,X,ie;if(!o||o.length===0)throw new Error("latlngs not passed");u(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ve=ce([0,0]),ke=Ae(o),on=ke.getNorthWest().distanceTo(ke.getSouthWest())*ke.getNorthEast().distanceTo(ke.getNorthWest());on<1700&&(ve=Is(o));var Ot=o.length,Bn=[];for(d=0;d<Ot;d++){var dn=ce(o[d]);Bn.push(l.project(ce([dn.lat-ve.lat,dn.lng-ve.lng])))}for(j=q=X=0,d=0,p=Ot-1;d<Ot;p=d++)_=Bn[d],E=Bn[p],F=_.y*E.x-E.y*_.x,q+=(_.x+E.x)*F,X+=(_.y+E.y)*F,j+=F*3;j===0?ie=Bn[0]:ie=[q/j,X/j];var xs=l.unproject(Q(ie));return ce([xs.lat+ve.lat,xs.lng+ve.lng])}function Is(o){for(var l=0,d=0,p=0,_=0;_<o.length;_++){var E=ce(o[_]);l+=E.lat,d+=E.lng,p++}return ce([l/p,d/p])}var Ps={__proto__:null,clipPolygon:Ts,polygonCenter:Ss,centroid:Is};function ul(o,l){if(!l||!o.length)return o.slice();var d=l*l;return o=gc(o,d),o=mc(o,d),o}function cl(o,l,d){return Math.sqrt(zn(o,l,d,!0))}function Hr(o,l,d){return zn(o,l,d)}function mc(o,l){var d=o.length,p=typeof Uint8Array<"u"?Uint8Array:Array,_=new p(d);_[0]=_[d-1]=1,Cs(o,_,l,0,d-1);var E,F=[];for(E=0;E<d;E++)_[E]&&F.push(o[E]);return F}function Cs(o,l,d,p,_){var E=0,F,j,q;for(j=p+1;j<=_-1;j++)q=zn(o[j],o[p],o[_],!0),q>E&&(F=j,E=q);E>d&&(l[F]=1,Cs(o,l,d,p,F),Cs(o,l,d,F,_))}function gc(o,l){for(var d=[o[0]],p=1,_=0,E=o.length;p<E;p++)_c(o[p],o[_])>l&&(d.push(o[p]),_=p);return _<E-1&&d.push(o[E-1]),d}var hl;function Eo(o,l,d,p,_){var E=p?hl:mr(o,d),F=mr(l,d),j,q,X;for(hl=F;;){if(!(E|F))return[o,l];if(E&F)return!1;j=E||F,q=xt(o,l,j,d,_),X=mr(q,d),j===E?(o=q,E=X):(l=q,F=X)}}function xt(o,l,d,p,_){var E=l.x-o.x,F=l.y-o.y,j=p.min,q=p.max,X,ie;return d&8?(X=o.x+E*(q.y-o.y)/F,ie=q.y):d&4?(X=o.x+E*(j.y-o.y)/F,ie=j.y):d&2?(X=q.x,ie=o.y+F*(q.x-o.x)/E):d&1&&(X=j.x,ie=o.y+F*(j.x-o.x)/E),new G(X,ie,_)}function mr(o,l){var d=0;return o.x<l.min.x?d|=1:o.x>l.max.x&&(d|=2),o.y<l.min.y?d|=4:o.y>l.max.y&&(d|=8),d}function _c(o,l){var d=l.x-o.x,p=l.y-o.y;return d*d+p*p}function zn(o,l,d,p){var _=l.x,E=l.y,F=d.x-_,j=d.y-E,q=F*F+j*j,X;return q>0&&(X=((o.x-_)*F+(o.y-E)*j)/q,X>1?(_=d.x,E=d.y):X>0&&(_+=F*X,E+=j*X)),F=o.x-_,j=o.y-E,p?F*F+j*j:new G(_,E)}function u(o){return!A(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function m(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),u(o)}function y(o,l){var d,p,_,E,F,j,q,X;if(!o||o.length===0)throw new Error("latlngs not passed");u(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ie=ce([0,0]),ve=Ae(o),ke=ve.getNorthWest().distanceTo(ve.getSouthWest())*ve.getNorthEast().distanceTo(ve.getNorthWest());ke<1700&&(ie=Is(o));var on=o.length,Ot=[];for(d=0;d<on;d++){var Bn=ce(o[d]);Ot.push(l.project(ce([Bn.lat-ie.lat,Bn.lng-ie.lng])))}for(d=0,p=0;d<on-1;d++)p+=Ot[d].distanceTo(Ot[d+1])/2;if(p===0)X=Ot[0];else for(d=0,E=0;d<on-1;d++)if(F=Ot[d],j=Ot[d+1],_=F.distanceTo(j),E+=_,E>p){q=(E-p)/_,X=[j.x-q*(j.x-F.x),j.y-q*(j.y-F.y)];break}var dn=l.unproject(Q(X));return ce([dn.lat+ie.lat,dn.lng+ie.lng])}var P={__proto__:null,simplify:ul,pointToSegmentDistance:cl,closestPointOnSegment:Hr,clipSegment:Eo,_getEdgeIntersection:xt,_getBitCode:mr,_sqClosestPointOnSegment:zn,isFlat:u,_flat:m,polylineCenter:y},B={project:function(o){return new G(o.lng,o.lat)},unproject:function(o){return new ye(o.y,o.x)},bounds:new le([-180,-90],[180,90])},K={R:6378137,R_MINOR:6356752314245179e-9,bounds:new le([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,d=this.R,p=o.lat*l,_=this.R_MINOR/d,E=Math.sqrt(1-_*_),F=E*Math.sin(p),j=Math.tan(Math.PI/4-p/2)/Math.pow((1-F)/(1+F),E/2);return p=-d*Math.log(Math.max(j,1e-10)),new G(o.lng*l*d,p)},unproject:function(o){for(var l=180/Math.PI,d=this.R,p=this.R_MINOR/d,_=Math.sqrt(1-p*p),E=Math.exp(-o.y/d),F=Math.PI/2-2*Math.atan(E),j=0,q=.1,X;j<15&&Math.abs(q)>1e-7;j++)X=_*Math.sin(F),X=Math.pow((1-X)/(1+X),_/2),q=Math.PI/2-2*Math.atan(E*X)-F,F+=q;return new ye(F*l,o.x*l/d)}},ne={__proto__:null,LonLat:B,Mercator:K,SphericalMercator:fr},$e=i({},_t,{code:"EPSG:3395",projection:K,transformation:function(){var o=.5/(Math.PI*K.R);return Nn(o,.5,-o,.5)}()}),yt=i({},_t,{code:"EPSG:4326",projection:B,transformation:Nn(1/180,1,-1/180,.5)}),Ve=i({},qe,{projection:B,transformation:Nn(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var d=l.lng-o.lng,p=l.lat-o.lat;return Math.sqrt(d*d+p*p)},infinite:!0});qe.Earth=_t,qe.EPSG3395=$e,qe.EPSG3857=Dr,qe.EPSG900913=gi,qe.EPSG4326=yt,qe.Simple=Ve;var Ke=be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[h(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[h(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});xe.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=h(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return h(o)in this._layers},eachLayer:function(o,l){for(var d in this._layers)o.call(l,this._layers[d]);return this},_addLayers:function(o){o=o?A(o)?o:[o]:[];for(var l=0,d=o.length;l<d;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[h(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=h(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,d=this._getZoomSpan();for(var p in this._zoomBoundLayers){var _=this._zoomBoundLayers[p].options;o=_.minZoom===void 0?o:Math.min(o,_.minZoom),l=_.maxZoom===void 0?l:Math.max(l,_.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ot=Ke.extend({initialize:function(o,l){R(this,l),this._layers={};var d,p;if(o)for(d=0,p=o.length;d<p;d++)this.addLayer(o[d])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),d,p;for(d in this._layers)p=this._layers[d],p[o]&&p[o].apply(p,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var d in this._layers)o.call(l,this._layers[d]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return h(o)}}),Pi=function(o,l){return new ot(o,l)},mt=ot.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),ot.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),ot.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new me;for(var l in this._layers){var d=this._layers[l];o.extend(d.getBounds?d.getBounds():d.getLatLng())}return o}}),bs=function(o,l){return new mt(o,l)},gr=Re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){R(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var d=this._getIconUrl(o);if(!d){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(o,l){var d=this.options,p=d[l+"Size"];typeof p=="number"&&(p=[p,p]);var _=Q(p),E=Q(l==="shadow"&&d.shadowAnchor||d.iconAnchor||_&&_.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(d.className||""),E&&(o.style.marginLeft=-E.x+"px",o.style.marginTop=-E.y+"px"),_&&(o.style.width=_.x+"px",o.style.height=_.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return ue.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function gC(o){return new gr(o)}var dl=gr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof dl.imagePath!="string"&&(dl.imagePath=this._detectIconPath()),(this.options.imagePath||dl.imagePath)+gr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(d,p,_){var E=p.exec(d);return E&&E[_]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Le("div","leaflet-default-icon-path",document.body),l=yi(o,"background-image")||yi(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Sv=Sn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new er(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ie(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&et(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,d=l._map,p=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,E=Vn(l._icon),F=d.getPixelBounds(),j=d.getPixelOrigin(),q=oe(F.min._subtract(j).add(_),F.max._subtract(j).subtract(_));if(!q.contains(E)){var X=Q((Math.max(q.max.x,E.x)-q.max.x)/(F.max.x-q.max.x)-(Math.min(q.min.x,E.x)-q.min.x)/(F.min.x-q.min.x),(Math.max(q.max.y,E.y)-q.max.y)/(F.max.y-q.max.y)-(Math.min(q.min.y,E.y)-q.min.y)/(F.min.y-q.min.y)).multiplyBy(p);d.panBy(X,{animate:!1}),this._draggable._newPos._add(X),this._draggable._startPos._add(X),we(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=V(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,d=l._shadow,p=Vn(l._icon),_=l._map.layerPointToLatLng(p);d&&we(d,p),l._latlng=_,o.latlng=_,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),vc=Ke.extend({options:{icon:new dl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){R(this,l),this._latlng=ce(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=ce(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=o.icon.createIcon(this._icon),p=!1;d!==this._icon&&(this._icon&&this._removeIcon(),p=!0,o.title&&(d.title=o.title),d.tagName==="IMG"&&(d.alt=o.alt||"")),Ie(d,l),o.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(d,"focus",this._panOnFocus,this);var _=o.icon.createShadow(this._shadow),E=!1;_!==this._shadow&&(this._removeShadow(),E=!0),_&&(Ie(_,l),_.alt=""),this._shadow=_,o.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&E&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(this._icon,"focus",this._panOnFocus,this),Ze(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ze(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&we(this._icon,o),this._shadow&&we(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Sv)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Sv(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&ct(this._icon,o),this._shadow&&ct(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,d=l.iconSize?Q(l.iconSize):Q(0,0),p=l.iconAnchor?Q(l.iconAnchor):Q(0,0);o.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:d.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _C(o,l){return new vc(o,l)}var Ci=Ke.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return R(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yc=Ci.extend({options:{fill:!0,radius:10},initialize:function(o,l){R(this,l),this._latlng=ce(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=ce(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return Ci.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,d=this._clickTolerance(),p=[o+d,l+d];this._pxBounds=new le(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function vC(o,l){return new yc(o,l)}var Of=yc.extend({initialize:function(o,l,d){if(typeof l=="number"&&(l=i({},d,{radius:l})),R(this,l),this._latlng=ce(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new me(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Ci.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,d=this._map,p=d.options.crs;if(p.distance===_t.distance){var _=Math.PI/180,E=this._mRadius/_t.R/_,F=d.project([l+E,o]),j=d.project([l-E,o]),q=F.add(j).divideBy(2),X=d.unproject(q).lat,ie=Math.acos((Math.cos(E*_)-Math.sin(l*_)*Math.sin(X*_))/(Math.cos(l*_)*Math.cos(X*_)))/_;(isNaN(ie)||ie===0)&&(ie=E/Math.cos(Math.PI/180*l)),this._point=q.subtract(d.getPixelOrigin()),this._radius=isNaN(ie)?0:q.x-d.project([X,o-ie]).x,this._radiusY=q.y-F.y}else{var ve=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(ve).x}this._updateBounds()}});function yC(o,l,d){return new Of(o,l,d)}var Wr=Ci.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){R(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,d=null,p=zn,_,E,F=0,j=this._parts.length;F<j;F++)for(var q=this._parts[F],X=1,ie=q.length;X<ie;X++){_=q[X-1],E=q[X];var ve=p(o,_,E,!0);ve<l&&(l=ve,d=p(o,_,E))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return y(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=ce(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new me,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return u(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],d=u(o),p=0,_=o.length;p<_;p++)d?(l[p]=ce(o[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(o[p]);return l},_project:function(){var o=new le;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new G(o,o);this._rawPxBounds&&(this._pxBounds=new le([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,d){var p=o[0]instanceof ye,_=o.length,E,F;if(p){for(F=[],E=0;E<_;E++)F[E]=this._map.latLngToLayerPoint(o[E]),d.extend(F[E]);l.push(F)}else for(E=0;E<_;E++)this._projectLatlngs(o[E],l,d)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,p,_,E,F,j,q;for(d=0,_=0,E=this._rings.length;d<E;d++)for(q=this._rings[d],p=0,F=q.length;p<F-1;p++)j=Eo(q[p],q[p+1],o,p,!0),j&&(l[_]=l[_]||[],l[_].push(j[0]),(j[1]!==q[p+1]||p===F-2)&&(l[_].push(j[1]),_++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,d=0,p=o.length;d<p;d++)o[d]=ul(o[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var d,p,_,E,F,j,q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(d=0,E=this._parts.length;d<E;d++)for(j=this._parts[d],p=0,F=j.length,_=F-1;p<F;_=p++)if(!(!l&&p===0)&&cl(o,j[_],j[p])<=q)return!0;return!1}});function wC(o,l){return new Wr(o,l)}Wr._flat=m;var As=Wr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ss(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=Wr.prototype._convertLatLngs.call(this,o),d=l.length;return d>=2&&l[0]instanceof ye&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(o){Wr.prototype._setLatLngs.call(this,o),u(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return u(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,d=new G(l,l);if(o=new le(o.min.subtract(d),o.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,_=this._rings.length,E;p<_;p++)E=Ts(this._rings[p],o,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,d,p,_,E,F,j,q,X;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(E=0,q=this._parts.length;E<q;E++)for(d=this._parts[E],F=0,X=d.length,j=X-1;F<X;j=F++)p=d[F],_=d[j],p.y>o.y!=_.y>o.y&&o.x<(_.x-p.x)*(o.y-p.y)/(_.y-p.y)+p.x&&(l=!l);return l||Wr.prototype._containsPoint.call(this,o,!0)}});function EC(o,l){return new As(o,l)}var qr=mt.extend({initialize:function(o,l){R(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=A(o)?o:o.features,d,p,_;if(l){for(d=0,p=l.length;d<p;d++)_=l[d],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var E=this.options;if(E.filter&&!E.filter(o))return this;var F=wc(o,E);return F?(F.feature=Sc(o),F.defaultOptions=F.options,this.resetStyle(F),E.onEachFeature&&E.onEachFeature(o,F),this.addLayer(F)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function wc(o,l){var d=o.type==="Feature"?o.geometry:o,p=d?d.coordinates:null,_=[],E=l&&l.pointToLayer,F=l&&l.coordsToLatLng||Lf,j,q,X,ie;if(!p&&!d)return null;switch(d.type){case"Point":return j=F(p),Iv(E,o,j,l);case"MultiPoint":for(X=0,ie=p.length;X<ie;X++)j=F(p[X]),_.push(Iv(E,o,j,l));return new mt(_);case"LineString":case"MultiLineString":return q=Ec(p,d.type==="LineString"?0:1,F),new Wr(q,l);case"Polygon":case"MultiPolygon":return q=Ec(p,d.type==="Polygon"?1:2,F),new As(q,l);case"GeometryCollection":for(X=0,ie=d.geometries.length;X<ie;X++){var ve=wc({geometry:d.geometries[X],type:"Feature",properties:o.properties},l);ve&&_.push(ve)}return new mt(_);case"FeatureCollection":for(X=0,ie=d.features.length;X<ie;X++){var ke=wc(d.features[X],l);ke&&_.push(ke)}return new mt(_);default:throw new Error("Invalid GeoJSON object.")}}function Iv(o,l,d,p){return o?o(l,d):new vc(d,p&&p.markersInheritOptions&&p)}function Lf(o){return new ye(o[1],o[0],o[2])}function Ec(o,l,d){for(var p=[],_=0,E=o.length,F;_<E;_++)F=l?Ec(o[_],l-1,d):(d||Lf)(o[_]),p.push(F);return p}function Nf(o,l){return o=ce(o),o.alt!==void 0?[w(o.lng,l),w(o.lat,l),w(o.alt,l)]:[w(o.lng,l),w(o.lat,l)]}function Tc(o,l,d,p){for(var _=[],E=0,F=o.length;E<F;E++)_.push(l?Tc(o[E],u(o[E])?0:l-1,d,p):Nf(o[E],p));return!l&&d&&_.length>0&&_.push(_[0].slice()),_}function Rs(o,l){return o.feature?i({},o.feature,{geometry:l}):Sc(l)}function Sc(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Mf={toGeoJSON:function(o){return Rs(this,{type:"Point",coordinates:Nf(this.getLatLng(),o)})}};vc.include(Mf),Of.include(Mf),yc.include(Mf),Wr.include({toGeoJSON:function(o){var l=!u(this._latlngs),d=Tc(this._latlngs,l?1:0,!1,o);return Rs(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),As.include({toGeoJSON:function(o){var l=!u(this._latlngs),d=l&&!u(this._latlngs[0]),p=Tc(this._latlngs,d?2:l?1:0,!0,o);return l||(p=[p]),Rs(this,{type:(d?"Multi":"")+"Polygon",coordinates:p})}}),ot.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(o).geometry.coordinates)}),Rs(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var d=l==="GeometryCollection",p=[];return this.eachLayer(function(_){if(_.toGeoJSON){var E=_.toGeoJSON(o);if(d)p.push(E.geometry);else{var F=Sc(E);F.type==="FeatureCollection"?p.push.apply(p,F.features):p.push(F)}}}),d?Rs(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function Pv(o,l){return new qr(o,l)}var TC=Pv,Ic=Ke.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,d){this._url=o,this._bounds=Ae(l),R(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ze(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&zr(this._image),this},bringToBack:function(){return this._map&&wi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Ae(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:Le("img");if(Ie(l,"leaflet-image-layer"),this._zoomAnimated&&Ie(l,"leaflet-zoom-animated"),this.options.className&&Ie(l,this.options.className),l.onselectstart=v,l.onmousemove=v,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;pr(this._image,d,l)},_reset:function(){var o=this._image,l=new le(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();we(o,l.min),o.style.width=d.x+"px",o.style.height=d.y+"px"},_updateOpacity:function(){ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),SC=function(o,l,d){return new Ic(o,l,d)},Cv=Ic.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:Le("video");if(Ie(l,"leaflet-image-layer"),this._zoomAnimated&&Ie(l,"leaflet-zoom-animated"),this.options.className&&Ie(l,this.options.className),l.onselectstart=v,l.onmousemove=v,l.onloadeddata=a(this.fire,this,"load"),o){for(var d=l.getElementsByTagName("source"),p=[],_=0;_<d.length;_++)p.push(d[_].src);this._url=d.length>0?p:[l.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var F=Le("source");F.src=this._url[E],l.appendChild(F)}}});function IC(o,l,d){return new Cv(o,l,d)}var bv=Ic.extend({_initImage:function(){var o=this._image=this._url;Ie(o,"leaflet-image-layer"),this._zoomAnimated&&Ie(o,"leaflet-zoom-animated"),this.options.className&&Ie(o,this.options.className),o.onselectstart=v,o.onmousemove=v}});function PC(o,l,d){return new bv(o,l,d)}var _r=Ke.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof ye||A(o))?(this._latlng=ce(o),R(this,l)):(R(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&ct(this._container,1),this.bringToFront(),this.options.interactive&&(Ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(ct(this._container,0),this._removeTimeout=setTimeout(a(Ze,void 0,this._container),200)):Ze(this._container),this.options.interactive&&(et(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ce(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zr(this._container),this},bringToBack:function(){return this._map&&wi(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof mt){l=null;var d=this._source._layers;for(var p in d)if(d[p]._map){l=d[p];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=Q(this.options.offset),d=this._getAnchor();this._zoomAnimated?we(this._container,o.add(d)):l=l.add(o).add(d);var p=this._containerBottom=-l.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});xe.include({_initOverlay:function(o,l,d,p){var _=l;return _ instanceof o||(_=new o(p).setContent(l)),d&&_.setLatLng(d),_}}),Ke.include({_initOverlay:function(o,l,d,p){var _=d;return _ instanceof o?(R(_,p),_._source=this):(_=l&&!p?l:new o(p,this),_.setContent(d)),_}});var Pc=_r.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,_r.prototype.openOn.call(this,o)},onAdd:function(o){_r.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ci||this._source.on("preclick",En))},onRemove:function(o){_r.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ci||this._source.off("preclick",En))},getEvents:function(){var o=_r.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=Le("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Le("div",o+"-content-wrapper",l);if(this._contentNode=Le("div",o+"-content",d),Si(l),Ti(this._contentNode),_e(l,"contextmenu",En),this._tipContainer=Le("div",o+"-tip-container",l),this._tip=Le("div",o+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Le("a",o+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',_e(p,"click",function(_){it(_),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var d=o.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var p=o.offsetHeight,_=this.options.maxHeight,E="leaflet-popup-scrolled";_&&p>_?(l.height=_+"px",Ie(o,E)):et(o,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),d=this._getAnchor();we(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(yi(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,p=this._containerWidth,_=new G(this._containerLeft,-d-this._containerBottom);_._add(Vn(this._container));var E=o.layerPointToContainerPoint(_),F=Q(this.options.autoPanPadding),j=Q(this.options.autoPanPaddingTopLeft||F),q=Q(this.options.autoPanPaddingBottomRight||F),X=o.getSize(),ie=0,ve=0;E.x+p+q.x>X.x&&(ie=E.x+p-X.x+q.x),E.x-ie-j.x<0&&(ie=E.x-j.x),E.y+d+q.y>X.y&&(ve=E.y+d-X.y+q.y),E.y-ve-j.y<0&&(ve=E.y-j.y),(ie||ve)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([ie,ve]))}},_getAnchor:function(){return Q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),CC=function(o,l){return new Pc(o,l)};xe.mergeOptions({closePopupOnClick:!0}),xe.include({openPopup:function(o,l,d){return this._initOverlay(Pc,o,l,d).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Ke.include({bindPopup:function(o,l){return this._popup=this._initOverlay(Pc,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof mt||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Tn(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof Ci)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Cc=_r.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){_r.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){_r.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=_r.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Le("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,d,p=this._map,_=this._container,E=p.latLngToContainerPoint(p.getCenter()),F=p.layerPointToContainerPoint(o),j=this.options.direction,q=_.offsetWidth,X=_.offsetHeight,ie=Q(this.options.offset),ve=this._getAnchor();j==="top"?(l=q/2,d=X):j==="bottom"?(l=q/2,d=0):j==="center"?(l=q/2,d=X/2):j==="right"?(l=0,d=X/2):j==="left"?(l=q,d=X/2):F.x<E.x?(j="right",l=0,d=X/2):(j="left",l=q+(ie.x+ve.x)*2,d=X/2),o=o.subtract(Q(l,d,!0)).add(ie).add(ve),et(_,"leaflet-tooltip-right"),et(_,"leaflet-tooltip-left"),et(_,"leaflet-tooltip-top"),et(_,"leaflet-tooltip-bottom"),Ie(_,"leaflet-tooltip-"+j),we(_,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&ct(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return Q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),bC=function(o,l){return new Cc(o,l)};xe.include({openTooltip:function(o,l,d){return this._initOverlay(Cc,o,l,d).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Ke.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Cc,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof mt||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(_e(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),_e(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,d,p;this._tooltip.options.sticky&&o.originalEvent&&(d=this._map.mouseEventToContainerPoint(o.originalEvent),p=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var Av=gr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),d=this.options;if(d.html instanceof Element?(yo(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var p=Q(d.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function AC(o){return new Av(o)}gr.Default=dl;var fl=Ke.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ue.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){R(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Ze(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof G?o:new G(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,d=-o(-1/0,1/0),p=0,_=l.length,E;p<_;p++)E=l[p].style.zIndex,l[p]!==this._container&&E&&(d=o(d,+E));isFinite(d)&&(this.options.zIndex=d+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ue.ielt9){ct(this._container,this.options.opacity);var o=+new Date,l=!1,d=!1;for(var p in this._tiles){var _=this._tiles[p];if(!(!_.current||!_.loaded)){var E=Math.min(1,(o-_.loaded)/200);ct(_.el,E),E<1?l=!0:(_.active?d=!0:this._onOpaqueTile(_),_.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(U(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=Le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===o?(this._levels[d].el.style.zIndex=l-Math.abs(o-d),this._onUpdateLevel(d)):(Ze(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var p=this._levels[o],_=this._map;return p||(p=this._levels[o]={},p.el=Le("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=_.project(_.unproject(_.getPixelOrigin()),o).round(),p.zoom=o,this._setZoomTransform(p,_.getCenter(),_.getZoom()),v(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var o,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Ze(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,d,p){var _=Math.floor(o/2),E=Math.floor(l/2),F=d-1,j=new G(+_,+E);j.z=+F;var q=this._tileCoordsToKey(j),X=this._tiles[q];return X&&X.active?(X.retain=!0,!0):(X&&X.loaded&&(X.retain=!0),F>p?this._retainParent(_,E,F,p):!1)},_retainChildren:function(o,l,d,p){for(var _=2*o;_<2*o+2;_++)for(var E=2*l;E<2*l+2;E++){var F=new G(_,E);F.z=d+1;var j=this._tileCoordsToKey(F),q=this._tiles[j];if(q&&q.active){q.retain=!0;continue}else q&&q.loaded&&(q.retain=!0);d+1<p&&this._retainChildren(_,E,d+1,p)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,d,p){var _=Math.round(l);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var E=this.options.updateWhenZooming&&_!==this._tileZoom;(!p||E)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(o),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],o,l)},_setZoomTransform:function(o,l,d){var p=this._map.getZoomScale(d,o.zoom),_=o.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,d)).round();ue.any3d?pr(o.el,_,p):we(o.el,_)},_resetGrid:function(){var o=this._map,l=o.options.crs,d=this._tileSize=this.getTileSize(),p=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],p).x/d.x),Math.ceil(o.project([0,l.wrapLng[1]],p).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],p).y/d.x),Math.ceil(o.project([l.wrapLat[1],0],p).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(d,this._tileZoom),_=l.project(o,this._tileZoom).floor(),E=l.getSize().divideBy(p*2);return new le(_.subtract(E),_.add(E))},_update:function(o){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(o),_=this._pxBoundsToTileRange(p),E=_.getCenter(),F=[],j=this.options.keepBuffer,q=new le(_.getBottomLeft().subtract([j,-j]),_.getTopRight().add([j,-j]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var X in this._tiles){var ie=this._tiles[X].coords;(ie.z!==this._tileZoom||!q.contains(new G(ie.x,ie.y)))&&(this._tiles[X].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(o,d);return}for(var ve=_.min.y;ve<=_.max.y;ve++)for(var ke=_.min.x;ke<=_.max.x;ke++){var on=new G(ke,ve);if(on.z=this._tileZoom,!!this._isValidTile(on)){var Ot=this._tiles[this._tileCoordsToKey(on)];Ot?Ot.current=!0:F.push(on)}}if(F.sort(function(dn,xs){return dn.distanceTo(E)-xs.distanceTo(E)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Bn=document.createDocumentFragment();for(ke=0;ke<F.length;ke++)this._addTile(F[ke],Bn);this._level.el.appendChild(Bn)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(o.x<d.min.x||o.x>d.max.x)||!l.wrapLat&&(o.y<d.min.y||o.y>d.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(o);return Ae(this.options.bounds).overlaps(p)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,d=this.getTileSize(),p=o.scaleBy(d),_=p.add(d),E=l.unproject(p,o.z),F=l.unproject(_,o.z);return[E,F]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),d=new me(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),d=new G(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(o){var l=this._tiles[o];l&&(Ze(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ie(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=v,o.onmousemove=v,ue.ielt9&&this.options.opacity<1&&ct(o,this.options.opacity)},_addTile:function(o,l){var d=this._getTilePos(o),p=this._tileCoordsToKey(o),_=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(_),this.createTile.length<2&&V(a(this._tileReady,this,o,null,_)),we(_,d),this._tiles[p]={el:_,coords:o,current:!0},l.appendChild(_),this.fire("tileloadstart",{tile:_,coords:o})},_tileReady:function(o,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:o});var p=this._tileCoordsToKey(o);d=this._tiles[p],d&&(d.loaded=+new Date,this._map._fadeAnimated?(ct(d.el,0),U(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(Ie(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ue.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new G(this._wrapX?g(o.x,this._wrapX):o.x,this._wrapY?g(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new le(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function RC(o){return new fl(o)}var ks=fl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=R(this,l),l.detectRetina&&ue.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var d=document.createElement("img");return _e(d,"load",a(this._tileOnLoad,this,l,d)),_e(d,"error",a(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(o),d},getTileUrl:function(o){var l={r:ue.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=d),l["-y"]=d}return I(this._url,i(l,this.options))},_tileOnLoad:function(o,l){ue.ielt9?setTimeout(a(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,d){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),o(d,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,p=this.options.zoomOffset;return d&&(o=l-o),o+p},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=v,l.onerror=v,!l.complete)){l.src=W;var d=this._tiles[o].coords;Ze(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",W),fl.prototype._removeTile.call(this,o)},_tileReady:function(o,l,d){if(!(!this._map||d&&d.getAttribute("src")===W))return fl.prototype._tileReady.call(this,o,l,d)}});function Rv(o,l){return new ks(o,l)}var kv=ks.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var d=i({},this.defaultWmsParams);for(var p in l)p in this.options||(d[p]=l[p]);l=R(this,l);var _=l.detectRetina&&ue.retina?2:1,E=this.getTileSize();d.width=E.x*_,d.height=E.y*_,this.wmsParams=d},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ks.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),d=this._crs,p=oe(d.project(l[0]),d.project(l[1])),_=p.min,E=p.max,F=(this._wmsVersion>=1.3&&this._crs===yt?[_.y,_.x,E.y,E.x]:[_.x,_.y,E.x,E.y]).join(","),j=ks.prototype.getTileUrl.call(this,o);return j+O(this.wmsParams,j,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(o,l){return i(this.wmsParams,o),l||this.redraw(),this}});function kC(o,l){return new kv(o,l)}ks.WMS=kv,Rv.wms=kC;var Gr=Ke.extend({options:{padding:.1},initialize:function(o){R(this,o),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var d=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,l),E=p.multiplyBy(-d).add(_).subtract(this._map._getNewPixelOrigin(o,l));ue.any3d?pr(this._container,E,d):we(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new le(d,d.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xv=Gr.extend({options:{tolerance:0},getEvents:function(){var o=Gr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");_e(o,"mousemove",this._onMouseMove,this),_e(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_e(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Ze(this._container),Ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gr.prototype._update.call(this);var o=this._bounds,l=this._container,d=o.getSize(),p=ue.retina?2:1;we(l,o.min),l.width=p*d.x,l.height=p*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",ue.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Gr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[h(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,d=l.next,p=l.prev;d?d.prev=p:this._drawLast=p,p?p.next=d:this._drawFirst=d,delete o._order,delete this._layers[h(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),d=[],p,_;for(_=0;_<l.length;_++){if(p=Number(l[_]),isNaN(p))return;d.push(p)}o.options._dashArray=d}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new le,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)o=p.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var d,p,_,E,F=o._parts,j=F.length,q=this._ctx;if(j){for(q.beginPath(),d=0;d<j;d++){for(p=0,_=F[d].length;p<_;p++)E=F[d][p],q[p?"lineTo":"moveTo"](E.x,E.y);l&&q.closePath()}this._fillStroke(q,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,d=this._ctx,p=Math.max(Math.round(o._radius),1),_=(Math.max(Math.round(o._radiusY),1)||p)/p;_!==1&&(d.save(),d.scale(1,_)),d.beginPath(),d.arc(l.x,l.y/_,p,0,Math.PI*2,!1),_!==1&&d.restore(),this._fillStroke(d,o)}},_fillStroke:function(o,l){var d=l.options;d.fill&&(o.globalAlpha=d.fillOpacity,o.fillStyle=d.fillColor||d.color,o.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=d.opacity,o.lineWidth=d.weight,o.strokeStyle=d.color,o.lineCap=d.lineCap,o.lineJoin=d.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),d,p,_=this._drawFirst;_;_=_.next)d=_.layer,d.options.interactive&&d._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(d))&&(p=d);this._fireEvent(p?[p]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(et(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var d,p,_=this._drawFirst;_;_=_.next)d=_.layer,d.options.interactive&&d._containsPoint(l)&&(p=d);p!==this._hoveredLayer&&(this._handleMouseOut(o),p&&(Ie(this._container,"leaflet-interactive"),this._fireEvent([p],o,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,d){this._map._fireDOMEvent(l,d||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var d=l.next,p=l.prev;if(d)d.prev=p;else return;p?p.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var d=l.next,p=l.prev;if(p)p.next=d;else return;d?d.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function Ov(o){return ue.canvas?new xv(o):null}var pl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),xC={_initContainer:function(){this._container=Le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=pl("shape");Ie(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=pl("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[h(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;Ze(l),o.removeInteractiveTarget(l),delete this._layers[h(o)]},_updateStyle:function(o){var l=o._stroke,d=o._fill,p=o.options,_=o._container;_.stroked=!!p.stroke,_.filled=!!p.fill,p.stroke?(l||(l=o._stroke=pl("stroke")),_.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=A(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(_.removeChild(l),o._stroke=null),p.fill?(d||(d=o._fill=pl("fill")),_.appendChild(d),d.color=p.fillColor||p.color,d.opacity=p.fillOpacity):d&&(_.removeChild(d),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),d=Math.round(o._radius),p=Math.round(o._radiusY||d);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+p+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){zr(o._container)},_bringToBack:function(o){wi(o._container)}},bc=ue.vml?pl:_i,ml=Gr.extend({_initContainer:function(){this._container=bc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=bc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ze(this._container),Ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gr.prototype._update.call(this);var o=this._bounds,l=o.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),we(d,o.min),d.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=bc("path");o.options.className&&Ie(l,o.options.className),o.options.interactive&&Ie(l,"leaflet-interactive"),this._updateStyle(o),this._layers[h(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Ze(o._path),o.removeInteractiveTarget(o._path),delete this._layers[h(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,d=o.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,Ma(o._parts,l))},_updateCircle:function(o){var l=o._point,d=Math.max(Math.round(o._radius),1),p=Math.max(Math.round(o._radiusY),1)||d,_="a"+d+","+p+" 0 1,0 ",E=o._empty()?"M0 0":"M"+(l.x-d)+","+l.y+_+d*2+",0 "+_+-d*2+",0 ";this._setPath(o,E)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){zr(o._path)},_bringToBack:function(o){wi(o._path)}});ue.vml&&ml.include(xC);function Lv(o){return ue.svg||ue.vml?new ml(o):null}xe.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&Ov(o)||Lv(o)}});var Nv=As.extend({initialize:function(o,l){As.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Ae(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function OC(o,l){return new Nv(o,l)}ml.create=bc,ml.pointsToPath=Ma,qr.geometryToLayer=wc,qr.coordsToLatLng=Lf,qr.coordsToLatLngs=Ec,qr.latLngToCoords=Nf,qr.latLngsToCoords=Tc,qr.getFeature=Rs,qr.asFeature=Sc,xe.mergeOptions({boxZoom:!0});var Mv=Sn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ze(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yn(),Ya(),this._startPoint=this._map.mouseEventToContainerPoint(o),_e(document,{contextmenu:Tn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Le("div","leaflet-zoom-box",this._container),Ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new le(this._point,this._startPoint),d=l.getSize();we(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Ze(this._box),et(this._container,"leaflet-crosshair")),Jn(),Ja(),Ge(document,{contextmenu:Tn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xe.addInitHook("addHandler","boxZoom",Mv),xe.mergeOptions({doubleClickZoom:!0});var Dv=Sn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,d=l.getZoom(),p=l.options.zoomDelta,_=o.originalEvent.shiftKey?d-p:d+p;l.options.doubleClickZoom==="center"?l.setZoom(_):l.setZoomAround(o.containerPoint,_)}});xe.addInitHook("addHandler","doubleClickZoom",Dv),xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vv=Sn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new er(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){et(this._map._container,"leaflet-grab"),et(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Ae(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),d=this._initialWorldOffset,p=this._draggable._newPos.x,_=(p-l+d)%o+l-d,E=(p+l+d)%o-l-d,F=Math.abs(_+d)<Math.abs(E+d)?_:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(o){var l=this._map,d=l.options,p=!d.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),p)l.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,F=d.easeLinearity,j=_.multiplyBy(F/E),q=j.distanceTo([0,0]),X=Math.min(d.inertiaMaxSpeed,q),ie=j.multiplyBy(X/q),ve=X/(d.inertiaDeceleration*F),ke=ie.multiplyBy(-ve/2).round();!ke.x&&!ke.y?l.fire("moveend"):(ke=l._limitOffset(ke,l.options.maxBounds),V(function(){l.panBy(ke,{duration:ve,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});xe.addInitHook("addHandler","dragging",Vv),xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Fv=Sn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),_e(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,d=o.scrollTop||l.scrollTop,p=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},d=this.keyCodes,p,_;for(p=0,_=d.left.length;p<_;p++)l[d.left[p]]=[-1*o,0];for(p=0,_=d.right.length;p<_;p++)l[d.right[p]]=[o,0];for(p=0,_=d.down.length;p<_;p++)l[d.down[p]]=[0,o];for(p=0,_=d.up.length;p<_;p++)l[d.up[p]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},d=this.keyCodes,p,_;for(p=0,_=d.zoomIn.length;p<_;p++)l[d.zoomIn[p]]=o;for(p=0,_=d.zoomOut.length;p<_;p++)l[d.zoomOut[p]]=-o},_addHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,d=this._map,p;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(p=this._panKeys[l],o.shiftKey&&(p=Q(p).multiplyBy(3)),d.options.maxBounds&&(p=d._limitOffset(Q(p),d.options.maxBounds)),d.options.worldCopyJump){var _=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(p)));d.panTo(_)}else d.panBy(p)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Tn(o)}}});xe.addInitHook("addHandler","keyboard",Fv),xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Uv=Sn.extend({addHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=hc(o),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var p=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),p),Tn(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),d=this._map.options.zoomSnap||0;o._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,E=d?Math.ceil(_/d)*d:_,F=o._limitZoom(l+(this._delta>0?E:-E))-l;this._delta=0,this._startTime=null,F&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+F):o.setZoomAround(this._lastMousePos,l+F))}});xe.addInitHook("addHandler","scrollWheelZoom",Uv);var LC=600;xe.mergeOptions({tapHold:ue.touchNative&&ue.safari&&ue.mobile,tapTolerance:15});var zv=Sn.extend({addHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new G(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(_e(document,"touchend",it),_e(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),LC),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ge(document,"touchend",it),Ge(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new G(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var d=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});xe.addInitHook("addHandler","tapHold",zv),xe.mergeOptions({touchZoom:ue.touch,bounceAtZoomLimits:!0});var Bv=Sn.extend({addHooks:function(){Ie(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){et(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(o.touches[0]),p=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(p)._divideBy(2))),this._startDist=d.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),it(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(o.touches[0]),p=l.mouseEventToContainerPoint(o.touches[1]),_=d.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(_,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&_<1||this._zoom>l.getMaxZoom()&&_>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var E=d._add(p)._divideBy(2)._subtract(this._centerPoint);if(_===1&&E.x===0&&E.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var F=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(F,this,!0),it(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xe.addInitHook("addHandler","touchZoom",Bv),xe.BoxZoom=Mv,xe.DoubleClickZoom=Dv,xe.Drag=Vv,xe.Keyboard=Fv,xe.ScrollWheelZoom=Uv,xe.TapHold=zv,xe.TouchZoom=Bv,n.Bounds=le,n.Browser=ue,n.CRS=qe,n.Canvas=xv,n.Circle=Of,n.CircleMarker=yc,n.Class=Re,n.Control=hn,n.DivIcon=Av,n.DivOverlay=_r,n.DomEvent=dc,n.DomUtil=uc,n.Draggable=er,n.Evented=be,n.FeatureGroup=mt,n.GeoJSON=qr,n.GridLayer=fl,n.Handler=Sn,n.Icon=gr,n.ImageOverlay=Ic,n.LatLng=ye,n.LatLngBounds=me,n.Layer=Ke,n.LayerGroup=ot,n.LineUtil=P,n.Map=xe,n.Marker=vc,n.Mixin=wo,n.Path=Ci,n.Point=G,n.PolyUtil=Ps,n.Polygon=As,n.Polyline=Wr,n.Popup=Pc,n.PosAnimation=sl,n.Projection=ne,n.Rectangle=Nv,n.Renderer=Gr,n.SVG=ml,n.SVGOverlay=bv,n.TileLayer=ks,n.Tooltip=Cc,n.Transformation=Zn,n.Util=M,n.VideoOverlay=Cv,n.bind=a,n.bounds=oe,n.canvas=Ov,n.circle=yC,n.circleMarker=vC,n.control=rn,n.divIcon=AC,n.extend=i,n.featureGroup=bs,n.geoJSON=Pv,n.geoJson=TC,n.gridLayer=RC,n.icon=gC,n.imageOverlay=SC,n.latLng=ce,n.latLngBounds=Ae,n.layerGroup=Pi,n.map=ys,n.marker=_C,n.point=Q,n.polygon=EC,n.polyline=wC,n.popup=CC,n.rectangle=OC,n.setOptions=R,n.stamp=h,n.svg=Lv,n.svgOverlay=PC,n.tileLayer=Rv,n.tooltip=bC,n.transformation=Nn,n.version=r,n.videoOverlay=IC;var NC=window.L;n.noConflict=function(){return window.L=NC,this},window.L=n})})(Am,Am.exports);var Lu=Am.exports;const vR=aE(Lu);function c_(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function h_(t,e){return e==null?function(r,i){const s=H.useRef();return s.current||(s.current=t(r,i)),s}:function(r,i){const s=H.useRef();s.current||(s.current=t(r,i));const a=H.useRef(r),{instance:c}=s.current;return H.useEffect(function(){a.current!==r&&(e(c,r,a.current),a.current=r)},[c,r,i]),s}}function yR(t,e){H.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function TS(t){return function(n){const r=l_(),i=t(u_(n,r),r);return vS(r.map,n.attribution),ES(i.current,n.eventHandlers),yR(i.current,r),i}}function wR(t,e){const n=h_(t,e),r=TS(n);return pR(r)}function ER(t,e){const n=h_(t),r=_R(n,e);return mR(r)}function TR(t,e){const n=h_(t,e),r=TS(n);return gR(r)}function SR(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function IR(){return l_().map}function Rm(){return Rm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rm.apply(this,arguments)}function PR({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:s,placeholder:a,style:c,whenReady:h,zoom:f,...g},v){const[w]=H.useState({className:i,id:s,style:c}),[C,k]=H.useState(null);H.useImperativeHandle(v,()=>(C==null?void 0:C.map)??null,[C]);const R=H.useCallback(S=>{if(S!==null&&C===null){const I=new Lu.Map(S,g);n!=null&&f!=null?I.setView(n,f):t!=null&&I.fitBounds(t,e),h!=null&&I.whenReady(h),k(dR(I))}},[]);H.useEffect(()=>()=>{C==null||C.map.remove()},[C]);const O=C?D.createElement(wS,{value:C},r):a??null;return D.createElement("div",Rm({},w,{ref:R}),O)}const CR=H.forwardRef(PR),bR=wR(function({position:e,...n},r){const i=new Lu.Marker(e,n);return c_(i,fR(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),AR=ER(function(e,n){const r=new Lu.Popup(e,n.overlayContainer);return c_(r,n)},function(e,n,{position:r},i){H.useEffect(function(){const{instance:a}=e;function c(f){f.popup===a&&(a.update(),i(!0))}function h(f){f.popup===a&&i(!1)}return n.map.on({popupopen:c,popupclose:h}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var g;n.map.off({popupopen:c,popupclose:h}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(a)}},[e,n,i,r])}),RR=TR(function({url:e,...n},r){const i=new Lu.TileLayer(e,u_(n,r));return c_(i,r)},function(e,n,r){SR(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),kR=`
  <svg xmlns="http://www.w3.org/2000/svg" width="39" height="39" viewBox="0 0 24 24" fill="#808080">
    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
  </svg>`,xR=`
  <svg xmlns="http://www.w3.org/2000/svg" width="39" height="39" viewBox="0 0 24 24" fill="#622F22">
    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
  </svg>`,OR=t=>new vR.DivIcon({html:t==="red"?xR:kR,iconSize:[32,32],className:""}),LR=({selectedTherapist:t,userLocation:e})=>{const n=IR();return H.useEffect(()=>{t&&t.lat&&t.lng?(console.log(`Updating map view to therapist location: ${t.lat}, ${t.lng}`),n.setView([t.lat,t.lng],14)):e&&(console.log(`Updating map view to user location: ${e.lat}, ${e.lng}`),n.setView([e.lat,e.lng],14))},[t,e,n]),null},NR=({markers:t,userLocation:e,selectedTherapist:n})=>(H.useEffect(()=>{console.log("Markers:",t)},[t]),D.createElement(CR,{center:[31.0461,34.8516],zoom:8,style:{height:"100%",width:"100%"}},D.createElement(RR,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),t.map((r,i)=>D.createElement(bR,{key:i,position:[r.lat,r.lng],icon:OR(r.isSelected?"red":"grey")},D.createElement(AR,null,r.name))),D.createElement(LR,{selectedTherapist:n,userLocation:e})));function jo(t){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(t)}function MR(t,e){if(jo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SS(t){var e=MR(t,"string");return jo(e)=="symbol"?e:e+""}function Ll(t,e,n){return(e=SS(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tw(Object(n),!0).forEach(function(r){Ll(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DR(t){if(Array.isArray(t))return t}function VR(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],h=!0,f=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);h=!0);}catch(g){f=!0,i=g}finally{try{if(!h&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return c}}function km(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function IS(t,e){if(t){if(typeof t=="string")return km(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?km(t,e):void 0}}function FR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ii(t,e){return DR(t)||VR(t,e)||IS(t,e)||FR()}function UR(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function mi(t,e){if(t==null)return{};var n,r,i=UR(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var zR=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function BR(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,a=s===void 0?null:s,c=t.inputValue,h=t.menuIsOpen,f=t.onChange,g=t.onInputChange,v=t.onMenuClose,w=t.onMenuOpen,C=t.value,k=mi(t,zR),R=H.useState(c!==void 0?c:n),O=ii(R,2),S=O[0],I=O[1],A=H.useState(h!==void 0?h:i),z=ii(A,2),W=z[0],$=z[1],b=H.useState(C!==void 0?C:a),T=ii(b,2),N=T[0],x=T[1],V=H.useCallback(function(G,re){typeof f=="function"&&f(G,re),x(G)},[f]),U=H.useCallback(function(G,re){var Q;typeof g=="function"&&(Q=g(G,re)),I(Q!==void 0?Q:G)},[g]),M=H.useCallback(function(){typeof w=="function"&&w(),$(!0)},[w]),Re=H.useCallback(function(){typeof v=="function"&&v(),$(!1)},[v]),De=c!==void 0?c:S,te=h!==void 0?h:W,be=C!==void 0?C:N;return fe(fe({},k),{},{inputValue:De,menuIsOpen:te,onChange:V,onInputChange:U,onMenuClose:Re,onMenuOpen:M,value:be})}function ge(){return ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ge.apply(null,arguments)}function jR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SS(r.key),r)}}function $R(t,e,n){return e&&nw(t.prototype,e),n&&nw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xm(t,e){return xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xm(t,e)}function HR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xm(t,e)}function rd(t){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rd(t)}function PS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PS=function(){return!!t})()}function WR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qR(t,e){if(e&&(jo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WR(t)}function GR(t){var e=PS();return function(){var n,r=rd(t);if(e){var i=rd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qR(this,n)}}function KR(t){if(Array.isArray(t))return km(t)}function ZR(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d_(t){return KR(t)||ZR(t)||IS(t)||QR()}var XR=!1;function YR(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function JR(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ek=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!XR:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(JR(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=YR(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Qt="-ms-",id="-moz-",ze="-webkit-",CS="comm",f_="rule",p_="decl",tk="@import",bS="@keyframes",nk="@layer",rk=Math.abs,Wd=String.fromCharCode,ik=Object.assign;function ok(t,e){return Bt(t,0)^45?(((e<<2^Bt(t,0))<<2^Bt(t,1))<<2^Bt(t,2))<<2^Bt(t,3):0}function AS(t){return t.trim()}function sk(t,e){return(t=e.exec(t))?t[0]:t}function Be(t,e,n){return t.replace(e,n)}function Om(t,e){return t.indexOf(e)}function Bt(t,e){return t.charCodeAt(e)|0}function mu(t,e,n){return t.slice(e,n)}function wr(t){return t.length}function m_(t){return t.length}function qc(t,e){return e.push(t),t}function ak(t,e){return t.map(e).join("")}var qd=1,pa=1,RS=0,yn=0,St=0,ba="";function Gd(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:qd,column:pa,length:a,return:""}}function Il(t,e){return ik(Gd("",null,null,"",null,null,0),t,{length:-t.length},e)}function lk(){return St}function uk(){return St=yn>0?Bt(ba,--yn):0,pa--,St===10&&(pa=1,qd--),St}function An(){return St=yn<RS?Bt(ba,yn++):0,pa++,St===10&&(pa=1,qd++),St}function Cr(){return Bt(ba,yn)}function vh(){return yn}function Nu(t,e){return mu(ba,t,e)}function gu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kS(t){return qd=pa=1,RS=wr(ba=t),yn=0,[]}function xS(t){return ba="",t}function yh(t){return AS(Nu(yn-1,Lm(t===91?t+2:t===40?t+1:t)))}function ck(t){for(;(St=Cr())&&St<33;)An();return gu(t)>2||gu(St)>3?"":" "}function hk(t,e){for(;--e&&An()&&!(St<48||St>102||St>57&&St<65||St>70&&St<97););return Nu(t,vh()+(e<6&&Cr()==32&&An()==32))}function Lm(t){for(;An();)switch(St){case t:return yn;case 34:case 39:t!==34&&t!==39&&Lm(St);break;case 40:t===41&&Lm(t);break;case 92:An();break}return yn}function dk(t,e){for(;An()&&t+St!==57;)if(t+St===84&&Cr()===47)break;return"/*"+Nu(e,yn-1)+"*"+Wd(t===47?t:An())}function fk(t){for(;!gu(Cr());)An();return Nu(t,yn)}function pk(t){return xS(wh("",null,null,null,[""],t=kS(t),0,[0],t))}function wh(t,e,n,r,i,s,a,c,h){for(var f=0,g=0,v=a,w=0,C=0,k=0,R=1,O=1,S=1,I=0,A="",z=i,W=s,$=r,b=A;O;)switch(k=I,I=An()){case 40:if(k!=108&&Bt(b,v-1)==58){Om(b+=Be(yh(I),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:b+=yh(I);break;case 9:case 10:case 13:case 32:b+=ck(k);break;case 92:b+=hk(vh()-1,7);continue;case 47:switch(Cr()){case 42:case 47:qc(mk(dk(An(),vh()),e,n),h);break;default:b+="/"}break;case 123*R:c[f++]=wr(b)*S;case 125*R:case 59:case 0:switch(I){case 0:case 125:O=0;case 59+g:S==-1&&(b=Be(b,/\f/g,"")),C>0&&wr(b)-v&&qc(C>32?iw(b+";",r,n,v-1):iw(Be(b," ","")+";",r,n,v-2),h);break;case 59:b+=";";default:if(qc($=rw(b,e,n,f,g,i,c,A,z=[],W=[],v),s),I===123)if(g===0)wh(b,e,$,$,z,s,v,c,W);else switch(w===99&&Bt(b,3)===110?100:w){case 100:case 108:case 109:case 115:wh(t,$,$,r&&qc(rw(t,$,$,0,0,i,c,A,i,z=[],v),W),i,W,v,c,r?z:W);break;default:wh(b,$,$,$,[""],W,0,c,W)}}f=g=C=0,R=S=1,A=b="",v=a;break;case 58:v=1+wr(b),C=k;default:if(R<1){if(I==123)--R;else if(I==125&&R++==0&&uk()==125)continue}switch(b+=Wd(I),I*R){case 38:S=g>0?1:(b+="\f",-1);break;case 44:c[f++]=(wr(b)-1)*S,S=1;break;case 64:Cr()===45&&(b+=yh(An())),w=Cr(),g=v=wr(A=b+=fk(vh())),I++;break;case 45:k===45&&wr(b)==2&&(R=0)}}return s}function rw(t,e,n,r,i,s,a,c,h,f,g){for(var v=i-1,w=i===0?s:[""],C=m_(w),k=0,R=0,O=0;k<r;++k)for(var S=0,I=mu(t,v+1,v=rk(R=a[k])),A=t;S<C;++S)(A=AS(R>0?w[S]+" "+I:Be(I,/&\f/g,w[S])))&&(h[O++]=A);return Gd(t,e,n,i===0?f_:c,h,f,g)}function mk(t,e,n){return Gd(t,e,n,CS,Wd(lk()),mu(t,2,-2),0)}function iw(t,e,n,r){return Gd(t,e,n,p_,mu(t,0,r),mu(t,r+1,-1),r)}function ta(t,e){for(var n="",r=m_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function gk(t,e,n,r){switch(t.type){case nk:if(t.children.length)break;case tk:case p_:return t.return=t.return||t.value;case CS:return"";case bS:return t.return=t.value+"{"+ta(t.children,r)+"}";case f_:t.value=t.props.join(",")}return wr(n=ta(t.children,r))?t.return=t.value+"{"+n+"}":""}function _k(t){var e=m_(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function vk(t){return function(e){e.root||(e=e.return)&&t(e)}}function yk(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var wk=function(e,n,r){for(var i=0,s=0;i=s,s=Cr(),i===38&&s===12&&(n[r]=1),!gu(s);)An();return Nu(e,yn)},Ek=function(e,n){var r=-1,i=44;do switch(gu(i)){case 0:i===38&&Cr()===12&&(n[r]=1),e[r]+=wk(yn-1,n,r);break;case 2:e[r]+=yh(i);break;case 4:if(i===44){e[++r]=Cr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Wd(i)}while(i=An());return e},Tk=function(e,n){return xS(Ek(kS(e),n))},ow=new WeakMap,Sk=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!ow.get(r))&&!i){ow.set(e,!0);for(var s=[],a=Tk(n,s),c=r.props,h=0,f=0;h<a.length;h++)for(var g=0;g<c.length;g++,f++)e.props[f]=s[h]?a[h].replace(/&\f/g,c[g]):c[g]+" "+a[h]}}},Ik=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function OS(t,e){switch(ok(t,e)){case 5103:return ze+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ze+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ze+t+id+t+Qt+t+t;case 6828:case 4268:return ze+t+Qt+t+t;case 6165:return ze+t+Qt+"flex-"+t+t;case 5187:return ze+t+Be(t,/(\w+).+(:[^]+)/,ze+"box-$1$2"+Qt+"flex-$1$2")+t;case 5443:return ze+t+Qt+"flex-item-"+Be(t,/flex-|-self/,"")+t;case 4675:return ze+t+Qt+"flex-line-pack"+Be(t,/align-content|flex-|-self/,"")+t;case 5548:return ze+t+Qt+Be(t,"shrink","negative")+t;case 5292:return ze+t+Qt+Be(t,"basis","preferred-size")+t;case 6060:return ze+"box-"+Be(t,"-grow","")+ze+t+Qt+Be(t,"grow","positive")+t;case 4554:return ze+Be(t,/([^-])(transform)/g,"$1"+ze+"$2")+t;case 6187:return Be(Be(Be(t,/(zoom-|grab)/,ze+"$1"),/(image-set)/,ze+"$1"),t,"")+t;case 5495:case 3959:return Be(t,/(image-set\([^]*)/,ze+"$1$`$1");case 4968:return Be(Be(t,/(.+:)(flex-)?(.*)/,ze+"box-pack:$3"+Qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ze+t+t;case 4095:case 3583:case 4068:case 2532:return Be(t,/(.+)-inline(.+)/,ze+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wr(t)-1-e>6)switch(Bt(t,e+1)){case 109:if(Bt(t,e+4)!==45)break;case 102:return Be(t,/(.+:)(.+)-([^]+)/,"$1"+ze+"$2-$3$1"+id+(Bt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Om(t,"stretch")?OS(Be(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Bt(t,e+1)!==115)break;case 6444:switch(Bt(t,wr(t)-3-(~Om(t,"!important")&&10))){case 107:return Be(t,":",":"+ze)+t;case 101:return Be(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ze+(Bt(t,14)===45?"inline-":"")+"box$3$1"+ze+"$2$3$1"+Qt+"$2box$3")+t}break;case 5936:switch(Bt(t,e+11)){case 114:return ze+t+Qt+Be(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ze+t+Qt+Be(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ze+t+Qt+Be(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ze+t+Qt+t+t}return t}var Pk=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case p_:e.return=OS(e.value,e.length);break;case bS:return ta([Il(e,{value:Be(e.value,"@","@"+ze)})],i);case f_:if(e.length)return ak(e.props,function(s){switch(sk(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ta([Il(e,{props:[Be(s,/:(read-\w+)/,":"+id+"$1")]})],i);case"::placeholder":return ta([Il(e,{props:[Be(s,/:(plac\w+)/,":"+ze+"input-$1")]}),Il(e,{props:[Be(s,/:(plac\w+)/,":"+id+"$1")]}),Il(e,{props:[Be(s,/:(plac\w+)/,Qt+"input-$1")]})],i)}return""})}},Ck=[Pk],bk=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var O=R.getAttribute("data-emotion");O.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||Ck,s={},a,c=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(R){for(var O=R.getAttribute("data-emotion").split(" "),S=1;S<O.length;S++)s[O[S]]=!0;c.push(R)});var h,f=[Sk,Ik];{var g,v=[gk,vk(function(R){g.insert(R)})],w=_k(f.concat(i,v)),C=function(O){return ta(pk(O),w)};h=function(O,S,I,A){g=I,C(O?O+"{"+S.styles+"}":S.styles),A&&(k.inserted[S.name]=!0)}}var k={key:n,sheet:new ek({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:h};return k.sheet.hydrate(c),k},LS={exports:{}},We={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt=typeof Symbol=="function"&&Symbol.for,g_=Dt?Symbol.for("react.element"):60103,__=Dt?Symbol.for("react.portal"):60106,Kd=Dt?Symbol.for("react.fragment"):60107,Zd=Dt?Symbol.for("react.strict_mode"):60108,Qd=Dt?Symbol.for("react.profiler"):60114,Xd=Dt?Symbol.for("react.provider"):60109,Yd=Dt?Symbol.for("react.context"):60110,v_=Dt?Symbol.for("react.async_mode"):60111,Jd=Dt?Symbol.for("react.concurrent_mode"):60111,ef=Dt?Symbol.for("react.forward_ref"):60112,tf=Dt?Symbol.for("react.suspense"):60113,Ak=Dt?Symbol.for("react.suspense_list"):60120,nf=Dt?Symbol.for("react.memo"):60115,rf=Dt?Symbol.for("react.lazy"):60116,Rk=Dt?Symbol.for("react.block"):60121,kk=Dt?Symbol.for("react.fundamental"):60117,xk=Dt?Symbol.for("react.responder"):60118,Ok=Dt?Symbol.for("react.scope"):60119;function Ln(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case g_:switch(t=t.type,t){case v_:case Jd:case Kd:case Qd:case Zd:case tf:return t;default:switch(t=t&&t.$$typeof,t){case Yd:case ef:case rf:case nf:case Xd:return t;default:return e}}case __:return e}}}function NS(t){return Ln(t)===Jd}We.AsyncMode=v_;We.ConcurrentMode=Jd;We.ContextConsumer=Yd;We.ContextProvider=Xd;We.Element=g_;We.ForwardRef=ef;We.Fragment=Kd;We.Lazy=rf;We.Memo=nf;We.Portal=__;We.Profiler=Qd;We.StrictMode=Zd;We.Suspense=tf;We.isAsyncMode=function(t){return NS(t)||Ln(t)===v_};We.isConcurrentMode=NS;We.isContextConsumer=function(t){return Ln(t)===Yd};We.isContextProvider=function(t){return Ln(t)===Xd};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===g_};We.isForwardRef=function(t){return Ln(t)===ef};We.isFragment=function(t){return Ln(t)===Kd};We.isLazy=function(t){return Ln(t)===rf};We.isMemo=function(t){return Ln(t)===nf};We.isPortal=function(t){return Ln(t)===__};We.isProfiler=function(t){return Ln(t)===Qd};We.isStrictMode=function(t){return Ln(t)===Zd};We.isSuspense=function(t){return Ln(t)===tf};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kd||t===Jd||t===Qd||t===Zd||t===tf||t===Ak||typeof t=="object"&&t!==null&&(t.$$typeof===rf||t.$$typeof===nf||t.$$typeof===Xd||t.$$typeof===Yd||t.$$typeof===ef||t.$$typeof===kk||t.$$typeof===xk||t.$$typeof===Ok||t.$$typeof===Rk)};We.typeOf=Ln;LS.exports=We;var Lk=LS.exports,MS=Lk,Nk={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DS={};DS[MS.ForwardRef]=Nk;DS[MS.Memo]=Mk;var Dk=!0;function Vk(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var VS=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Dk===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Fk=function(e,n,r){VS(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Uk(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var zk={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Bk=!1,jk=/[A-Z]|^ms/g,$k=/_EMO_([^_]+?)_([^]*?)_EMO_/g,FS=function(e){return e.charCodeAt(1)===45},sw=function(e){return e!=null&&typeof e!="boolean"},up=yk(function(t){return FS(t)?t:t.replace(jk,"-$&").toLowerCase()}),aw=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace($k,function(r,i,s){return Er={name:i,styles:s,next:Er},i})}return zk[e]!==1&&!FS(e)&&typeof n=="number"&&n!==0?n+"px":n},Hk="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function _u(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Er={name:i.name,styles:i.styles,next:Er},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)Er={name:a.name,styles:a.styles,next:Er},a=a.next;var c=s.styles+";";return c}return Wk(t,e,n)}case"function":{if(t!==void 0){var h=Er,f=n(t);return Er=h,_u(t,e,f)}break}}var g=n;return g}function Wk(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_u(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var c=a;sw(c)&&(r+=up(s)+":"+aw(s,c)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&Bk)throw new Error(Hk);if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var h=0;h<a.length;h++)sw(a[h])&&(r+=up(s)+":"+aw(s,a[h])+";");else{var f=_u(t,e,a);switch(s){case"animation":case"animationName":{r+=up(s)+":"+f+";";break}default:r+=s+"{"+f+"}"}}}}return r}var lw=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Er;function US(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Er=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=_u(n,e,s);else{var a=s;i+=a[0]}for(var c=1;c<t.length;c++)if(i+=_u(n,e,t[c]),r){var h=s;i+=h[c]}lw.lastIndex=0;for(var f="",g;(g=lw.exec(i))!==null;)f+="-"+g[1];var v=Uk(i)+f;return{name:v,styles:i,next:Er}}var qk=function(e){return e()},Gk=Kv.useInsertionEffect?Kv.useInsertionEffect:!1,Kk=Gk||qk,Zk=!1,zS=H.createContext(typeof HTMLElement<"u"?bk({key:"css"}):null);zS.Provider;var Qk=function(e){return H.forwardRef(function(n,r){var i=H.useContext(zS);return e(n,i,r)})},Xk=H.createContext({}),y_={}.hasOwnProperty,Nm="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Yk=function(e,n){var r={};for(var i in n)y_.call(n,i)&&(r[i]=n[i]);return r[Nm]=e,r},Jk=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return VS(n,r,i),Kk(function(){return Fk(n,r,i)}),null},ex=Qk(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Nm],s=[r],a="";typeof t.className=="string"?a=Vk(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var c=US(s,void 0,H.useContext(Xk));a+=e.key+"-"+c.name;var h={};for(var f in t)y_.call(t,f)&&f!=="css"&&f!==Nm&&!Zk&&(h[f]=t[f]);return h.className=a,n&&(h.ref=n),H.createElement(H.Fragment,null,H.createElement(Jk,{cache:e,serialized:c,isStringTag:typeof i=="string"}),H.createElement(i,h))}),tx=ex,he=function(e,n){var r=arguments;if(n==null||!y_.call(n,"css"))return H.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=tx,s[1]=Yk(e,n);for(var a=2;a<i;a++)s[a]=r[a];return H.createElement.apply(null,s)};function w_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return US(e)}var nx=function(){var e=w_.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function rx(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const ix=Math.min,ox=Math.max,od=Math.round,Gc=Math.floor,sd=t=>({x:t,y:t});function sx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function BS(t){return $S(t)?(t.nodeName||"").toLowerCase():"#document"}function ci(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jS(t){var e;return(e=($S(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $S(t){return t instanceof Node||t instanceof ci(t).Node}function ax(t){return t instanceof Element||t instanceof ci(t).Element}function E_(t){return t instanceof HTMLElement||t instanceof ci(t).HTMLElement}function uw(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ci(t).ShadowRoot}function HS(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=T_(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function lx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ux(t){return["html","body","#document"].includes(BS(t))}function T_(t){return ci(t).getComputedStyle(t)}function cx(t){if(BS(t)==="html")return t;const e=t.assignedSlot||t.parentNode||uw(t)&&t.host||jS(t);return uw(e)?e.host:e}function WS(t){const e=cx(t);return ux(e)?t.ownerDocument?t.ownerDocument.body:t.body:E_(e)&&HS(e)?e:WS(e)}function ad(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=WS(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=ci(i);if(s){const c=Mm(a);return e.concat(a,a.visualViewport||[],HS(i)?i:[],c&&n?ad(c):[])}return e.concat(i,ad(i,[],n))}function Mm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hx(t){const e=T_(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=E_(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,c=od(n)!==s||od(r)!==a;return c&&(n=s,r=a),{width:n,height:r,$:c}}function S_(t){return ax(t)?t:t.contextElement}function cw(t){const e=S_(t);if(!E_(e))return sd(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=hx(e);let a=(s?od(n.width):n.width)/r,c=(s?od(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const dx=sd(0);function fx(t){const e=ci(t);return!lx()||!e.visualViewport?dx:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function px(t,e,n){return!1}function hw(t,e,n,r){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),s=S_(t);let a=sd(1);e&&(a=cw(t));const c=px()?fx(s):sd(0);let h=(i.left+c.x)/a.x,f=(i.top+c.y)/a.y,g=i.width/a.x,v=i.height/a.y;if(s){const w=ci(s),C=r;let k=w,R=Mm(k);for(;R&&r&&C!==k;){const O=cw(R),S=R.getBoundingClientRect(),I=T_(R),A=S.left+(R.clientLeft+parseFloat(I.paddingLeft))*O.x,z=S.top+(R.clientTop+parseFloat(I.paddingTop))*O.y;h*=O.x,f*=O.y,g*=O.x,v*=O.y,h+=A,f+=z,k=ci(R),R=Mm(k)}}return sx({width:g,height:v,x:h,y:f})}function mx(t,e){let n=null,r;const i=jS(t);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),s();const{left:f,top:g,width:v,height:w}=t.getBoundingClientRect();if(c||e(),!v||!w)return;const C=Gc(g),k=Gc(i.clientWidth-(f+v)),R=Gc(i.clientHeight-(g+w)),O=Gc(f),I={rootMargin:-C+"px "+-k+"px "+-R+"px "+-O+"px",threshold:ox(0,ix(1,h))||1};let A=!0;function z(W){const $=W[0].intersectionRatio;if($!==h){if(!A)return a();$?a(!1,$):r=setTimeout(()=>{a(!1,1e-7)},1e3)}A=!1}try{n=new IntersectionObserver(z,{...I,root:i.ownerDocument})}catch{n=new IntersectionObserver(z,I)}n.observe(t)}return a(!0),s}function gx(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,f=S_(t),g=i||s?[...f?ad(f):[],...ad(e)]:[];g.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),s&&S.addEventListener("resize",n)});const v=f&&c?mx(f,n):null;let w=-1,C=null;a&&(C=new ResizeObserver(S=>{let[I]=S;I&&I.target===f&&C&&(C.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var A;(A=C)==null||A.observe(e)})),n()}),f&&!h&&C.observe(f),C.observe(e));let k,R=h?hw(t):null;h&&O();function O(){const S=hw(t);R&&(S.x!==R.x||S.y!==R.y||S.width!==R.width||S.height!==R.height)&&n(),R=S,k=requestAnimationFrame(O)}return n(),()=>{var S;g.forEach(I=>{i&&I.removeEventListener("scroll",n),s&&I.removeEventListener("resize",n)}),v==null||v(),(S=C)==null||S.disconnect(),C=null,h&&cancelAnimationFrame(k)}}var Dm=H.useLayoutEffect,_x=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ld=function(){};function vx(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function yx(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&s.push("".concat(vx(t,a)));return s.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var dw=function(e){return Ax(e)?e.filter(Boolean):jo(e)==="object"&&e!==null?[e]:[]},qS=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=mi(e,_x);return fe({},n)},dt=function(e,n,r){var i=e.cx,s=e.getStyles,a=e.getClassNames,c=e.className;return{css:s(n,e),className:i(r??{},a(n,e),c)}};function of(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function wx(t){return of(t)?window.innerHeight:t.clientHeight}function GS(t){return of(t)?window.pageYOffset:t.scrollTop}function ud(t,e){if(of(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Ex(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Tx(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Kc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ld,i=GS(t),s=e-i,a=10,c=0;function h(){c+=a;var f=Tx(c,i,s,n);ud(t,f),c<n?window.requestAnimationFrame(h):r(t)}h()}function fw(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?ud(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&ud(t,Math.max(e.offsetTop-i,0))}function Sx(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function pw(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Ix(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var KS=!1,Px={get passive(){return KS=!0}},Zc=typeof window<"u"?window:{};Zc.addEventListener&&Zc.removeEventListener&&(Zc.addEventListener("p",ld,Px),Zc.removeEventListener("p",ld,!1));var Cx=KS;function bx(t){return t!=null}function Ax(t){return Array.isArray(t)}function Qc(t,e,n){return t?e:n}var Rx=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(a){var c=ii(a,1),h=c[0];return!r.includes(h)});return s.reduce(function(a,c){var h=ii(c,2),f=h[0],g=h[1];return a[f]=g,a},{})},kx=["children","innerProps"],xx=["children","innerProps"];function Ox(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,a=t.isFixedPosition,c=t.controlHeight,h=Ex(n),f={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return f;var g=h.getBoundingClientRect(),v=g.height,w=n.getBoundingClientRect(),C=w.bottom,k=w.height,R=w.top,O=n.offsetParent.getBoundingClientRect(),S=O.top,I=a?window.innerHeight:wx(h),A=GS(h),z=parseInt(getComputedStyle(n).marginBottom,10),W=parseInt(getComputedStyle(n).marginTop,10),$=S-W,b=I-R,T=$+A,N=v-A-R,x=C-I+A+z,V=A+R-W,U=160;switch(i){case"auto":case"bottom":if(b>=k)return{placement:"bottom",maxHeight:e};if(N>=k&&!a)return s&&Kc(h,x,U),{placement:"bottom",maxHeight:e};if(!a&&N>=r||a&&b>=r){s&&Kc(h,x,U);var M=a?b-z:N-z;return{placement:"bottom",maxHeight:M}}if(i==="auto"||a){var Re=e,De=a?$:T;return De>=r&&(Re=Math.min(De-z-c,e)),{placement:"top",maxHeight:Re}}if(i==="bottom")return s&&ud(h,x),{placement:"bottom",maxHeight:e};break;case"top":if($>=k)return{placement:"top",maxHeight:e};if(T>=k&&!a)return s&&Kc(h,V,U),{placement:"top",maxHeight:e};if(!a&&T>=r||a&&$>=r){var te=e;return(!a&&T>=r||a&&$>=r)&&(te=a?$-W:T-W),s&&Kc(h,V,U),{placement:"top",maxHeight:te}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return f}function Lx(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var ZS=function(e){return e==="auto"?"bottom":e},Nx=function(e,n){var r,i=e.placement,s=e.theme,a=s.borderRadius,c=s.spacing,h=s.colors;return fe((r={label:"menu"},Ll(r,Lx(i),"100%"),Ll(r,"position","absolute"),Ll(r,"width","100%"),Ll(r,"zIndex",1),r),n?{}:{backgroundColor:h.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},QS=H.createContext(null),Mx=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,a=e.menuPosition,c=e.menuShouldScrollIntoView,h=e.theme,f=H.useContext(QS)||{},g=f.setPortalPlacement,v=H.useRef(null),w=H.useState(i),C=ii(w,2),k=C[0],R=C[1],O=H.useState(null),S=ii(O,2),I=S[0],A=S[1],z=h.spacing.controlHeight;return Dm(function(){var W=v.current;if(W){var $=a==="fixed",b=c&&!$,T=Ox({maxHeight:i,menuEl:W,minHeight:r,placement:s,shouldScroll:b,isFixedPosition:$,controlHeight:z});R(T.maxHeight),A(T.placement),g==null||g(T.placement)}},[i,s,a,c,r,g,z]),n({ref:v,placerProps:fe(fe({},e),{},{placement:I||ZS(s),maxHeight:k})})},Dx=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return he("div",ge({},dt(e,"menu",{menu:!0}),{ref:r},i),n)},Vx=Dx,Fx=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return fe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Ux=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return he("div",ge({},dt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},XS=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return fe({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},zx=XS,Bx=XS,jx=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=mi(e,kx);return he("div",ge({},dt(fe(fe({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},$x=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=mi(e,xx);return he("div",ge({},dt(fe(fe({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},Hx=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},Wx=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,a=e.menuPlacement,c=e.menuPosition,h=H.useRef(null),f=H.useRef(null),g=H.useState(ZS(a)),v=ii(g,2),w=v[0],C=v[1],k=H.useMemo(function(){return{setPortalPlacement:C}},[]),R=H.useState(null),O=ii(R,2),S=O[0],I=O[1],A=H.useCallback(function(){if(i){var b=Sx(i),T=c==="fixed"?0:window.pageYOffset,N=b[w]+T;(N!==(S==null?void 0:S.offset)||b.left!==(S==null?void 0:S.rect.left)||b.width!==(S==null?void 0:S.rect.width))&&I({offset:N,rect:b})}},[i,c,w,S==null?void 0:S.offset,S==null?void 0:S.rect.left,S==null?void 0:S.rect.width]);Dm(function(){A()},[A]);var z=H.useCallback(function(){typeof f.current=="function"&&(f.current(),f.current=null),i&&h.current&&(f.current=gx(i,h.current,A,{elementResize:"ResizeObserver"in window}))},[i,A]);Dm(function(){z()},[z]);var W=H.useCallback(function(b){h.current=b,z()},[z]);if(!n&&c!=="fixed"||!S)return null;var $=he("div",ge({ref:W},dt(fe(fe({},e),{},{offset:S.offset,position:c,rect:S.rect}),"menuPortal",{"menu-portal":!0}),s),r);return he(QS.Provider,{value:k},n?a_.createPortal($,n):$)},qx=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},Gx=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return he("div",ge({},dt(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},Kx=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,a=e.selectProps.controlShouldRenderValue;return fe({alignItems:"center",display:i&&s&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Zx=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return he("div",ge({},dt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},Qx=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Xx=function(e){var n=e.children,r=e.innerProps;return he("div",ge({},dt(e,"indicatorsContainer",{indicators:!0}),r),n)},mw,Yx=["size"],Jx=["innerProps","isRtl","size"],eO={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},YS=function(e){var n=e.size,r=mi(e,Yx);return he("svg",ge({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:eO},r))},I_=function(e){return he(YS,ge({size:20},e),he("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},JS=function(e){return he(YS,ge({size:20},e),he("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},e1=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return fe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:s*2,":hover":{color:r?a.neutral80:a.neutral40}})},tO=e1,nO=function(e){var n=e.children,r=e.innerProps;return he("div",ge({},dt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||he(JS,null))},rO=e1,iO=function(e){var n=e.children,r=e.innerProps;return he("div",ge({},dt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||he(I_,null))},oO=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return fe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:s*2,marginTop:s*2})},sO=function(e){var n=e.innerProps;return he("span",ge({},n,dt(e,"indicatorSeparator",{"indicator-separator":!0})))},aO=nx(mw||(mw=rx([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),lO=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,a=s.colors,c=s.spacing.baseUnit;return fe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:c*2})},cp=function(e){var n=e.delay,r=e.offset;return he("span",{css:w_({animation:"".concat(aO," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},uO=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,a=mi(e,Jx);return he("div",ge({},dt(fe(fe({},a),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),he(cp,{delay:0,offset:r}),he(cp,{delay:160,offset:!0}),he(cp,{delay:320,offset:!r}))},cO=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,a=s.colors,c=s.borderRadius,h=s.spacing;return fe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:h.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},hO=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,a=e.innerProps,c=e.menuIsOpen;return he("div",ge({ref:s},dt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":c}),a,{"aria-disabled":r||void 0}),n)},dO=hO,fO=["data"],pO=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},mO=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,a=e.Heading,c=e.headingProps,h=e.innerProps,f=e.label,g=e.theme,v=e.selectProps;return he("div",ge({},dt(e,"group",{group:!0}),h),he(a,ge({},c,{selectProps:v,theme:g,getStyles:i,getClassNames:s,cx:r}),f),he("div",null,n))},gO=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return fe({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},_O=function(e){var n=qS(e);n.data;var r=mi(n,fO);return he("div",ge({},dt(e,"groupHeading",{"group-heading":!0}),r))},vO=mO,yO=["innerRef","isDisabled","isHidden","inputClassName"],wO=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,a=s.spacing,c=s.colors;return fe(fe({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},EO),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:c.neutral80})},t1={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},EO={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":fe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},t1)},TO=function(e){return fe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},t1)},SO=function(e){var n=e.cx,r=e.value,i=qS(e),s=i.innerRef,a=i.isDisabled,c=i.isHidden,h=i.inputClassName,f=mi(i,yO);return he("div",ge({},dt(e,"input",{"input-container":!0}),{"data-value":r||""}),he("input",ge({className:n({input:!0},h),ref:s,style:TO(c),disabled:a},f)))},IO=SO,PO=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors;return fe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},CO=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,a=e.cropWithEllipsis;return fe({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},bO=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors,c=e.isFocused;return fe({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:c?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},n1=function(e){var n=e.children,r=e.innerProps;return he("div",r,n)},AO=n1,RO=n1;function kO(t){var e=t.children,n=t.innerProps;return he("div",ge({role:"button"},n),e||he(I_,{size:14}))}var xO=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,a=e.isDisabled,c=e.removeProps,h=e.selectProps,f=r.Container,g=r.Label,v=r.Remove;return he(f,{data:i,innerProps:fe(fe({},dt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),s),selectProps:h},he(g,{data:i,innerProps:fe({},dt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:h},n),he(v,{data:i,innerProps:fe(fe({},dt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},c),selectProps:h}))},OO=xO,LO=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.theme,c=a.spacing,h=a.colors;return fe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?h.primary:i?h.primary25:"transparent",color:r?h.neutral20:s?h.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?h.primary:h.primary50}})},NO=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.innerRef,c=e.innerProps;return he("div",ge({},dt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:a,"aria-disabled":r},c),n)},MO=NO,DO=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return fe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},VO=function(e){var n=e.children,r=e.innerProps;return he("div",ge({},dt(e,"placeholder",{placeholder:!0}),r),n)},FO=VO,UO=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,a=i.colors;return fe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},zO=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return he("div",ge({},dt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},BO=zO,jO={ClearIndicator:iO,Control:dO,DropdownIndicator:nO,DownChevron:JS,CrossIcon:I_,Group:vO,GroupHeading:_O,IndicatorsContainer:Xx,IndicatorSeparator:sO,Input:IO,LoadingIndicator:uO,Menu:Vx,MenuList:Ux,MenuPortal:Wx,LoadingMessage:$x,NoOptionsMessage:jx,MultiValue:OO,MultiValueContainer:AO,MultiValueLabel:RO,MultiValueRemove:kO,Option:MO,Placeholder:FO,SelectContainer:Gx,SingleValue:BO,ValueContainer:Zx},$O=function(e){return fe(fe({},jO),e.components)},gw=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function HO(t,e){return!!(t===e||gw(t)&&gw(e))}function WO(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!HO(t[n],e[n]))return!1;return!0}function qO(t,e){e===void 0&&(e=WO);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var GO={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},KO=function(e){return he("span",ge({css:GO},e))},_w=KO,ZO={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,a=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,a=s===void 0?"":s,c=e.selectValue,h=e.isDisabled,f=e.isSelected,g=e.isAppleDevice,v=function(R,O){return R&&R.length?"".concat(R.indexOf(O)+1," of ").concat(R.length):""};if(n==="value"&&c)return"value ".concat(a," focused, ").concat(v(c,r),".");if(n==="menu"&&g){var w=h?" disabled":"",C="".concat(f?" selected":"").concat(w);return"".concat(a).concat(C,", ").concat(v(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},QO=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,a=e.isFocused,c=e.selectValue,h=e.selectProps,f=e.id,g=e.isAppleDevice,v=h.ariaLiveMessages,w=h.getOptionLabel,C=h.inputValue,k=h.isMulti,R=h.isOptionDisabled,O=h.isSearchable,S=h.menuIsOpen,I=h.options,A=h.screenReaderStatus,z=h.tabSelectsValue,W=h.isLoading,$=h["aria-label"],b=h["aria-live"],T=H.useMemo(function(){return fe(fe({},ZO),v||{})},[v]),N=H.useMemo(function(){var De="";if(n&&T.onChange){var te=n.option,be=n.options,G=n.removedValue,re=n.removedValues,Q=n.value,le=function(_t){return Array.isArray(_t)?null:_t},oe=G||te||le(Q),me=oe?w(oe):"",Ae=be||re||void 0,ye=Ae?Ae.map(w):[],ce=fe({isDisabled:oe&&R(oe,c),label:me,labels:ye},n);De=T.onChange(ce)}return De},[n,T,R,c,w]),x=H.useMemo(function(){var De="",te=r||i,be=!!(r&&c&&c.includes(r));if(te&&T.onFocus){var G={focused:te,label:w(te),isDisabled:R(te,c),isSelected:be,options:s,context:te===r?"menu":"value",selectValue:c,isAppleDevice:g};De=T.onFocus(G)}return De},[r,i,w,R,T,s,c,g]),V=H.useMemo(function(){var De="";if(S&&I.length&&!W&&T.onFilter){var te=A({count:s.length});De=T.onFilter({inputValue:C,resultsMessage:te})}return De},[s,C,S,T,I,A,W]),U=(n==null?void 0:n.action)==="initial-input-focus",M=H.useMemo(function(){var De="";if(T.guidance){var te=i?"value":S?"menu":"input";De=T.guidance({"aria-label":$,context:te,isDisabled:r&&R(r,c),isMulti:k,isSearchable:O,tabSelectsValue:z,isInitialFocus:U})}return De},[$,r,i,k,R,O,S,T,c,z,U]),Re=he(H.Fragment,null,he("span",{id:"aria-selection"},N),he("span",{id:"aria-focused"},x),he("span",{id:"aria-results"},V),he("span",{id:"aria-guidance"},M));return he(H.Fragment,null,he(_w,{id:f},U&&Re),he(_w,{"aria-live":b,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!U&&Re))},XO=QO,Vm=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],YO=new RegExp("["+Vm.map(function(t){return t.letters}).join("")+"]","g"),r1={};for(var hp=0;hp<Vm.length;hp++)for(var dp=Vm[hp],fp=0;fp<dp.letters.length;fp++)r1[dp.letters[fp]]=dp.base;var i1=function(e){return e.replace(YO,function(n){return r1[n]})},JO=qO(i1),vw=function(e){return e.replace(/^\s+|\s+$/g,"")},eL=function(e){return"".concat(e.label," ").concat(e.value)},tL=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=fe({ignoreCase:!0,ignoreAccents:!0,stringify:eL,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,a=i.ignoreAccents,c=i.stringify,h=i.trim,f=i.matchFrom,g=h?vw(r):r,v=h?vw(c(n)):c(n);return s&&(g=g.toLowerCase(),v=v.toLowerCase()),a&&(g=JO(g),v=i1(v)),f==="start"?v.substr(0,g.length)===g:v.indexOf(g)>-1}},nL=["innerRef"];function rL(t){var e=t.innerRef,n=mi(t,nL),r=Rx(n,"onExited","in","enter","exit","appear");return he("input",ge({ref:e},r,{css:w_({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var iL=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function oL(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,a=H.useRef(!1),c=H.useRef(!1),h=H.useRef(0),f=H.useRef(null),g=H.useCallback(function(O,S){if(f.current!==null){var I=f.current,A=I.scrollTop,z=I.scrollHeight,W=I.clientHeight,$=f.current,b=S>0,T=z-W-A,N=!1;T>S&&a.current&&(r&&r(O),a.current=!1),b&&c.current&&(s&&s(O),c.current=!1),b&&S>T?(n&&!a.current&&n(O),$.scrollTop=z,N=!0,a.current=!0):!b&&-S>A&&(i&&!c.current&&i(O),$.scrollTop=0,N=!0,c.current=!0),N&&iL(O)}},[n,r,i,s]),v=H.useCallback(function(O){g(O,O.deltaY)},[g]),w=H.useCallback(function(O){h.current=O.changedTouches[0].clientY},[]),C=H.useCallback(function(O){var S=h.current-O.changedTouches[0].clientY;g(O,S)},[g]),k=H.useCallback(function(O){if(O){var S=Cx?{passive:!1}:!1;O.addEventListener("wheel",v,S),O.addEventListener("touchstart",w,S),O.addEventListener("touchmove",C,S)}},[C,w,v]),R=H.useCallback(function(O){O&&(O.removeEventListener("wheel",v,!1),O.removeEventListener("touchstart",w,!1),O.removeEventListener("touchmove",C,!1))},[C,w,v]);return H.useEffect(function(){if(e){var O=f.current;return k(O),function(){R(O)}}},[e,k,R]),function(O){f.current=O}}var yw=["boxSizing","height","overflow","paddingRight","position"],ww={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Ew(t){t.preventDefault()}function Tw(t){t.stopPropagation()}function Sw(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function Iw(){return"ontouchstart"in window||navigator.maxTouchPoints}var Pw=!!(typeof window<"u"&&window.document&&window.document.createElement),Pl=0,Ls={capture:!1,passive:!1};function sL(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=H.useRef({}),s=H.useRef(null),a=H.useCallback(function(h){if(Pw){var f=document.body,g=f&&f.style;if(r&&yw.forEach(function(k){var R=g&&g[k];i.current[k]=R}),r&&Pl<1){var v=parseInt(i.current.paddingRight,10)||0,w=document.body?document.body.clientWidth:0,C=window.innerWidth-w+v||0;Object.keys(ww).forEach(function(k){var R=ww[k];g&&(g[k]=R)}),g&&(g.paddingRight="".concat(C,"px"))}f&&Iw()&&(f.addEventListener("touchmove",Ew,Ls),h&&(h.addEventListener("touchstart",Sw,Ls),h.addEventListener("touchmove",Tw,Ls))),Pl+=1}},[r]),c=H.useCallback(function(h){if(Pw){var f=document.body,g=f&&f.style;Pl=Math.max(Pl-1,0),r&&Pl<1&&yw.forEach(function(v){var w=i.current[v];g&&(g[v]=w)}),f&&Iw()&&(f.removeEventListener("touchmove",Ew,Ls),h&&(h.removeEventListener("touchstart",Sw,Ls),h.removeEventListener("touchmove",Tw,Ls)))}},[r]);return H.useEffect(function(){if(e){var h=s.current;return a(h),function(){c(h)}}},[e,a,c]),function(h){s.current=h}}var aL=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},lL={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function uL(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,a=t.onBottomLeave,c=t.onTopArrive,h=t.onTopLeave,f=oL({isEnabled:i,onBottomArrive:s,onBottomLeave:a,onTopArrive:c,onTopLeave:h}),g=sL({isEnabled:n}),v=function(C){f(C),g(C)};return he(H.Fragment,null,n&&he("div",{onClick:aL,css:lL}),e(v))}var cL={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},hL=function(e){var n=e.name,r=e.onFocus;return he("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:cL,value:"",onChange:function(){}})},dL=hL;function P_(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function fL(){return P_(/^iPhone/i)}function o1(){return P_(/^Mac/i)}function pL(){return P_(/^iPad/i)||o1()&&navigator.maxTouchPoints>1}function mL(){return fL()||pL()}function gL(){return o1()||mL()}var _L=function(e){return e.label},vL=function(e){return e.label},yL=function(e){return e.value},wL=function(e){return!!e.isDisabled},EL={clearIndicator:rO,container:qx,control:cO,dropdownIndicator:tO,group:pO,groupHeading:gO,indicatorsContainer:Qx,indicatorSeparator:oO,input:wO,loadingIndicator:lO,loadingMessage:Bx,menu:Nx,menuList:Fx,menuPortal:Hx,multiValue:PO,multiValueLabel:CO,multiValueRemove:bO,noOptionsMessage:zx,option:LO,placeholder:DO,singleValue:UO,valueContainer:Kx},TL={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},SL=4,s1=4,IL=38,PL=s1*2,CL={baseUnit:s1,controlHeight:IL,menuGutter:PL},pp={borderRadius:SL,colors:TL,spacing:CL},bL={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:pw(),captureMenuScroll:!pw(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:tL(),formatGroupLabel:_L,getOptionLabel:vL,getOptionValue:yL,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:wL,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Ix(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Cw(t,e,n,r){var i=u1(t,e,n),s=c1(t,e,n),a=l1(t,e),c=cd(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:a,value:c,index:r}}function Eh(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,c){return Cw(t,a,e,c)}).filter(function(a){return Aw(t,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=Cw(t,n,e,r);return Aw(t,s)?s:void 0}).filter(bx)}function a1(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,d_(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function bw(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,d_(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function AL(t,e){return a1(Eh(t,e))}function Aw(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,a=e.label,c=e.value;return(!d1(t)||!s)&&h1(t,{label:a,value:c,data:i},r)}function RL(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function kL(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var mp=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},l1=function(e,n){return e.getOptionLabel(n)},cd=function(e,n){return e.getOptionValue(n)};function u1(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function c1(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=cd(t,e);return n.some(function(i){return cd(t,i)===r})}function h1(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var d1=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},xL=1,f1=function(t){HR(n,t);var e=GR(n);function n(r){var i;if(jR(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=gL(),i.controlRef=null,i.getControlRef=function(h){i.controlRef=h},i.focusedOptionRef=null,i.getFocusedOptionRef=function(h){i.focusedOptionRef=h},i.menuListRef=null,i.getMenuListRef=function(h){i.menuListRef=h},i.inputRef=null,i.getInputRef=function(h){i.inputRef=h},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(h,f){var g=i.props,v=g.onChange,w=g.name;f.name=w,i.ariaOnChange(h,f),v(h,f)},i.setValue=function(h,f,g){var v=i.props,w=v.closeMenuOnSelect,C=v.isMulti,k=v.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:k}),w&&(i.setState({inputIsHiddenAfterUpdate:!C}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(h,{action:f,option:g})},i.selectOption=function(h){var f=i.props,g=f.blurInputOnSelect,v=f.isMulti,w=f.name,C=i.state.selectValue,k=v&&i.isOptionSelected(h,C),R=i.isOptionDisabled(h,C);if(k){var O=i.getOptionValue(h);i.setValue(C.filter(function(S){return i.getOptionValue(S)!==O}),"deselect-option",h)}else if(!R)v?i.setValue([].concat(d_(C),[h]),"select-option",h):i.setValue(h,"select-option");else{i.ariaOnChange(h,{action:"select-option",option:h,name:w});return}g&&i.blurInput()},i.removeValue=function(h){var f=i.props.isMulti,g=i.state.selectValue,v=i.getOptionValue(h),w=g.filter(function(k){return i.getOptionValue(k)!==v}),C=Qc(f,w,w[0]||null);i.onChange(C,{action:"remove-value",removedValue:h}),i.focusInput()},i.clearValue=function(){var h=i.state.selectValue;i.onChange(Qc(i.props.isMulti,[],null),{action:"clear",removedValues:h})},i.popValue=function(){var h=i.props.isMulti,f=i.state.selectValue,g=f[f.length-1],v=f.slice(0,f.length-1),w=Qc(h,v,v[0]||null);i.onChange(w,{action:"pop-value",removedValue:g})},i.getFocusedOptionId=function(h){return mp(i.state.focusableOptionsWithIds,h)},i.getFocusableOptionsWithIds=function(){return bw(Eh(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var h=arguments.length,f=new Array(h),g=0;g<h;g++)f[g]=arguments[g];return yx.apply(void 0,[i.props.classNamePrefix].concat(f))},i.getOptionLabel=function(h){return l1(i.props,h)},i.getOptionValue=function(h){return cd(i.props,h)},i.getStyles=function(h,f){var g=i.props.unstyled,v=EL[h](f,g);v.boxSizing="border-box";var w=i.props.styles[h];return w?w(v,f):v},i.getClassNames=function(h,f){var g,v;return(g=(v=i.props.classNames)[h])===null||g===void 0?void 0:g.call(v,f)},i.getElementId=function(h){return"".concat(i.state.instancePrefix,"-").concat(h)},i.getComponents=function(){return $O(i.props)},i.buildCategorizedOptions=function(){return Eh(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return a1(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(h,f){i.setState({ariaSelection:fe({value:h},f)})},i.onMenuMouseDown=function(h){h.button===0&&(h.stopPropagation(),h.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(h){i.blockOptionHover=!1},i.onControlMouseDown=function(h){if(!h.defaultPrevented){var f=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&i.onMenuClose():f&&i.openMenu("first"):(f&&(i.openAfterFocus=!0),i.focusInput()),h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&h.preventDefault()}},i.onDropdownIndicatorMouseDown=function(h){if(!(h&&h.type==="mousedown"&&h.button!==0)&&!i.props.isDisabled){var f=i.props,g=f.isMulti,v=f.menuIsOpen;i.focusInput(),v?(i.setState({inputIsHiddenAfterUpdate:!g}),i.onMenuClose()):i.openMenu("first"),h.preventDefault()}},i.onClearIndicatorMouseDown=function(h){h&&h.type==="mousedown"&&h.button!==0||(i.clearValue(),h.preventDefault(),i.openAfterFocus=!1,h.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(h){typeof i.props.closeMenuOnScroll=="boolean"?h.target instanceof HTMLElement&&of(h.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(h)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(h){var f=h.touches,g=f&&f.item(0);g&&(i.initialTouchX=g.clientX,i.initialTouchY=g.clientY,i.userIsDragging=!1)},i.onTouchMove=function(h){var f=h.touches,g=f&&f.item(0);if(g){var v=Math.abs(g.clientX-i.initialTouchX),w=Math.abs(g.clientY-i.initialTouchY),C=5;i.userIsDragging=v>C||w>C}},i.onTouchEnd=function(h){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(h.target)&&i.menuListRef&&!i.menuListRef.contains(h.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(h){i.userIsDragging||i.onControlMouseDown(h)},i.onClearIndicatorTouchEnd=function(h){i.userIsDragging||i.onClearIndicatorMouseDown(h)},i.onDropdownIndicatorTouchEnd=function(h){i.userIsDragging||i.onDropdownIndicatorMouseDown(h)},i.handleInputChange=function(h){var f=i.props.inputValue,g=h.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(g,{action:"input-change",prevInputValue:f}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(h){i.props.onFocus&&i.props.onFocus(h),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(h){var f=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(h),i.onInputChange("",{action:"input-blur",prevInputValue:f}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(h){if(!(i.blockOptionHover||i.state.focusedOption===h)){var f=i.getFocusableOptions(),g=f.indexOf(h);i.setState({focusedOption:h,focusedOptionId:g>-1?i.getFocusedOptionId(h):null})}},i.shouldHideSelectedOptions=function(){return d1(i.props)},i.onValueInputFocus=function(h){h.preventDefault(),h.stopPropagation(),i.focus()},i.onKeyDown=function(h){var f=i.props,g=f.isMulti,v=f.backspaceRemovesValue,w=f.escapeClearsValue,C=f.inputValue,k=f.isClearable,R=f.isDisabled,O=f.menuIsOpen,S=f.onKeyDown,I=f.tabSelectsValue,A=f.openMenuOnFocus,z=i.state,W=z.focusedOption,$=z.focusedValue,b=z.selectValue;if(!R&&!(typeof S=="function"&&(S(h),h.defaultPrevented))){switch(i.blockOptionHover=!0,h.key){case"ArrowLeft":if(!g||C)return;i.focusValue("previous");break;case"ArrowRight":if(!g||C)return;i.focusValue("next");break;case"Delete":case"Backspace":if(C)return;if($)i.removeValue($);else{if(!v)return;g?i.popValue():k&&i.clearValue()}break;case"Tab":if(i.isComposing||h.shiftKey||!O||!I||!W||A&&i.isOptionSelected(W,b))return;i.selectOption(W);break;case"Enter":if(h.keyCode===229)break;if(O){if(!W||i.isComposing)return;i.selectOption(W);break}return;case"Escape":O?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:C}),i.onMenuClose()):k&&w&&i.clearValue();break;case" ":if(C)return;if(!O){i.openMenu("first");break}if(!W)return;i.selectOption(W);break;case"ArrowUp":O?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":O?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!O)return;i.focusOption("pageup");break;case"PageDown":if(!O)return;i.focusOption("pagedown");break;case"Home":if(!O)return;i.focusOption("first");break;case"End":if(!O)return;i.focusOption("last");break;default:return}h.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++xL),i.state.selectValue=dw(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),c=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=a[c],i.state.focusedOptionId=mp(s,a[c])}return i}return $R(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&fw(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isDisabled,c=s.menuIsOpen,h=this.state.isFocused;(h&&!a&&i.isDisabled||h&&c&&!i.menuIsOpen)&&this.focusInput(),h&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!h&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(fw(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,a=this.state,c=a.selectValue,h=a.isFocused,f=this.buildFocusableOptions(),g=i==="first"?0:f.length-1;if(!this.props.isMulti){var v=f.indexOf(c[0]);v>-1&&(g=v)}this.scrollToFocusedOptionOnUpdate=!(h&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[g],focusedOptionId:this.getFocusedOptionId(f[g])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,a=s.selectValue,c=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var h=a.indexOf(c);c||(h=-1);var f=a.length-1,g=-1;if(a.length){switch(i){case"previous":h===0?g=0:h===-1?g=f:g=h-1;break;case"next":h>-1&&h<f&&(g=h+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:a[g]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,a=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var h=0,f=c.indexOf(a);a||(f=-1),i==="up"?h=f>0?f-1:c.length-1:i==="down"?h=(f+1)%c.length:i==="pageup"?(h=f-s,h<0&&(h=0)):i==="pagedown"?(h=f+s,h>c.length-1&&(h=c.length-1)):i==="last"&&(h=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[h],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[h])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(pp):fe(fe({},pp),this.props.theme):pp}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,a=this.getStyles,c=this.getClassNames,h=this.getValue,f=this.selectOption,g=this.setValue,v=this.props,w=v.isMulti,C=v.isRtl,k=v.options,R=this.hasValue();return{clearValue:i,cx:s,getStyles:a,getClassNames:c,getValue:h,hasValue:R,isMulti:w,isRtl:C,options:k,selectOption:f,selectProps:v,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,a=i.isMulti;return s===void 0?a:s}},{key:"isOptionDisabled",value:function(i,s){return u1(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return c1(this.props,i,s)}},{key:"filterOption",value:function(i,s){return h1(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:a,selectValue:c})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,a=i.isSearchable,c=i.inputId,h=i.inputValue,f=i.tabIndex,g=i.form,v=i.menuIsOpen,w=i.required,C=this.getComponents(),k=C.Input,R=this.state,O=R.inputIsHidden,S=R.ariaSelection,I=this.commonProps,A=c||this.getElementId("input"),z=fe(fe(fe({"aria-autocomplete":"list","aria-expanded":v,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":w,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},v&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(S==null?void 0:S.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?H.createElement(k,ge({},I,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:A,innerRef:this.getInputRef,isDisabled:s,isHidden:O,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:g,type:"text",value:h},z)):H.createElement(rL,ge({id:A,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ld,onFocus:this.onInputFocus,disabled:s,tabIndex:f,inputMode:"none",form:g,value:""},z))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),a=s.MultiValue,c=s.MultiValueContainer,h=s.MultiValueLabel,f=s.MultiValueRemove,g=s.SingleValue,v=s.Placeholder,w=this.commonProps,C=this.props,k=C.controlShouldRenderValue,R=C.isDisabled,O=C.isMulti,S=C.inputValue,I=C.placeholder,A=this.state,z=A.selectValue,W=A.focusedValue,$=A.isFocused;if(!this.hasValue()||!k)return S?null:H.createElement(v,ge({},w,{key:"placeholder",isDisabled:R,isFocused:$,innerProps:{id:this.getElementId("placeholder")}}),I);if(O)return z.map(function(T,N){var x=T===W,V="".concat(i.getOptionLabel(T),"-").concat(i.getOptionValue(T));return H.createElement(a,ge({},w,{components:{Container:c,Label:h,Remove:f},isFocused:x,isDisabled:R,key:V,index:N,removeProps:{onClick:function(){return i.removeValue(T)},onTouchEnd:function(){return i.removeValue(T)},onMouseDown:function(M){M.preventDefault()}},data:T}),i.formatOptionLabel(T,"value"))});if(S)return null;var b=z[0];return H.createElement(g,ge({},w,{data:b,isDisabled:R}),this.formatOptionLabel(b,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,a=this.commonProps,c=this.props,h=c.isDisabled,f=c.isLoading,g=this.state.isFocused;if(!this.isClearable()||!s||h||!this.hasValue()||f)return null;var v={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return H.createElement(s,ge({},a,{innerProps:v,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,a=this.commonProps,c=this.props,h=c.isDisabled,f=c.isLoading,g=this.state.isFocused;if(!s||!f)return null;var v={"aria-hidden":"true"};return H.createElement(s,ge({},a,{innerProps:v,isDisabled:h,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,a=i.IndicatorSeparator;if(!s||!a)return null;var c=this.commonProps,h=this.props.isDisabled,f=this.state.isFocused;return H.createElement(a,ge({},c,{isDisabled:h,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var a=this.commonProps,c=this.props.isDisabled,h=this.state.isFocused,f={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return H.createElement(s,ge({},a,{innerProps:f,isDisabled:c,isFocused:h}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),a=s.Group,c=s.GroupHeading,h=s.Menu,f=s.MenuList,g=s.MenuPortal,v=s.LoadingMessage,w=s.NoOptionsMessage,C=s.Option,k=this.commonProps,R=this.state.focusedOption,O=this.props,S=O.captureMenuScroll,I=O.inputValue,A=O.isLoading,z=O.loadingMessage,W=O.minMenuHeight,$=O.maxMenuHeight,b=O.menuIsOpen,T=O.menuPlacement,N=O.menuPosition,x=O.menuPortalTarget,V=O.menuShouldBlockScroll,U=O.menuShouldScrollIntoView,M=O.noOptionsMessage,Re=O.onMenuScrollToTop,De=O.onMenuScrollToBottom;if(!b)return null;var te=function(me,Ae){var ye=me.type,ce=me.data,qe=me.isDisabled,_t=me.isSelected,Mr=me.label,fr=me.value,Zn=R===ce,Nn=qe?void 0:function(){return i.onOptionHover(ce)},Dr=qe?void 0:function(){return i.selectOption(ce)},gi="".concat(i.getElementId("option"),"-").concat(Ae),_i={id:gi,onClick:Dr,onMouseMove:Nn,onMouseOver:Nn,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:_t};return H.createElement(C,ge({},k,{innerProps:_i,data:ce,isDisabled:qe,isSelected:_t,key:gi,label:Mr,type:ye,value:fr,isFocused:Zn,innerRef:Zn?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(me.data,"menu"))},be;if(this.hasOptions())be=this.getCategorizedOptions().map(function(oe){if(oe.type==="group"){var me=oe.data,Ae=oe.options,ye=oe.index,ce="".concat(i.getElementId("group"),"-").concat(ye),qe="".concat(ce,"-heading");return H.createElement(a,ge({},k,{key:ce,data:me,options:Ae,Heading:c,headingProps:{id:qe,data:oe.data},label:i.formatGroupLabel(oe.data)}),oe.options.map(function(_t){return te(_t,"".concat(ye,"-").concat(_t.index))}))}else if(oe.type==="option")return te(oe,"".concat(oe.index))});else if(A){var G=z({inputValue:I});if(G===null)return null;be=H.createElement(v,k,G)}else{var re=M({inputValue:I});if(re===null)return null;be=H.createElement(w,k,re)}var Q={minMenuHeight:W,maxMenuHeight:$,menuPlacement:T,menuPosition:N,menuShouldScrollIntoView:U},le=H.createElement(Mx,ge({},k,Q),function(oe){var me=oe.ref,Ae=oe.placerProps,ye=Ae.placement,ce=Ae.maxHeight;return H.createElement(h,ge({},k,Q,{innerRef:me,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:A,placement:ye}),H.createElement(uL,{captureEnabled:S,onTopArrive:Re,onBottomArrive:De,lockEnabled:V},function(qe){return H.createElement(f,ge({},k,{innerRef:function(Mr){i.getMenuListRef(Mr),qe(Mr)},innerProps:{role:"listbox","aria-multiselectable":k.isMulti,id:i.getElementId("listbox")},isLoading:A,maxHeight:ce,focusedOption:R}),be)}))});return x||N==="fixed"?H.createElement(g,ge({},k,{appendTo:x,controlElement:this.controlRef,menuPlacement:T,menuPosition:N}),le):le}},{key:"renderFormField",value:function(){var i=this,s=this.props,a=s.delimiter,c=s.isDisabled,h=s.isMulti,f=s.name,g=s.required,v=this.state.selectValue;if(g&&!this.hasValue()&&!c)return H.createElement(dL,{name:f,onFocus:this.onValueInputFocus});if(!(!f||c))if(h)if(a){var w=v.map(function(R){return i.getOptionValue(R)}).join(a);return H.createElement("input",{name:f,type:"hidden",value:w})}else{var C=v.length>0?v.map(function(R,O){return H.createElement("input",{key:"i-".concat(O),name:f,type:"hidden",value:i.getOptionValue(R)})}):H.createElement("input",{name:f,type:"hidden",value:""});return H.createElement("div",null,C)}else{var k=v[0]?this.getOptionValue(v[0]):"";return H.createElement("input",{name:f,type:"hidden",value:k})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,a=s.ariaSelection,c=s.focusedOption,h=s.focusedValue,f=s.isFocused,g=s.selectValue,v=this.getFocusableOptions();return H.createElement(XO,ge({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:c,focusedValue:h,isFocused:f,selectValue:g,focusableOptions:v,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,a=i.IndicatorsContainer,c=i.SelectContainer,h=i.ValueContainer,f=this.props,g=f.className,v=f.id,w=f.isDisabled,C=f.menuIsOpen,k=this.state.isFocused,R=this.commonProps=this.getCommonProps();return H.createElement(c,ge({},R,{className:g,innerProps:{id:v,onKeyDown:this.onKeyDown},isDisabled:w,isFocused:k}),this.renderLiveRegion(),H.createElement(s,ge({},R,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:w,isFocused:k,menuIsOpen:C}),H.createElement(h,ge({},R,{isDisabled:w}),this.renderPlaceholderOrValue(),this.renderInput()),H.createElement(a,ge({},R,{isDisabled:w}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var a=s.prevProps,c=s.clearFocusValueOnUpdate,h=s.inputIsHiddenAfterUpdate,f=s.ariaSelection,g=s.isFocused,v=s.prevWasFocused,w=s.instancePrefix,C=i.options,k=i.value,R=i.menuIsOpen,O=i.inputValue,S=i.isMulti,I=dw(k),A={};if(a&&(k!==a.value||C!==a.options||R!==a.menuIsOpen||O!==a.inputValue)){var z=R?AL(i,I):[],W=R?bw(Eh(i,I),"".concat(w,"-option")):[],$=c?RL(s,I):null,b=kL(s,z),T=mp(W,b);A={selectValue:I,focusedOption:b,focusedOptionId:T,focusableOptionsWithIds:W,focusedValue:$,clearFocusValueOnUpdate:!1}}var N=h!=null&&i!==a?{inputIsHidden:h,inputIsHiddenAfterUpdate:void 0}:{},x=f,V=g&&v;return g&&!V&&(x={value:Qc(S,I,I[0]||null),options:I,action:"initial-input-focus"},V=!v),(f==null?void 0:f.action)==="initial-input-focus"&&(x=null),fe(fe(fe({},A),N),{},{prevProps:i,ariaSelection:x,prevWasFocused:V})}}]),n}(H.Component);f1.defaultProps=bL;var OL=H.forwardRef(function(t,e){var n=BR(t);return H.createElement(f1,ge({ref:e},n))}),na=OL,Rw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],c=t[n++],h=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},m1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,g=s>>2,v=(s&3)<<4|c>>4;let w=(c&15)<<2|f>>6,C=f&63;h||(C=64,a||(w=64)),r.push(n[g],n[v],n[w],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||v==null)throw new NL;const w=s<<2|c>>4;if(r.push(w),f!==64){const C=c<<4&240|f>>2;if(r.push(C),v!==64){const k=f<<6&192|v;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ML=function(t){const e=p1(t);return m1.encodeByteArray(e,!0)},hd=function(t){return ML(t).replace(/\./g,"")},g1=function(t){try{return m1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=()=>DL().__FIREBASE_DEFAULTS__,FL=()=>{if(typeof process>"u"||typeof Rw>"u")return;const t=Rw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&g1(t[1]);return e&&JSON.parse(e)},sf=()=>{try{return VL()||FL()||UL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_1=t=>{var e,n;return(n=(e=sf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},v1=t=>{const e=_1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},y1=()=>{var t;return(t=sf())===null||t===void 0?void 0:t.config},w1=t=>{var e;return(e=sf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hd(JSON.stringify(n)),hd(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function jL(){var t;const e=(t=sf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $L(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WL(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qL(){return!jL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GL(){try{return typeof indexedDB=="object"}catch{return!1}}function KL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZL,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?QL(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new Nr(i,c,r)}}function QL(t,e){return t.replace(XL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XL=/\{\$([^}]+)}/g;function YL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(kw(s)&&kw(a)){if(!dd(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function JL(t,e){const n=new eN(t,e);return n.subscribe.bind(n)}class eN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gp),i.error===void 0&&(i.error=gp),i.complete===void 0&&(i.complete=gp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t){return t&&t._delegate?t._delegate:t}class to{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iN(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rN(t){return t===Io?void 0:t}function iN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const sN={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},aN=Me.INFO,lN={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},uN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C_{constructor(e){this.name=e,this._logLevel=aN,this._logHandler=uN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const cN=(t,e)=>e.some(n=>t instanceof n);let xw,Ow;function hN(){return xw||(xw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dN(){return Ow||(Ow=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T1=new WeakMap,Fm=new WeakMap,S1=new WeakMap,_p=new WeakMap,b_=new WeakMap;function fN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Zi(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&T1.set(n,t)}).catch(()=>{}),b_.set(e,t),e}function pN(t){if(Fm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Fm.set(t,e)}let Um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||S1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mN(t){Um=t(Um)}function gN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vp(this),e,...n);return S1.set(r,e.sort?e.sort():[e]),Zi(r)}:dN().includes(t)?function(...e){return t.apply(vp(this),e),Zi(T1.get(this))}:function(...e){return Zi(t.apply(vp(this),e))}}function _N(t){return typeof t=="function"?gN(t):(t instanceof IDBTransaction&&pN(t),cN(t,hN())?new Proxy(t,Um):t)}function Zi(t){if(t instanceof IDBRequest)return fN(t);if(_p.has(t))return _p.get(t);const e=_N(t);return e!==t&&(_p.set(t,e),b_.set(e,t)),e}const vp=t=>b_.get(t);function vN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=Zi(a);return r&&a.addEventListener("upgradeneeded",h=>{r(Zi(a.result),h.oldVersion,h.newVersion,Zi(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const yN=["get","getKey","getAll","getAllKeys","count"],wN=["put","add","delete","clear"],yp=new Map;function Lw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yp.get(e))return yp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yN.includes(n)))return;const s=async function(a,...c){const h=this.transaction(a,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&h.done]))[0]};return yp.set(e,s),s}mN(t=>({...t,get:(e,n,r)=>Lw(e,n)||t.get(e,n,r),has:(e,n)=>!!Lw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",Nw="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new C_("@firebase/app"),SN="@firebase/app-compat",IN="@firebase/analytics-compat",PN="@firebase/analytics",CN="@firebase/app-check-compat",bN="@firebase/app-check",AN="@firebase/auth",RN="@firebase/auth-compat",kN="@firebase/database",xN="@firebase/database-compat",ON="@firebase/functions",LN="@firebase/functions-compat",NN="@firebase/installations",MN="@firebase/installations-compat",DN="@firebase/messaging",VN="@firebase/messaging-compat",FN="@firebase/performance",UN="@firebase/performance-compat",zN="@firebase/remote-config",BN="@firebase/remote-config-compat",jN="@firebase/storage",$N="@firebase/storage-compat",HN="@firebase/firestore",WN="@firebase/vertexai-preview",qN="@firebase/firestore-compat",GN="firebase",KN="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",ZN={[zm]:"fire-core",[SN]:"fire-core-compat",[PN]:"fire-analytics",[IN]:"fire-analytics-compat",[bN]:"fire-app-check",[CN]:"fire-app-check-compat",[AN]:"fire-auth",[RN]:"fire-auth-compat",[kN]:"fire-rtdb",[xN]:"fire-rtdb-compat",[ON]:"fire-fn",[LN]:"fire-fn-compat",[NN]:"fire-iid",[MN]:"fire-iid-compat",[DN]:"fire-fcm",[VN]:"fire-fcm-compat",[FN]:"fire-perf",[UN]:"fire-perf-compat",[zN]:"fire-rc",[BN]:"fire-rc-compat",[jN]:"fire-gcs",[$N]:"fire-gcs-compat",[HN]:"fire-fst",[qN]:"fire-fst-compat",[WN]:"fire-vertex","fire-js":"fire-js",[GN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Map,QN=new Map,jm=new Map;function Mw(t,e){try{t.container.addComponent(e)}catch(n){$o.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ho(t){const e=t.name;if(jm.has(e))return $o.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,t);for(const n of fd.values())Mw(n,t);for(const n of QN.values())Mw(n,t);return!0}function af(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new Mu("app","Firebase",XN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=KN;function I1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qi.create("bad-app-name",{appName:String(i)});if(n||(n=y1()),!n)throw Qi.create("no-options");const s=fd.get(i);if(s){if(dd(n,s.options)&&dd(r,s.config))return s;throw Qi.create("duplicate-app",{appName:i})}const a=new oN(i);for(const h of jm.values())a.addComponent(h);const c=new YN(n,r,a);return fd.set(i,c),c}function A_(t=Bm){const e=fd.get(t);if(!e&&t===Bm&&y1())return I1();if(!e)throw Qi.create("no-app",{appName:t});return e}function br(t,e,n){var r;let i=(r=ZN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$o.warn(c.join(" "));return}Ho(new to(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firebase-heartbeat-database",eM=1,vu="firebase-heartbeat-store";let wp=null;function P1(){return wp||(wp=vN(JN,eM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),wp}async function tM(t){try{const n=(await P1()).transaction(vu),r=await n.objectStore(vu).get(C1(t));return await n.done,r}catch(e){if(e instanceof Nr)$o.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$o.warn(n.message)}}}async function Dw(t,e){try{const r=(await P1()).transaction(vu,"readwrite");await r.objectStore(vu).put(e,C1(t)),await r.done}catch(n){if(n instanceof Nr)$o.warn(n.message);else{const r=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$o.warn(r.message)}}}function C1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=1024,rM=30*24*60*60*1e3;class iM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=rM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vw(),{heartbeatsToSend:r,unsentEntries:i}=oM(this._heartbeatsCache.heartbeats),s=hd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Vw(){return new Date().toISOString().substring(0,10)}function oM(t,e=nM){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Fw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Fw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GL()?KL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Fw(t){return hd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){Ho(new to("platform-logger",e=>new EN(e),"PRIVATE")),Ho(new to("heartbeat",e=>new iM(e),"PRIVATE")),br(zm,Nw,t),br(zm,Nw,"esm2017"),br("fire-js","")}aM("");var lM="firebase",uM="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(lM,uM,"app");function R_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function b1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cM=b1,A1=new Mu("auth","Firebase",b1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new C_("@firebase/auth");function hM(t,...e){pd.logLevel<=Me.WARN&&pd.warn(`Auth (${Jo}): ${t}`,...e)}function Th(t,...e){pd.logLevel<=Me.ERROR&&pd.error(`Auth (${Jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,...e){throw x_(t,...e)}function lr(t,...e){return x_(t,...e)}function k_(t,e,n){const r=Object.assign(Object.assign({},cM()),{[e]:n});return new Mu("auth","Firebase",r).create(e,{appName:t.name})}function Lo(t){return k_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&xr(t,"argument-error"),k_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return A1.create(t,...e)}function Ee(t,e,...n){if(!t)throw x_(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Th(e),new Error(e)}function hi(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fM(){return Uw()==="http:"||Uw()==="https:"}function Uw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fM()||$L()||"connection"in navigator)?navigator.onLine:!0}function mM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=BL()||HL()}get(){return pM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t,e){hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new Vu(3e4,6e4);function L_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Aa(t,e,n,r,i={}){return k1(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=Du(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),R1.fetch()(x1(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},s))})}async function k1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gM),e);try{const i=new yM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Xc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw Xc(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw Xc(t,"user-disabled",a);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw k_(t,g,f);xr(t,g)}}catch(i){if(i instanceof Nr)throw i;xr(t,"network-request-failed",{message:String(i)})}}async function vM(t,e,n,r,i={}){const s=await Aa(t,e,n,r,i);return"mfaPendingCredential"in s&&xr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function x1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?O_(t.config,i):`${t.config.apiScheme}://${i}`}class yM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),_M.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e){return Aa(t,"POST","/v1/accounts:delete",e)}async function O1(t,e){return Aa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EM(t,e=!1){const n=tn(t),r=await n.getIdToken(e),i=N_(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ql(Ep(i.auth_time)),issuedAtTime:ql(Ep(i.iat)),expirationTime:ql(Ep(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ep(t){return Number(t)*1e3}function N_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const i=g1(n);return i?JSON.parse(i):(Th("Failed to decode base64 JWT payload"),null)}catch(i){return Th("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function zw(t){const e=N_(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&TM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){var e;const n=t.auth,r=await t.getIdToken(),i=await yu(t,O1(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?L1(s.providerUserInfo):[],c=PM(t.providerData,a),h=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),g=h?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Hm(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function IM(t){const e=tn(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function L1(t){return t.map(e=>{var{providerId:n}=e,r=R_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(t,e){const n=await k1(t,{},async()=>{const r=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=x1(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",R1.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bM(t,e){return Aa(t,"POST","/v2/accounts:revokeToken",L_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=zw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await CM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new ra;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ra,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=R_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EM(this,e)}reload(){return IM(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(Lo(this.auth));const e=await this.getIdToken();return await yu(this,wM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,h,f,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,C=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,k=(a=n.photoURL)!==null&&a!==void 0?a:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,O=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,S=(f=n.createdAt)!==null&&f!==void 0?f:void 0,I=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:A,emailVerified:z,isAnonymous:W,providerData:$,stsTokenManager:b}=n;Ee(A&&b,e,"internal-error");const T=ra.fromJSON(this.name,b);Ee(typeof A=="string",e,"internal-error"),Ai(v,e.name),Ai(w,e.name),Ee(typeof z=="boolean",e,"internal-error"),Ee(typeof W=="boolean",e,"internal-error"),Ai(C,e.name),Ai(k,e.name),Ai(R,e.name),Ai(O,e.name),Ai(S,e.name),Ai(I,e.name);const N=new ti({uid:A,auth:e,email:w,emailVerified:z,displayName:v,isAnonymous:W,photoURL:k,phoneNumber:C,tenantId:R,stsTokenManager:T,createdAt:S,lastLoginAt:I});return $&&Array.isArray($)&&(N.providerData=$.map(x=>Object.assign({},x))),O&&(N._redirectEventId=O),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new ra;i.updateFromServerResponse(n);const s=new ti({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await md(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?L1(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new ra;c.updateFromIdToken(r);const h=new ti({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;function ni(t){hi(t instanceof Function,"Expected a class definition");let e=Bw.get(t);return e?(hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}N1.type="NONE";const jw=N1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t,e,n){return`firebase:${t}:${e}:${n}`}class ia{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ia(ni(jw),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||ni(jw);const a=Sh(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const g=await f._get(a);if(g){const v=ti._fromJSON(e,g);f!==s&&(c=v),s=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new ia(s,e,r):(s=h[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new ia(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U1(e))return"Blackberry";if(z1(e))return"Webos";if(M_(e))return"Safari";if((e.includes("chrome/")||D1(e))&&!e.includes("edge/"))return"Chrome";if(F1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function M1(t=qt()){return/firefox\//i.test(t)}function M_(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D1(t=qt()){return/crios\//i.test(t)}function V1(t=qt()){return/iemobile/i.test(t)}function F1(t=qt()){return/android/i.test(t)}function U1(t=qt()){return/blackberry/i.test(t)}function z1(t=qt()){return/webos/i.test(t)}function lf(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AM(t=qt()){var e;return lf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RM(){return WL()&&document.documentMode===10}function B1(t=qt()){return lf(t)||F1(t)||z1(t)||U1(t)||/windows phone/i.test(t)||V1(t)}function kM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e=[]){let n;switch(t){case"Browser":n=$w(qt());break;case"Worker":n=`${$w(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{const h=e(s);a(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t,e={}){return Aa(t,"GET","/v2/passwordPolicy",L_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=6;class NM{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:LM,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hw(this),this.idTokenSubscription=new Hw(this),this.beforeStateQueue=new xM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await O1(this,{idToken:e}),r=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(Lo(this));const n=e?tn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(Lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(Lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OM(this),n=new NM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function uf(t){return tn(t)}class Hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=JL(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DM(t){D_=t}function VM(t){return D_.loadJS(t)}function FM(){return D_.gapiScript}function UM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t,e){const n=af(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(dd(s,e??{}))return i;xr(i,"already-initialized")}return n.initialize({options:e})}function BM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jM(t,e,n){const r=uf(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=$1(e),{host:a,port:c}=$M(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),HM()}function $1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $M(t){const e=$1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ww(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Ww(a)}}}function Ww(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e){return vM(t,"POST","/v1/accounts:signInWithIdp",L_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="http://localhost";class Wo extends H1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=R_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Wo(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return oa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oa(e,n)}buildRequest(){const e={requestUri:WM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends V_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Fu{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Fu{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Fu{constructor(){super("twitter.com")}static credential(e,n){return Wo._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ti._fromIdTokenResponse(e,r,i),a=qw(r);return new ma({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qw(r);return new ma({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends Nr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gd(e,n,r,i)}}function W1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(t,s,e,r):s})}async function qM(t,e,n=!1){const r=await yu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ma._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t,e,n=!1){const{auth:r}=t;if(Jr(r.app))return Promise.reject(Lo(r));const i="reauthenticate";try{const s=await yu(t,W1(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const a=N_(s.idToken);Ee(a,r,"internal-error");const{sub:c}=a;return Ee(t.uid===c,r,"user-mismatch"),ma._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&xr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t,e,n=!1){if(Jr(t.app))return Promise.reject(Lo(t));const r="signIn",i=await W1(t,r,e),s=await ma._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function ZM(t,e,n,r){return tn(t).onIdTokenChanged(e,n,r)}function QM(t,e,n){return tn(t).beforeAuthStateChanged(e,n)}function XM(t){return tn(t).signOut()}const _d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_d,"1"),this.storage.removeItem(_d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(){const t=qt();return M_(t)||lf(t)}const JM=1e3,e2=10;class G1 extends q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=YM()&&kM(),this.fallbackToPolling=B1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,h)=>{this.notifyListeners(a,h)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);RM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,e2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},JM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}G1.type="LOCAL";const t2=G1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}K1.type="SESSION";const Z1=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async f=>f(n.origin,s)),h=await n2(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,h)=>{const f=F_("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(v){const w=v;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(w.data.response);break;default:clearTimeout(g),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function i2(t){Ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function o2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function a2(){return Q1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebaseLocalStorageDb",l2=1,vd="firebaseLocalStorage",Y1="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(t,e){return t.transaction([vd],e?"readwrite":"readonly").objectStore(vd)}function u2(){const t=indexedDB.deleteDatabase(X1);return new Uu(t).toPromise()}function Wm(){const t=indexedDB.open(X1,l2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vd,{keyPath:Y1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vd)?e(r):(r.close(),await u2(),e(await Wm()))})})}async function Gw(t,e,n){const r=hf(t,!0).put({[Y1]:e,value:n});return new Uu(r).toPromise()}async function c2(t,e){const n=hf(t,!1).get(e),r=await new Uu(n).toPromise();return r===void 0?null:r.value}function Kw(t,e){const n=hf(t,!0).delete(e);return new Uu(n).toPromise()}const h2=800,d2=3;class J1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(a2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await o2(),!this.activeServiceWorker)return;this.sender=new r2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await Gw(e,_d,"1"),await Kw(e,_d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>c2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hf(i,!1).getAll();return new Uu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J1.type="LOCAL";const f2=J1;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e){return e?ni(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends H1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p2(t){return KM(t.auth,new U_(t),t.bypassAuthState)}function m2(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),GM(n,new U_(t),t.bypassAuthState)}async function g2(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),qM(n,new U_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p2;case"linkViaPopup":case"linkViaRedirect":return g2;case"reauthViaPopup":case"reauthViaRedirect":return m2;default:xr(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new Vu(2e3,1e4);async function v2(t,e,n){if(Jr(t.app))return Promise.reject(lr(t,"operation-not-supported-in-this-environment"));const r=uf(t);dM(t,e,V_);const i=eI(r,n);return new Ao(r,"signInViaPopup",e,i).executeNotNull()}class Ao extends tI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=F_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_2.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="pendingRedirect",Ih=new Map;class w2 extends tI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const r=await E2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E2(t,e){const n=I2(e),r=S2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function T2(t,e){Ih.set(t._key(),e)}function S2(t){return ni(t._redirectPersistence)}function I2(t){return Sh(y2,t.config.apiKey,t.name)}async function P2(t,e,n=!1){if(Jr(t.app))return Promise.reject(Lo(t));const r=uf(t),i=eI(r,e),a=await new w2(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=10*60*1e3;class b2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zw(e))}saveEventToCache(e){this.cachedEventUids.add(Zw(e)),this.lastProcessedEventTime=Date.now()}}function Zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(t,e={}){return Aa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x2=/^https?/;async function O2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await R2(t);for(const n of e)try{if(L2(n))return}catch{}xr(t,"unauthorized-domain")}function L2(t){const e=$m(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!x2.test(n))return!1;if(k2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Vu(3e4,6e4);function Qw(){const t=Ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function M2(t){return new Promise((e,n)=>{var r,i,s;function a(){Qw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qw(),n(lr(t,"network-request-failed"))},timeout:N2.get()})}if(!((i=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ar().gapi)===null||s===void 0)&&s.load)a();else{const c=UM("iframefcb");return Ar()[c]=()=>{gapi.load?a():n(lr(t,"network-request-failed"))},VM(`${FM()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Ph=null,e})}let Ph=null;function D2(t){return Ph=Ph||M2(t),Ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new Vu(5e3,15e3),F2="__/auth/iframe",U2="emulator/auth/iframe",z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},B2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j2(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O_(e,U2):`https://${t.config.authDomain}/${F2}`,r={apiKey:e.apiKey,appName:t.name,v:Jo},i=B2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Du(r).slice(1)}`}async function $2(t){const e=await D2(t),n=Ar().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:j2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=lr(t,"network-request-failed"),c=Ar().setTimeout(()=>{s(a)},V2.get());function h(){Ar().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W2=500,q2=600,G2="_blank",K2="http://localhost";class Xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z2(t,e,n,r=W2,i=q2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},H2),{width:r.toString(),height:i.toString(),top:s,left:a}),f=qt().toLowerCase();n&&(c=D1(f)?G2:n),M1(f)&&(e=e||K2,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[C,k])=>`${w}${C}=${k},`,"");if(AM(f)&&c!=="_self")return Q2(e||"",c),new Xw(null);const v=window.open(e||"",c,g);Ee(v,t,"popup-blocked");try{v.focus()}catch{}return new Xw(v)}function Q2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="__/auth/handler",Y2="emulator/auth/handler",J2=encodeURIComponent("fac");async function Yw(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jo,eventId:i};if(e instanceof V_){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",YL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))a[g]=v}if(e instanceof Fu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(a.scopes=g.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await t._getAppCheckToken(),f=h?`#${J2}=${encodeURIComponent(h)}`:"";return`${eD(t)}?${Du(c).slice(1)}${f}`}function eD({config:t}){return t.emulator?O_(t,Y2):`https://${t.authDomain}/${X2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class tD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z1,this._completeRedirectFn=P2,this._overrideRedirectResult=T2}async _openPopup(e,n,r,i){var s;hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Yw(e,n,r,$m(),i);return Z2(e,a,F_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Yw(e,n,r,$m(),i);return i2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $2(e),r=new b2(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tp,{type:Tp},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Tp];a!==void 0&&n(!!a),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B1()||M_()||lf()}}const nD=tD;var Jw="@firebase/auth",e0="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oD(t){Ho(new to("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;Ee(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(t)},f=new MM(r,i,s,h);return BM(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ho(new to("auth-internal",e=>{const n=uf(e.getProvider("auth").getImmediate());return(r=>new rD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(Jw,e0,iD(t)),br(Jw,e0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=5*60,aD=w1("authIdTokenMaxAge")||sD;let t0=null;const lD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aD)return;const i=n==null?void 0:n.token;t0!==i&&(t0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uD(t=A_()){const e=af(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zM(t,{popupRedirectResolver:nD,persistence:[f2,t2,Z1]}),r=w1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=lD(s.toString());QM(n,a,()=>a(n.currentUser)),ZM(n,c=>a(c))}}const i=_1("auth");return i&&jM(n,`http://${i}`),n}function cD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oD("Browser");var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var No,rI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function N(){}N.prototype=T.prototype,b.D=T.prototype,b.prototype=new N,b.prototype.constructor=b,b.C=function(x,V,U){for(var M=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)M[Re-2]=arguments[Re];return T.prototype[V].apply(x,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,T,N){N||(N=0);var x=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)x[V]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(V=0;16>V;++V)x[V]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=b.g[0],N=b.g[1],V=b.g[2];var U=b.g[3],M=T+(U^N&(V^U))+x[0]+3614090360&4294967295;T=N+(M<<7&4294967295|M>>>25),M=U+(V^T&(N^V))+x[1]+3905402710&4294967295,U=T+(M<<12&4294967295|M>>>20),M=V+(N^U&(T^N))+x[2]+606105819&4294967295,V=U+(M<<17&4294967295|M>>>15),M=N+(T^V&(U^T))+x[3]+3250441966&4294967295,N=V+(M<<22&4294967295|M>>>10),M=T+(U^N&(V^U))+x[4]+4118548399&4294967295,T=N+(M<<7&4294967295|M>>>25),M=U+(V^T&(N^V))+x[5]+1200080426&4294967295,U=T+(M<<12&4294967295|M>>>20),M=V+(N^U&(T^N))+x[6]+2821735955&4294967295,V=U+(M<<17&4294967295|M>>>15),M=N+(T^V&(U^T))+x[7]+4249261313&4294967295,N=V+(M<<22&4294967295|M>>>10),M=T+(U^N&(V^U))+x[8]+1770035416&4294967295,T=N+(M<<7&4294967295|M>>>25),M=U+(V^T&(N^V))+x[9]+2336552879&4294967295,U=T+(M<<12&4294967295|M>>>20),M=V+(N^U&(T^N))+x[10]+4294925233&4294967295,V=U+(M<<17&4294967295|M>>>15),M=N+(T^V&(U^T))+x[11]+2304563134&4294967295,N=V+(M<<22&4294967295|M>>>10),M=T+(U^N&(V^U))+x[12]+1804603682&4294967295,T=N+(M<<7&4294967295|M>>>25),M=U+(V^T&(N^V))+x[13]+4254626195&4294967295,U=T+(M<<12&4294967295|M>>>20),M=V+(N^U&(T^N))+x[14]+2792965006&4294967295,V=U+(M<<17&4294967295|M>>>15),M=N+(T^V&(U^T))+x[15]+1236535329&4294967295,N=V+(M<<22&4294967295|M>>>10),M=T+(V^U&(N^V))+x[1]+4129170786&4294967295,T=N+(M<<5&4294967295|M>>>27),M=U+(N^V&(T^N))+x[6]+3225465664&4294967295,U=T+(M<<9&4294967295|M>>>23),M=V+(T^N&(U^T))+x[11]+643717713&4294967295,V=U+(M<<14&4294967295|M>>>18),M=N+(U^T&(V^U))+x[0]+3921069994&4294967295,N=V+(M<<20&4294967295|M>>>12),M=T+(V^U&(N^V))+x[5]+3593408605&4294967295,T=N+(M<<5&4294967295|M>>>27),M=U+(N^V&(T^N))+x[10]+38016083&4294967295,U=T+(M<<9&4294967295|M>>>23),M=V+(T^N&(U^T))+x[15]+3634488961&4294967295,V=U+(M<<14&4294967295|M>>>18),M=N+(U^T&(V^U))+x[4]+3889429448&4294967295,N=V+(M<<20&4294967295|M>>>12),M=T+(V^U&(N^V))+x[9]+568446438&4294967295,T=N+(M<<5&4294967295|M>>>27),M=U+(N^V&(T^N))+x[14]+3275163606&4294967295,U=T+(M<<9&4294967295|M>>>23),M=V+(T^N&(U^T))+x[3]+4107603335&4294967295,V=U+(M<<14&4294967295|M>>>18),M=N+(U^T&(V^U))+x[8]+1163531501&4294967295,N=V+(M<<20&4294967295|M>>>12),M=T+(V^U&(N^V))+x[13]+2850285829&4294967295,T=N+(M<<5&4294967295|M>>>27),M=U+(N^V&(T^N))+x[2]+4243563512&4294967295,U=T+(M<<9&4294967295|M>>>23),M=V+(T^N&(U^T))+x[7]+1735328473&4294967295,V=U+(M<<14&4294967295|M>>>18),M=N+(U^T&(V^U))+x[12]+2368359562&4294967295,N=V+(M<<20&4294967295|M>>>12),M=T+(N^V^U)+x[5]+4294588738&4294967295,T=N+(M<<4&4294967295|M>>>28),M=U+(T^N^V)+x[8]+2272392833&4294967295,U=T+(M<<11&4294967295|M>>>21),M=V+(U^T^N)+x[11]+1839030562&4294967295,V=U+(M<<16&4294967295|M>>>16),M=N+(V^U^T)+x[14]+4259657740&4294967295,N=V+(M<<23&4294967295|M>>>9),M=T+(N^V^U)+x[1]+2763975236&4294967295,T=N+(M<<4&4294967295|M>>>28),M=U+(T^N^V)+x[4]+1272893353&4294967295,U=T+(M<<11&4294967295|M>>>21),M=V+(U^T^N)+x[7]+4139469664&4294967295,V=U+(M<<16&4294967295|M>>>16),M=N+(V^U^T)+x[10]+3200236656&4294967295,N=V+(M<<23&4294967295|M>>>9),M=T+(N^V^U)+x[13]+681279174&4294967295,T=N+(M<<4&4294967295|M>>>28),M=U+(T^N^V)+x[0]+3936430074&4294967295,U=T+(M<<11&4294967295|M>>>21),M=V+(U^T^N)+x[3]+3572445317&4294967295,V=U+(M<<16&4294967295|M>>>16),M=N+(V^U^T)+x[6]+76029189&4294967295,N=V+(M<<23&4294967295|M>>>9),M=T+(N^V^U)+x[9]+3654602809&4294967295,T=N+(M<<4&4294967295|M>>>28),M=U+(T^N^V)+x[12]+3873151461&4294967295,U=T+(M<<11&4294967295|M>>>21),M=V+(U^T^N)+x[15]+530742520&4294967295,V=U+(M<<16&4294967295|M>>>16),M=N+(V^U^T)+x[2]+3299628645&4294967295,N=V+(M<<23&4294967295|M>>>9),M=T+(V^(N|~U))+x[0]+4096336452&4294967295,T=N+(M<<6&4294967295|M>>>26),M=U+(N^(T|~V))+x[7]+1126891415&4294967295,U=T+(M<<10&4294967295|M>>>22),M=V+(T^(U|~N))+x[14]+2878612391&4294967295,V=U+(M<<15&4294967295|M>>>17),M=N+(U^(V|~T))+x[5]+4237533241&4294967295,N=V+(M<<21&4294967295|M>>>11),M=T+(V^(N|~U))+x[12]+1700485571&4294967295,T=N+(M<<6&4294967295|M>>>26),M=U+(N^(T|~V))+x[3]+2399980690&4294967295,U=T+(M<<10&4294967295|M>>>22),M=V+(T^(U|~N))+x[10]+4293915773&4294967295,V=U+(M<<15&4294967295|M>>>17),M=N+(U^(V|~T))+x[1]+2240044497&4294967295,N=V+(M<<21&4294967295|M>>>11),M=T+(V^(N|~U))+x[8]+1873313359&4294967295,T=N+(M<<6&4294967295|M>>>26),M=U+(N^(T|~V))+x[15]+4264355552&4294967295,U=T+(M<<10&4294967295|M>>>22),M=V+(T^(U|~N))+x[6]+2734768916&4294967295,V=U+(M<<15&4294967295|M>>>17),M=N+(U^(V|~T))+x[13]+1309151649&4294967295,N=V+(M<<21&4294967295|M>>>11),M=T+(V^(N|~U))+x[4]+4149444226&4294967295,T=N+(M<<6&4294967295|M>>>26),M=U+(N^(T|~V))+x[11]+3174756917&4294967295,U=T+(M<<10&4294967295|M>>>22),M=V+(T^(U|~N))+x[2]+718787259&4294967295,V=U+(M<<15&4294967295|M>>>17),M=N+(U^(V|~T))+x[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,b.g[2]=b.g[2]+V&4294967295,b.g[3]=b.g[3]+U&4294967295}r.prototype.u=function(b,T){T===void 0&&(T=b.length);for(var N=T-this.blockSize,x=this.B,V=this.h,U=0;U<T;){if(V==0)for(;U<=N;)i(this,b,U),U+=this.blockSize;if(typeof b=="string"){for(;U<T;)if(x[V++]=b.charCodeAt(U++),V==this.blockSize){i(this,x),V=0;break}}else for(;U<T;)if(x[V++]=b[U++],V==this.blockSize){i(this,x),V=0;break}}this.h=V,this.o+=T},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;var N=8*this.o;for(T=b.length-8;T<b.length;++T)b[T]=N&255,N/=256;for(this.u(b),b=Array(16),T=N=0;4>T;++T)for(var x=0;32>x;x+=8)b[N++]=this.g[T]>>>x&255;return b};function s(b,T){var N=c;return Object.prototype.hasOwnProperty.call(N,b)?N[b]:N[b]=T(b)}function a(b,T){this.h=T;for(var N=[],x=!0,V=b.length-1;0<=V;V--){var U=b[V]|0;x&&U==T||(N[V]=U,x=!1)}this.g=N}var c={};function h(b){return-128<=b&&128>b?s(b,function(T){return new a([T|0],0>T?-1:0)}):new a([b|0],0>b?-1:0)}function f(b){if(isNaN(b)||!isFinite(b))return v;if(0>b)return O(f(-b));for(var T=[],N=1,x=0;b>=N;x++)T[x]=b/N|0,N*=4294967296;return new a(T,0)}function g(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return O(g(b.substring(1),T));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=f(Math.pow(T,8)),x=v,V=0;V<b.length;V+=8){var U=Math.min(8,b.length-V),M=parseInt(b.substring(V,V+U),T);8>U?(U=f(Math.pow(T,U)),x=x.j(U).add(f(M))):(x=x.j(N),x=x.add(f(M)))}return x}var v=h(0),w=h(1),C=h(16777216);t=a.prototype,t.m=function(){if(R(this))return-O(this).m();for(var b=0,T=1,N=0;N<this.g.length;N++){var x=this.i(N);b+=(0<=x?x:4294967296+x)*T,T*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(k(this))return"0";if(R(this))return"-"+O(this).toString(b);for(var T=f(Math.pow(b,6)),N=this,x="";;){var V=z(N,T).g;N=S(N,V.j(T));var U=((0<N.g.length?N.g[0]:N.h)>>>0).toString(b);if(N=V,k(N))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function k(b){if(b.h!=0)return!1;for(var T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function R(b){return b.h==-1}t.l=function(b){return b=S(this,b),R(b)?-1:k(b)?0:1};function O(b){for(var T=b.g.length,N=[],x=0;x<T;x++)N[x]=~b.g[x];return new a(N,~b.h).add(w)}t.abs=function(){return R(this)?O(this):this},t.add=function(b){for(var T=Math.max(this.g.length,b.g.length),N=[],x=0,V=0;V<=T;V++){var U=x+(this.i(V)&65535)+(b.i(V)&65535),M=(U>>>16)+(this.i(V)>>>16)+(b.i(V)>>>16);x=M>>>16,U&=65535,M&=65535,N[V]=M<<16|U}return new a(N,N[N.length-1]&-2147483648?-1:0)};function S(b,T){return b.add(O(T))}t.j=function(b){if(k(this)||k(b))return v;if(R(this))return R(b)?O(this).j(O(b)):O(O(this).j(b));if(R(b))return O(this.j(O(b)));if(0>this.l(C)&&0>b.l(C))return f(this.m()*b.m());for(var T=this.g.length+b.g.length,N=[],x=0;x<2*T;x++)N[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<b.g.length;V++){var U=this.i(x)>>>16,M=this.i(x)&65535,Re=b.i(V)>>>16,De=b.i(V)&65535;N[2*x+2*V]+=M*De,I(N,2*x+2*V),N[2*x+2*V+1]+=U*De,I(N,2*x+2*V+1),N[2*x+2*V+1]+=M*Re,I(N,2*x+2*V+1),N[2*x+2*V+2]+=U*Re,I(N,2*x+2*V+2)}for(x=0;x<T;x++)N[x]=N[2*x+1]<<16|N[2*x];for(x=T;x<2*T;x++)N[x]=0;return new a(N,0)};function I(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function A(b,T){this.g=b,this.h=T}function z(b,T){if(k(T))throw Error("division by zero");if(k(b))return new A(v,v);if(R(b))return T=z(O(b),T),new A(O(T.g),O(T.h));if(R(T))return T=z(b,O(T)),new A(O(T.g),T.h);if(30<b.g.length){if(R(b)||R(T))throw Error("slowDivide_ only works with positive integers.");for(var N=w,x=T;0>=x.l(b);)N=W(N),x=W(x);var V=$(N,1),U=$(x,1);for(x=$(x,2),N=$(N,2);!k(x);){var M=U.add(x);0>=M.l(b)&&(V=V.add(N),U=M),x=$(x,1),N=$(N,1)}return T=S(b,V.j(T)),new A(V,T)}for(V=v;0<=b.l(T);){for(N=Math.max(1,Math.floor(b.m()/T.m())),x=Math.ceil(Math.log(N)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=f(N),M=U.j(T);R(M)||0<M.l(b);)N-=x,U=f(N),M=U.j(T);k(U)&&(U=w),V=V.add(U),b=S(b,M)}return new A(V,b)}t.A=function(b){return z(this,b).h},t.and=function(b){for(var T=Math.max(this.g.length,b.g.length),N=[],x=0;x<T;x++)N[x]=this.i(x)&b.i(x);return new a(N,this.h&b.h)},t.or=function(b){for(var T=Math.max(this.g.length,b.g.length),N=[],x=0;x<T;x++)N[x]=this.i(x)|b.i(x);return new a(N,this.h|b.h)},t.xor=function(b){for(var T=Math.max(this.g.length,b.g.length),N=[],x=0;x<T;x++)N[x]=this.i(x)^b.i(x);return new a(N,this.h^b.h)};function W(b){for(var T=b.g.length+1,N=[],x=0;x<T;x++)N[x]=b.i(x)<<1|b.i(x-1)>>>31;return new a(N,b.h)}function $(b,T){var N=T>>5;T%=32;for(var x=b.g.length-N,V=[],U=0;U<x;U++)V[U]=0<T?b.i(U+N)>>>T|b.i(U+N+1)<<32-T:b.i(U+N);return new a(V,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rI=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=g,No=a}).apply(typeof n0<"u"?n0:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iI,oI,Nl,sI,Ch,qm,aI,lI,uI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var y=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var B=u[P];if(!(B in y))break e;y=y[B]}u=u[u.length-1],P=y[u],m=m(P),m!=P&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function s(u,m){u instanceof String&&(u+="");var y=0,P=!1,B={next:function(){if(!P&&y<u.length){var K=y++;return{value:m(K,u[K]),done:!1}}return P=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(u){return u||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function h(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function f(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,P),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function w(u,m,y){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,w.apply(null,arguments)}function C(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var P=y.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function k(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(P,B,K){for(var ne=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ne[$e-2]=arguments[$e];return m.prototype[B].apply(P,ne)}}function R(u){const m=u.length;if(0<m){const y=Array(m);for(let P=0;P<m;P++)y[P]=u[P];return y}return[]}function O(u,m){for(let y=1;y<arguments.length;y++){const P=arguments[y];if(h(P)){const B=u.length||0,K=P.length||0;u.length=B+K;for(let ne=0;ne<K;ne++)u[B+ne]=P[ne]}else u.push(P)}}class S{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function I(u){return/^[\s\xa0]*$/.test(u)}function A(){var u=c.navigator;return u&&(u=u.userAgent)?u:""}function z(u){return z[" "](u),u}z[" "]=function(){};var W=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function $(u,m,y){for(const P in u)m.call(y,u[P],P,u)}function b(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function T(u){const m={};for(const y in u)m[y]=u[y];return m}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let y,P;for(let B=1;B<arguments.length;B++){P=arguments[B];for(y in P)u[y]=P[y];for(let K=0;K<N.length;K++)y=N[K],Object.prototype.hasOwnProperty.call(P,y)&&(u[y]=P[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function U(u){c.setTimeout(()=>{throw u},0)}function M(){var u=re;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,y){const P=De.get();P.set(m,y),this.h?this.h.next=P:this.g=P,this.h=P}}var De=new S(()=>new te,u=>u.reset());class te{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let be,G=!1,re=new Re,Q=()=>{const u=c.Promise.resolve(void 0);be=()=>{u.then(le)}};var le=()=>{for(var u;u=M();){try{u.h.call(u.g)}catch(y){U(y)}var m=De;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}G=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};c.addEventListener("test",y,m),c.removeEventListener("test",y,m)}catch{}return u}();function ye(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(W){e:{try{z(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ce[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ye.aa.h.call(this)}}k(ye,me);var ce={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),_t=0;function Mr(u,m,y,P,B){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!P,this.ha=B,this.key=++_t,this.da=this.fa=!1}function fr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Zn(u){this.src=u,this.g={},this.h=0}Zn.prototype.add=function(u,m,y,P,B){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ne=Dr(u,m,P,B);return-1<ne?(m=u[ne],y||(m.fa=!1)):(m=new Mr(m,this.src,K,!!P,B),m.fa=y,u.push(m)),m};function Nn(u,m){var y=m.type;if(y in u.g){var P=u.g[y],B=Array.prototype.indexOf.call(P,m,void 0),K;(K=0<=B)&&Array.prototype.splice.call(P,B,1),K&&(fr(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Dr(u,m,y,P){for(var B=0;B<u.length;++B){var K=u[B];if(!K.da&&K.listener==m&&K.capture==!!y&&K.ha==P)return B}return-1}var gi="closure_lm_"+(1e6*Math.random()|0),_i={};function Ma(u,m,y,P,B){if(Array.isArray(m)){for(var K=0;K<m.length;K++)Ma(u,m[K],y,P,B);return null}return y=Qu(y),u&&u[qe]?u.K(m,y,f(P)?!!P.capture:!!P,B):Da(u,m,y,!1,P,B)}function Da(u,m,y,P,B,K){if(!m)throw Error("Invalid event type");var ne=f(B)?!!B.capture:!!B,$e=os(u);if($e||(u[gi]=$e=new Zn(u)),y=$e.add(m,y,P,ne,K),y.proxy)return y;if(P=ns(),y.proxy=P,P.src=u,P.listener=y,u.addEventListener)Ae||(B=ne),B===void 0&&(B=!1),u.addEventListener(m.toString(),P,B);else if(u.attachEvent)u.attachEvent(is(m.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ns(){function u(y){return m.call(u.src,u.listener,y)}const m=Zu;return u}function Ku(u,m,y,P,B){if(Array.isArray(m))for(var K=0;K<m.length;K++)Ku(u,m[K],y,P,B);else P=f(P)?!!P.capture:!!P,y=Qu(y),u&&u[qe]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],y=Dr(K,y,P,B),-1<y&&(fr(K[y]),Array.prototype.splice.call(K,y,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=os(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Dr(m,y,P,B)),(y=-1<u?m[u]:null)&&rs(y))}function rs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[qe])Nn(m.i,u);else{var y=u.type,P=u.proxy;m.removeEventListener?m.removeEventListener(y,P,u.capture):m.detachEvent?m.detachEvent(is(y),P):m.addListener&&m.removeListener&&m.removeListener(P),(y=os(m))?(Nn(y,u),y.h==0&&(y.src=null,m[gi]=null)):fr(u)}}}function is(u){return u in _i?_i[u]:_i[u]="on"+u}function Zu(u,m){if(u.da)u=!0;else{m=new ye(m,this);var y=u.listener,P=u.ha||u.src;u.fa&&rs(u),u=y.call(P,m)}return u}function os(u){return u=u[gi],u instanceof Zn?u:null}var Va="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qu(u){return typeof u=="function"?u:(u[Va]||(u[Va]=function(m){return u.handleEvent(m)}),u[Va])}function vt(){oe.call(this),this.i=new Zn(this),this.M=this,this.F=null}k(vt,oe),vt.prototype[qe]=!0,vt.prototype.removeEventListener=function(u,m,y,P){Ku(this,u,m,y,P)};function kt(u,m){var y,P=u.F;if(P)for(y=[];P;P=P.F)y.push(P);if(u=u.M,P=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var B=m;m=new me(P,u),x(m,B)}if(B=!0,y)for(var K=y.length-1;0<=K;K--){var ne=m.g=y[K];B=lo(ne,P,!0,m)&&B}if(ne=m.g=u,B=lo(ne,P,!0,m)&&B,B=lo(ne,P,!1,m)&&B,y)for(K=0;K<y.length;K++)ne=m.g=y[K],B=lo(ne,P,!1,m)&&B}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],P=0;P<y.length;P++)fr(y[P]);delete u.g[m],u.h--}}this.F=null},vt.prototype.K=function(u,m,y,P){return this.i.add(String(u),m,!1,y,P)},vt.prototype.L=function(u,m,y,P){return this.i.add(String(u),m,!0,y,P)};function lo(u,m,y,P){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,K=0;K<m.length;++K){var ne=m[K];if(ne&&!ne.da&&ne.capture==y){var $e=ne.listener,yt=ne.ha||ne.src;ne.fa&&Nn(u.i,ne),B=$e.call(yt,P)!==!1&&B}}return B&&!P.defaultPrevented}function Xu(u,m,y){if(typeof u=="function")y&&(u=w(u,y));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:c.setTimeout(u,m||0)}function Fa(u){u.g=Xu(()=>{u.g=null,u.i&&(u.i=!1,Fa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Yu extends oe{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fa(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uo(u){oe.call(this),this.h=u,this.g={}}k(uo,oe);var Ua=[];function ss(u){$(u.g,function(m,y){this.g.hasOwnProperty(y)&&rs(m)},u),u.g={}}uo.prototype.N=function(){uo.aa.N.call(this),ss(this)},uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=c.JSON.stringify,Rf=c.JSON.parse,co=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function za(){}za.prototype.h=null;function Ju(u){return u.h||(u.h=u.i())}function Ba(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ls(){me.call(this,"d")}k(ls,me);function ja(){me.call(this,"c")}k(ja,me);var Vr={},ec=null;function us(){return ec=ec||new vt}Vr.La="serverreachability";function tc(u){me.call(this,Vr.La,u)}k(tc,me);function ho(u){const m=us();kt(m,new tc(m))}Vr.STAT_EVENT="statevent";function cs(u,m){me.call(this,Vr.STAT_EVENT,u),this.stat=m}k(cs,me);function Vt(u){const m=us();kt(m,new cs(m,u))}Vr.Ma="timingevent";function nc(u,m){me.call(this,Vr.Ma,u),this.size=m}k(nc,me);function fo(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},m)}function po(){this.g=!0}po.prototype.xa=function(){this.g=!1};function Mn(u,m,y,P,B,K){u.info(function(){if(u.g)if(K)for(var ne="",$e=K.split("&"),yt=0;yt<$e.length;yt++){var Ve=$e[yt].split("=");if(1<Ve.length){var Ke=Ve[0];Ve=Ve[1];var ot=Ke.split("_");ne=2<=ot.length&&ot[1]=="type"?ne+(Ke+"="+Ve+"&"):ne+(Ke+"=redacted&")}}else ne=null;else ne=K;return"XMLHTTP REQ ("+P+") [attempt "+B+"]: "+m+`
`+y+`
`+ne})}function ue(u,m,y,P,B,K,ne){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+B+"]: "+m+`
`+y+`
`+K+" "+ne})}function Fr(u,m,y,P){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ic(u,y)+(P?" "+P:"")})}function rc(u,m){u.info(function(){return"TIMEOUT: "+m})}po.prototype.info=function(){};function ic(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var P=y[u];if(!(2>P.length)){var B=P[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ne=1;ne<B.length;ne++)B[ne]=""}}}}return as(y)}catch{return m}}var mo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ds;function Qn(){}k(Qn,za),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},ds=new Qn;function Xn(u,m,y,P){this.j=u,this.i=m,this.l=y,this.R=P||1,this.U=new uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oc}function oc(){this.i=null,this.g="",this.h=!1}var sc={},$a={};function Ha(u,m,y){u.L=1,u.v=Vn(ct(m)),u.m=y,u.P=!0,Wa(u,null)}function Wa(u,m){u.F=Date.now(),ps(u),u.A=ct(u.v);var y=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),uc(y.i,"t",P),u.C=0,y=u.j.J,u.h=new oc,u.g=gc(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Yu(w(u.Y,u,u.g),u.O)),m=u.U,y=u.g,P=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ua[0]=B.toString()),B=Ua);for(var K=0;K<B.length;K++){var ne=Ma(y,B[K],P||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ho(),Mn(u.i,u.u,u.A,u.l,u.R,u.m)}Xn.prototype.ca=function(u){u=u.target;const m=this.M;m&&rn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const ot=rn(this.g);var m=this.g.Ba();const Pi=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||al(this.g)))){this.J||ot!=4||m==7||(m==8||0>=Pi?ho(3):ho(2)),qa(this);var y=this.g.Z();this.X=y;t:if(ac(this)){var P=al(this.g);u="";var B=P.length,K=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ur(this),go(this);var ne="";break t}this.h.i=new c.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(P[m],{stream:!(K&&m==B-1)});P.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=y==200,ue(this.i,this.u,this.A,this.l,this.R,ot,y),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,yt=this.g;if(($e=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I($e)){var Ve=$e;break t}}Ve=null}if(y=Ve)Fr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_o(this,y);else{this.o=!1,this.s=3,Vt(12),Ur(this),go(this);break e}}if(this.P){y=!0;let mt;for(;!this.J&&this.C<ne.length;)if(mt=fs(this,ne),mt==$a){ot==4&&(this.s=4,Vt(14),y=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==sc){this.s=4,Vt(15),Fr(this.i,this.l,ne,"[Invalid Chunk]"),y=!1;break}else Fr(this.i,this.l,mt,null),_o(this,mt);if(ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||ne.length!=0||this.h.h||(this.s=1,Vt(16),y=!1),this.o=this.o&&y,!y)Fr(this.i,this.l,ne,"[Invalid Chunked Response]"),Ur(this),go(this);else if(0<ne.length&&!this.W){this.W=!0;var Ke=this.j;Ke.g==this&&Ke.ba&&!Ke.M&&(Ke.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Ss(Ke),Ke.M=!0,Vt(11))}}else Fr(this.i,this.l,ne,null),_o(this,ne);ot==4&&Ur(this),this.o&&!this.J&&(ot==4?ul(this.j,this):(this.o=!1,ps(this)))}else kf(this.g),y==400&&0<ne.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Ur(this),go(this)}}}catch{}finally{}};function ac(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fs(u,m){var y=u.C,P=m.indexOf(`
`,y);return P==-1?$a:(y=Number(m.substring(y,P)),isNaN(y)?sc:(P+=1,P+y>m.length?$a:(m=m.slice(P,P+y),u.C=P+y,m)))}Xn.prototype.cancel=function(){this.J=!0,Ur(this)};function ps(u){u.S=Date.now()+u.I,lc(u,u.I)}function lc(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fo(w(u.ba,u),m)}function qa(u){u.B&&(c.clearTimeout(u.B),u.B=null)}Xn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(rc(this.i,this.A),this.L!=2&&(ho(),Vt(17)),Ur(this),this.s=2,go(this)):lc(this,this.S-u)};function go(u){u.j.G==0||u.J||ul(u.j,u)}function Ur(u){qa(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ss(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function _o(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Le(y.h,u))){if(!u.K&&Le(y.h,u)&&y.G==3){try{var P=y.Da.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var B=P;if(B[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Ps(y),Es(y);else break e;Ts(y),Vt(18)}}else y.za=B[1],0<y.za-y.T&&37500>B[2]&&y.F&&y.v==0&&!y.C&&(y.C=fo(w(y.Za,y),6e3));if(1>=yi(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Hr(y,11)}else if((u.K||y.g==u)&&Ps(y),!I(m))for(B=y.Da.g.parse(m),m=0;m<B.length;m++){let Ve=B[m];if(y.T=Ve[0],Ve=Ve[1],y.G==2)if(Ve[0]=="c"){y.K=Ve[1],y.ia=Ve[2];const Ke=Ve[3];Ke!=null&&(y.la=Ke,y.j.info("VER="+y.la));const ot=Ve[4];ot!=null&&(y.Aa=ot,y.j.info("SVER="+y.Aa));const Pi=Ve[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(P=1.5*Pi,y.L=P,y.j.info("backChannelRequestTimeoutMs_="+P)),P=y;const mt=u.g;if(mt){const bs=mt.g?mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var K=P.h;K.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ze(K,K.h),K.h=null))}if(P.D){const gr=mt.g?mt.g.getResponseHeader("X-HTTP-Session-Id"):null;gr&&(P.ya=gr,we(P.I,P.D,gr))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),P=y;var ne=u;if(P.qa=Cs(P,P.J?P.ia:null,P.W),ne.K){yo(P.h,ne);var $e=ne,yt=P.L;yt&&($e.I=yt),$e.B&&(qa($e),ps($e)),P.g=ne}else er(P);0<y.i.length&&Ii(y)}else Ve[0]!="stop"&&Ve[0]!="close"||Hr(y,7);else y.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Hr(y,7):ws(y):Ve[0]!="noop"&&y.l&&y.l.ta(Ve),y.v=0)}}ho(4)}catch{}}var vo=class{constructor(u,m){this.g=u,this.map=m}};function Ga(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ka(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function Le(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ze(u,m){u.g?u.g.add(m):u.h=m}function yo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ga.prototype.cancel=function(){if(this.i=zr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zr(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return R(u.i)}function wi(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(h(u)){for(var m=[],y=u.length,P=0;P<y;P++)m.push(u[P]);return m}m=[],y=0;for(P in u)m[y++]=u[P];return m}function Za(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(h(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const P in u)m[y++]=P;return m}}}function Ie(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(h(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Za(u),P=wi(u),B=P.length,K=0;K<B;K++)m.call(void 0,P[K],y&&y[K],u)}var et=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var P=u[y].indexOf("="),B=null;if(0<=P){var K=u[y].substring(0,P);B=u[y].substring(P+1)}else K=u[y];m(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Dn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Dn){this.h=u.h,ms(this,u.j),this.o=u.o,this.g=u.g,Br(this,u.s),this.l=u.l;var m=u.i,y=new jr;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),pr(this,y),this.m=u.m}else u&&(m=String(u).match(et))?(this.h=!1,ms(this,m[1]||"",!0),this.o=Yn(m[2]||""),this.g=Yn(m[3]||"",!0),Br(this,m[4]),this.l=Yn(m[5]||"",!0),pr(this,m[6]||"",!0),this.m=Yn(m[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}Dn.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Jn(m,Ei,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Jn(m,Ei,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Jn(y,y.charAt(0)=="/"?Ja:Ya,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Jn(y,el)),u.join("")};function ct(u){return new Dn(u)}function ms(u,m,y){u.j=y?Yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Br(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function pr(u,m,y){m instanceof jr?(u.i=m,Fn(u.i,u.h)):(y||(m=Jn(m,gs)),u.i=new jr(m,u.h))}function we(u,m,y){u.i.set(m,y)}function Vn(u){return we(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Jn(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Xa),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xa(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ei=/[#\/\?@]/g,Ya=/[#\?:]/g,Ja=/[#\?]/g,gs=/[#\?@]/g,el=/#/g;function jr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&Qa(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=jr.prototype,t.add=function(u,m){wn(this),this.i=null,u=_e(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function tl(u,m){wn(u),m=_e(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _s(u,m){return wn(u),m=_e(u,m),u.g.has(m)}t.forEach=function(u,m){wn(this),this.g.forEach(function(y,P){y.forEach(function(B){u.call(m,B,P,this)},this)},this)},t.na=function(){wn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let P=0;P<m.length;P++){const B=u[P];for(let K=0;K<B.length;K++)y.push(m[P])}return y},t.V=function(u){wn(this);let m=[];if(typeof u=="string")_s(this,u)&&(m=m.concat(this.g.get(_e(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},t.set=function(u,m){return wn(this),this.i=null,u=_e(this,u),_s(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function uc(u,m,y){tl(u,m),0<y.length&&(u.i=null,u.g.set(_e(u,m),R(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var P=m[y];const K=encodeURIComponent(String(P)),ne=this.V(P);for(P=0;P<ne.length;P++){var B=K;ne[P]!==""&&(B+="="+encodeURIComponent(String(ne[P]))),u.push(B)}}return this.i=u.join("&")};function _e(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Fn(u,m){m&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(y,P){var B=P.toLowerCase();P!=B&&(tl(this,P),uc(this,B,y))},u)),u.j=m}function Ge(u,m){const y=new po;if(c.Image){const P=new Image;P.onload=C(Un,y,"TestLoadImage: loaded",!0,m,P),P.onerror=C(Un,y,"TestLoadImage: error",!1,m,P),P.onabort=C(Un,y,"TestLoadImage: abort",!1,m,P),P.ontimeout=C(Un,y,"TestLoadImage: timeout",!1,m,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else m(!1)}function cc(u,m){const y=new po,P=new AbortController,B=setTimeout(()=>{P.abort(),Un(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:P.signal}).then(K=>{clearTimeout(B),K.ok?Un(y,"TestPingServer: ok",!0,m):Un(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Un(y,"TestPingServer: error",!1,m)})}function Un(u,m,y,P,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),P(y)}catch{}}function nl(){this.g=new co}function rl(u,m,y){const P=y||"";try{Ie(u,function(B,K){let ne=B;f(B)&&(ne=as(B)),m.push(P+K+"="+encodeURIComponent(ne))})}catch(B){throw m.push(P+"type="+encodeURIComponent("_badmap")),B}}function En(u){this.l=u.Ub||null,this.j=u.eb||!1}k(En,za),En.prototype.g=function(){return new Ti(this.l,this.j)},En.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){vt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ti,vt),t=Ti.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Tn(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||c).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,it(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Si(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Si(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?it(this):Tn(this),this.readyState==3&&Si(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,it(this))},t.Qa=function(u){this.g&&(this.response=u,it(this))},t.ga=function(){this.g&&it(this)};function it(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Tn(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Tn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function il(u){let m="";return $(u,function(y,P){m+=P,m+=":",m+=y,m+=`\r
`}),m}function vs(u,m,y){e:{for(P in y){var P=!1;break e}P=!0}P||(y=il(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):we(u,m,y))}function tt(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(tt,vt);var hc=/^https?$/i,ol=["POST","PUT"];t=tt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,y,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ds.g(),this.v=this.o?Ju(this.o):Ju(ds),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){dc(this,K);return}if(u=y||"",y=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var B in P)y.set(B,P[B]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const K of P.keys())y.set(K,P.get(K));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(y.keys()).find(K=>K.toLowerCase()=="content-type"),B=c.FormData&&u instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ol,m,void 0))||P||B||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ne]of y)this.g.setRequestHeader(K,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hn(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){dc(this,K)}};function dc(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,sl(u),ys(u)}function sl(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,kt(this,"complete"),kt(this,"abort"),ys(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ys(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xe(this):this.bb())},t.bb=function(){xe(this)};function xe(u){if(u.h&&typeof a<"u"&&(!u.v[1]||rn(u)!=4||u.Z()!=2)){if(u.u&&rn(u)==4)Xu(u.Ea,0,u);else if(kt(u,"readystatechange"),rn(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var P;if(P=ne===0){var B=String(u.D).match(et)[1]||null;!B&&c.self&&c.self.location&&(B=c.self.location.protocol.slice(0,-1)),P=!hc.test(B?B.toLowerCase():"")}y=P}if(y)kt(u,"complete"),kt(u,"success");else{u.m=6;try{var K=2<rn(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",sl(u)}}finally{ys(u)}}}}function ys(u,m){if(u.g){hn(u);const y=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||kt(u,"ready");try{y.onreadystatechange=P}catch{}}}function hn(u){u.I&&(c.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function rn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rf(m)}};function al(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function kf(u){const m={};u=(u.g&&2<=rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(I(u[P]))continue;var y=V(u[P]);const B=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const K=m[B]||[];m[B]=K,K.push(y)}b(m,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function fc(u){this.Aa=0,this.i=[],this.j=new po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$r("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$r("baseRetryDelayMs",5e3,u),this.cb=$r("retryDelaySeedMs",1e4,u),this.Wa=$r("forwardChannelMaxRetries",2,u),this.wa=$r("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ga(u&&u.concurrentRequestLimit),this.Da=new nl,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fc.prototype,t.la=8,t.G=1,t.connect=function(u,m,y,P){Vt(0),this.W=u,this.H=m||{},y&&P!==void 0&&(this.H.OSID=y,this.H.OAID=P),this.F=this.X,this.I=Cs(this,null,this.W),Ii(this)};function ws(u){if(pc(u),u.G==3){var m=u.U++,y=ct(u.I);if(we(y,"SID",u.K),we(y,"RID",m),we(y,"TYPE","terminate"),wo(u,y),m=new Xn(u,u.j,m),m.L=2,m.v=Vn(ct(y)),y=!1,c.navigator&&c.navigator.sendBeacon)try{y=c.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&c.Image&&(new Image().src=m.v,y=!0),y||(m.g=gc(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ps(m)}mc(u)}function Es(u){u.g&&(Ss(u),u.g.cancel(),u.g=null)}function pc(u){Es(u),u.u&&(c.clearTimeout(u.u),u.u=null),Ps(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&c.clearTimeout(u.s),u.s=null)}function Ii(u){if(!Ka(u.h)&&!u.s){u.s=!0;var m=u.Ga;be||Q(),G||(be(),G=!0),re.add(m,u),u.B=0}}function xf(u,m){return yi(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fo(w(u.Ga,u,m),cl(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new Xn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=T(K),x(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var P=this.i[y];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=ll(this,B,m),y=ct(this.I),we(y,"RID",u),we(y,"CVER",22),this.D&&we(y,"X-HTTP-Session-Id",this.D),wo(this,y),K&&(this.O?m="headers="+encodeURIComponent(String(il(K)))+"&"+m:this.m&&vs(y,this.m,K)),Ze(this.h,B),this.Ua&&we(y,"TYPE","init"),this.P?(we(y,"$req",m),we(y,"SID","null"),B.T=!0,Ha(B,y,null)):Ha(B,y,m),this.G=2}}else this.G==3&&(u?Sn(this,u):this.i.length==0||Ka(this.h)||Sn(this))};function Sn(u,m){var y;m?y=m.l:y=u.U++;const P=ct(u.I);we(P,"SID",u.K),we(P,"RID",y),we(P,"AID",u.T),wo(u,P),u.m&&u.o&&vs(P,u.m,u.o),y=new Xn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ll(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ze(u.h,y),Ha(y,P,m)}function wo(u,m){u.H&&$(u.H,function(y,P){we(m,P,y)}),u.l&&Ie({},function(y,P){we(m,P,y)})}function ll(u,m,y){y=Math.min(u.i.length,y);var P=u.l?w(u.l.Na,u.l,u):null;e:{var B=u.i;let K=-1;for(;;){const ne=["count="+y];K==-1?0<y?(K=B[0].g,ne.push("ofs="+K)):K=0:ne.push("ofs="+K);let $e=!0;for(let yt=0;yt<y;yt++){let Ve=B[yt].g;const Ke=B[yt].map;if(Ve-=K,0>Ve)K=Math.max(0,B[yt].g-100),$e=!1;else try{rl(Ke,ne,"req"+Ve+"_")}catch{P&&P(Ke)}}if($e){P=ne.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,P}function er(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;be||Q(),G||(be(),G=!0),re.add(m,u),u.v=0}}function Ts(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fo(w(u.Fa,u),cl(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Is(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fo(w(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Es(this),Is(this))};function Ss(u){u.A!=null&&(c.clearTimeout(u.A),u.A=null)}function Is(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ct(u.qa);we(m,"RID","rpc"),we(m,"SID",u.K),we(m,"AID",u.T),we(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&we(m,"TO",u.ja),we(m,"TYPE","xmlhttp"),wo(u,m),u.m&&u.o&&vs(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Vn(ct(m)),y.m=null,y.P=!0,Wa(y,u)}t.Za=function(){this.C!=null&&(this.C=null,Es(this),Ts(this),Vt(19))};function Ps(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function ul(u,m){var y=null;if(u.g==m){Ps(u),Ss(u),u.g=null;var P=2}else if(Le(u.h,m))y=m.D,yo(u.h,m),P=1;else return;if(u.G!=0){if(m.o)if(P==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;P=us(),kt(P,new nc(P,y)),Ii(u)}else er(u);else if(B=m.s,B==3||B==0&&0<m.X||!(P==1&&xf(u,m)||P==2&&Ts(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),B){case 1:Hr(u,5);break;case 4:Hr(u,10);break;case 3:Hr(u,6);break;default:Hr(u,2)}}}function cl(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Hr(u,m){if(u.j.info("Error code "+m),m==2){var y=w(u.fb,u),P=u.Xa;const B=!P;P=new Dn(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ms(P,"https"),Vn(P),B?Ge(P.toString(),y):cc(P.toString(),y)}else Vt(2);u.G=0,u.l&&u.l.sa(m),mc(u),pc(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function mc(u){if(u.G=0,u.ka=[],u.l){const m=zr(u.h);(m.length!=0||u.i.length!=0)&&(O(u.ka,m),O(u.ka,u.i),u.h.i.length=0,R(u.i),u.i.length=0),u.l.ra()}}function Cs(u,m,y){var P=y instanceof Dn?ct(y):new Dn(y);if(P.g!="")m&&(P.g=m+"."+P.g),Br(P,P.s);else{var B=c.location;P=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var K=new Dn(null);P&&ms(K,P),m&&(K.g=m),B&&Br(K,B),y&&(K.l=y),P=K}return y=u.D,m=u.ya,y&&m&&we(P,y,m),we(P,"VER",u.la),wo(u,P),P}function gc(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new tt(new En({eb:y})):new tt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hl(){}t=hl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Eo(){}Eo.prototype.g=function(u,m){return new xt(u,m)};function xt(u,m){vt.call(this),this.g=new fc(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!I(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new zn(this)}k(xt,vt),xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){ws(this.g)},xt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=as(u),u=y);m.i.push(new vo(m.Ya++,u)),m.G==3&&Ii(m)},xt.prototype.N=function(){this.g.l=null,delete this.j,ws(this.g),delete this.g,xt.aa.N.call(this)};function mr(u){ls.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}k(mr,ls);function _c(){ja.call(this),this.status=1}k(_c,ja);function zn(u){this.g=u}k(zn,hl),zn.prototype.ua=function(){kt(this.g,"a")},zn.prototype.ta=function(u){kt(this.g,new mr(u))},zn.prototype.sa=function(u){kt(this.g,new _c)},zn.prototype.ra=function(){kt(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,uI=function(){return new Eo},lI=function(){return us()},aI=Vr,qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mo.NO_ERROR=0,mo.TIMEOUT=8,mo.HTTP_ERROR=6,Ch=mo,hs.COMPLETE="complete",sI=hs,Ba.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Nl=Ba,oI=En,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,iI=tt}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const r0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new C_("@firebase/firestore");function Cl(){return qo.logLevel}function ae(t,...e){if(qo.logLevel<=Me.DEBUG){const n=e.map(z_);qo.debug(`Firestore (${Ra}): ${t}`,...n)}}function di(t,...e){if(qo.logLevel<=Me.ERROR){const n=e.map(z_);qo.error(`Firestore (${Ra}): ${t}`,...n)}}function ga(t,...e){if(qo.logLevel<=Me.WARN){const n=e.map(z_);qo.warn(`Firestore (${Ra}): ${t}`,...n)}}function z_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${Ra}) INTERNAL ASSERTION FAILED: `+t;throw di(e),new Error(e)}function Xe(t,e){t||Te()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class dD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fD{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new cI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new Xt(e)}}class pD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _D{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new gD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function _a(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Rt(0,0))}static max(){return new Se(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends wu{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const yD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends wu{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return yD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(rt.fromString(e))}static fromName(e){return new pe(rt.fromString(e).popFirst(5))}static empty(){return new pe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new rt(e.slice()))}}function wD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new no(i,pe.empty(),e)}function ED(t){return new no(t.readTime,t.key,-1)}class no{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new no(Se.min(),pe.empty(),-1)}static max(){return new no(Se.max(),pe.empty(),-1)}}function TD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ID{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==SD)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&n()},h=>r(h))}),a=!0,s===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next(g=>{a[f]=g,++c,c===s&&r(a)},g=>i(g))}})}static doWhile(e,n){return new Y((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function PD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}B_.oe=-1;function df(t){return t==null}function yd(t){return t===0&&1/t==-1/0}function CD(t){return typeof t=="number"&&Number.isInteger(t)&&!yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ka(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=s??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(e){return new o0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class o0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new or([])}unionWith(e){let n=new Ht(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fI("Invalid base64 string: "+s):s}}(e);return new nn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const bD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=bD.exec(t);if(Xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Go(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $_(t){const e=t.mapValue.fields.__previous_value__;return j_(e)?$_(e):e}function Eu(t){const e=ro(t.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r,i,s,a,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}class Tu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?j_(t)?4:RD(t)?9007199254740991:10:Te()}function Or(t,e){if(t===e)return!0;const n=Ko(t);if(n!==Ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eu(t).isEqual(Eu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ro(i.timestampValue),c=ro(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Go(i.bytesValue).isEqual(Go(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Tt(i.geoPointValue.latitude)===Tt(s.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Tt(i.integerValue)===Tt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Tt(i.doubleValue),c=Tt(s.doubleValue);return a===c?yd(a)===yd(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:return function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(i0(a)!==i0(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(c[h]===void 0||!Or(a[h],c[h])))return!1;return!0}(t,e);default:return Te()}}function Su(t,e){return(t.values||[]).find(n=>Or(n,e))!==void 0}function va(t,e){if(t===e)return 0;const n=Ko(t),r=Ko(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(s,a){const c=Tt(s.integerValue||s.doubleValue),h=Tt(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return s0(t.timestampValue,e.timestampValue);case 4:return s0(Eu(t),Eu(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(s,a){const c=Go(s),h=Go(a);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const c=s.split("/"),h=a.split("/");for(let f=0;f<c.length&&f<h.length;f++){const g=je(c[f],h[f]);if(g!==0)return g}return je(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const c=je(Tt(s.latitude),Tt(a.latitude));return c!==0?c:je(Tt(s.longitude),Tt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const c=s.values||[],h=a.values||[];for(let f=0;f<c.length&&f<h.length;++f){const g=va(c[f],h[f]);if(g)return g}return je(c.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===eh.mapValue&&a===eh.mapValue)return 0;if(s===eh.mapValue)return 1;if(a===eh.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),f=a.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const w=je(h[v],g[v]);if(w!==0)return w;const C=va(c[h[v]],f[g[v]]);if(C!==0)return C}return je(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Te()}}function s0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=ro(t),r=ro(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function ya(t){return Gm(t)}function Gm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ro(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Go(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Gm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Gm(n.fields[a])}`;return i+"}"}(t.mapValue):Te()}function Km(t){return!!t&&"integerValue"in t}function H_(t){return!!t&&"arrayValue"in t}function a0(t){return!!t&&"nullValue"in t}function l0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bh(t){return!!t&&"mapValue"in t}function Gl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ka(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function RD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=Gl(a):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ka(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Hn(Gl(this.value))}}function pI(t){const e=[];return ka(t.fields,(n,r)=>{const i=new jt([n]);if(bh(r)){const s=pI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,s,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Jt(e,0,Se.min(),Se.min(),Se.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,Se.min(),Se.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Se.min(),Se.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n){this.position=e,this.inclusive=n}}function u0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=pe.comparator(pe.fromName(a.referenceValue),n.key):r=va(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function c0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n="asc"){this.field=e,this.dir=n}}function kD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{}class bt extends mI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OD(e,n,r):n==="array-contains"?new MD(e,r):n==="in"?new DD(e,r):n==="not-in"?new VD(e,r):n==="array-contains-any"?new FD(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LD(e,r):new ND(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(va(n,this.value)):n!==null&&Ko(this.value)===Ko(n)&&this.matchesComparison(va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends mI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Lr(e,n)}matches(e){return gI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gI(t){return t.op==="and"}function _I(t){return xD(t)&&gI(t)}function xD(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function Zm(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+ya(t.value);if(_I(t))return t.filters.map(e=>Zm(e)).join(",");{const e=t.filters.map(n=>Zm(n)).join(",");return`${t.op}(${e})`}}function vI(t,e){return t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&Or(r.value,i.value)}(t,e):t instanceof Lr?function(r,i){return i instanceof Lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,c)=>s&&vI(a,i.filters[c]),!0):!1}(t,e):void Te()}function yI(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${ya(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(yI).join(" ,")+"}"}(t):"Filter"}class OD extends bt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class LD extends bt{constructor(e,n){super(e,"in",n),this.keys=wI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ND extends bt{constructor(e,n){super(e,"not-in",n),this.keys=wI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class MD extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return H_(n)&&Su(n.arrayValue,this.value)}}class DD extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class VD extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Su(this.value.arrayValue,n)}}class FD extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!H_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Su(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}}function h0(t,e=null,n=[],r=[],i=null,s=null,a=null){return new UD(t,e,n,r,i,s,a)}function W_(t){const e=Pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ya(r)).join(",")),e.ue=n}return e.ue}function q_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c0(t.startAt,e.startAt)&&c0(t.endAt,e.endAt)}function Qm(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n=null,r=[],i=[],s=null,a="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zD(t,e,n,r,i,s,a,c){return new ff(t,e,n,r,i,s,a,c)}function EI(t){return new ff(t)}function d0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BD(t){return t.collectionGroup!==null}function Kl(t){const e=Pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Ht(jt.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ed(s,r))}),n.has(jt.keyField().canonicalString())||e.ce.push(new Ed(jt.keyField(),r))}return e.ce}function Rr(t){const e=Pe(t);return e.le||(e.le=jD(e,Kl(t))),e.le}function jD(t,e){if(t.limitType==="F")return h0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ed(i.field,s)});const n=t.endAt?new wd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wd(t.startAt.position,t.startAt.inclusive):null;return h0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xm(t,e,n){return new ff(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pf(t,e){return q_(Rr(t),Rr(e))&&t.limitType===e.limitType}function TI(t){return`${W_(Rr(t))}|lt:${t.limitType}`}function Ns(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yI(i)).join(", ")}]`),df(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ya(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ya(i)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function mf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Kl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,h){const f=u0(a,c,h);return a.inclusive?f<=0:f<0}(r.startAt,Kl(r),i)||r.endAt&&!function(a,c,h){const f=u0(a,c,h);return a.inclusive?f>=0:f>0}(r.endAt,Kl(r),i))}(t,e)}function $D(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SI(t){return(e,n)=>{let r=!1;for(const i of Kl(t)){const s=HD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HD(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(s,a,c){const h=a.data.field(s),f=c.data.field(s);return h!==null&&f!==null?va(h,f):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new ut(pe.comparator);function fi(){return WD}const II=new ut(pe.comparator);function Ml(...t){let e=II;for(const n of t)e=e.insert(n.key,n);return e}function PI(t){let e=II;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ro(){return Zl()}function CI(){return Zl()}function Zl(){return new xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const qD=new ut(pe.comparator),GD=new Ht(pe.comparator);function Ne(...t){let e=GD;for(const n of t)e=e.add(n);return e}const KD=new Ht(je);function ZD(){return KD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yd(e)?"-0":e}}function AI(t){return{integerValue:""+t}}function QD(t,e){return CD(e)?AI(e):bI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this._=void 0}}function XD(t,e,n){return t instanceof Td?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&j_(s)&&(s=$_(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Iu?kI(t,e):t instanceof Pu?xI(t,e):function(i,s){const a=RI(i,s),c=f0(a)+f0(i.Pe);return Km(a)&&Km(i.Pe)?AI(c):bI(i.serializer,c)}(t,e)}function YD(t,e,n){return t instanceof Iu?kI(t,e):t instanceof Pu?xI(t,e):n}function RI(t,e){return t instanceof Sd?function(r){return Km(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Td extends gf{}class Iu extends gf{constructor(e){super(),this.elements=e}}function kI(t,e){const n=OI(e);for(const r of t.elements)n.some(i=>Or(i,r))||n.push(r);return{arrayValue:{values:n}}}class Pu extends gf{constructor(e){super(),this.elements=e}}function xI(t,e){let n=OI(e);for(const r of t.elements)n=n.filter(i=>!Or(i,r));return{arrayValue:{values:n}}}class Sd extends gf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function f0(t){return Tt(t.integerValue||t.doubleValue)}function OI(t){return H_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Iu&&i instanceof Iu||r instanceof Pu&&i instanceof Pu?_a(r.elements,i.elements,Or):r instanceof Sd&&i instanceof Sd?Or(r.Pe,i.Pe):r instanceof Td&&i instanceof Td}(t.transform,e.transform)}class eV{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _f{}function LI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MI(t.key,oi.none()):new ju(t.key,t.data,oi.none());{const n=t.data,r=Hn.empty();let i=new Ht(jt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new es(t.key,r,new or(i.toArray()),oi.none())}}function tV(t,e,n){t instanceof ju?function(i,s,a){const c=i.value.clone(),h=m0(i.fieldTransforms,s,a.transformResults);c.setAll(h),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof es?function(i,s,a){if(!Ah(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=m0(i.fieldTransforms,s,a.transformResults),h=s.data;h.setAll(NI(i)),h.setAll(c),s.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ql(t,e,n,r){return t instanceof ju?function(s,a,c,h){if(!Ah(s.precondition,a))return c;const f=s.value.clone(),g=g0(s.fieldTransforms,h,a);return f.setAll(g),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof es?function(s,a,c,h){if(!Ah(s.precondition,a))return c;const f=g0(s.fieldTransforms,h,a),g=a.data;return g.setAll(NI(s)),g.setAll(f),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(s,a,c){return Ah(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function nV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RI(r.transform,i||null);s!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,s))}return n||null}function p0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_a(r,i,(s,a)=>JD(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends _f{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class es extends _f{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function m0(t,e,n){const r=new Map;Xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,YD(a,c,n[i]))}return r}function g0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,XD(s,a,e))}return r}class MI extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rV extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CI();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(i.key)?null:c;const h=LI(a,c);h!==null&&r.set(i.key,h),a.isValidDocument()||a.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(n,r)=>p0(n,r))&&_a(this.baseMutations,e.baseMutations,(n,r)=>p0(n,r))}}class G_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xe(e.mutations.length===r.length);let i=function(){return qD}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new G_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Fe;function aV(t){switch(t){default:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function DI(t){if(t===void 0)return di("GRPC error has no .code"),J.UNKNOWN;switch(t){case Et.OK:return J.OK;case Et.CANCELLED:return J.CANCELLED;case Et.UNKNOWN:return J.UNKNOWN;case Et.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Et.INTERNAL:return J.INTERNAL;case Et.UNAVAILABLE:return J.UNAVAILABLE;case Et.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Et.NOT_FOUND:return J.NOT_FOUND;case Et.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Et.ABORTED:return J.ABORTED;case Et.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Et.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(Fe=Et||(Et={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new No([4294967295,4294967295],0);function _0(t){const e=lV().encode(t),n=new rI;return n.update(e),new Uint8Array(n.digest())}function v0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new No([n,r],0),new No([i,s],0)]}class K_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dl(`Invalid padding: ${n}`);if(r<0)throw new Dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=No.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(No.fromNumber(r)));return i.compare(uV)===1&&(i=new No([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=_0(e),[r,i]=v0(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new K_(s,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Ie===0)return;const n=_0(e),[r,i]=v0(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vf(Se.min(),i,new ut(je),fi(),Ne())}}class $u{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $u(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class VI{constructor(e,n){this.targetId=e,this.me=n}}class FI{constructor(e,n,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class y0{constructor(){this.fe=0,this.ge=E0(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ne(),n=Ne(),r=Ne();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new $u(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=E0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cV{constructor(e){this.Le=e,this.Be=new Map,this.ke=fi(),this.qe=w0(),this.Qe=new ut(je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Qm(s))if(r===0){const a=new pe(s.path);this.Ue(n,a,Jt.newNoDocument(a,Se.min()))}else Xe(r===1);else{const a=this.Ye(n);if(a!==r){const c=this.Ze(e),h=c?this.Xe(c,e,a):1;if(h!==0){this.je(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,c;try{a=Go(r).toUint8Array()}catch(h){if(h instanceof fI)return ga("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new K_(a,i,s)}catch(h){return ga(h instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const c=this.Je(a);if(c){if(s.current&&Qm(c.target)){const h=new pe(c.target.path);this.ke.get(h)!==null||this.it(a,h)||this.Ue(a,h,Jt.newNoDocument(h,e))}s.be&&(n.set(a,s.Ce()),s.ve())}});let r=Ne();this.qe.forEach((s,a)=>{let c=!0;a.forEachWhile(h=>{const f=this.Je(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new vf(e,n,this.Qe,this.ke,r);return this.ke=fi(),this.qe=w0(),this.Qe=new ut(je),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new y0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ht(je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new y0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function w0(){return new ut(pe.comparator)}function E0(){return new ut(pe.comparator)}const hV={asc:"ASCENDING",desc:"DESCENDING"},dV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fV={and:"AND",or:"OR"};class pV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ym(t,e){return t.useProto3Json||df(e)?e:{value:e}}function Id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mV(t,e){return Id(t,e.toTimestamp())}function kr(t){return Xe(!!t),Se.fromTimestamp(function(n){const r=ro(n);return new Rt(r.seconds,r.nanos)}(t))}function Z_(t,e){return Jm(t,e).canonicalString()}function Jm(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zI(t){const e=rt.fromString(t);return Xe(WI(e)),e}function eg(t,e){return Z_(t.databaseId,e.path)}function Sp(t,e){const n=zI(e);if(n.get(1)!==t.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(jI(n))}function BI(t,e){return Z_(t.databaseId,e)}function gV(t){const e=zI(t);return e.length===4?rt.emptyPath():jI(e)}function tg(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jI(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function T0(t,e,n){return{name:eg(t,e),fields:n.value.mapValue.fields}}function _V(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,g){return f.useProto3Json?(Xe(g===void 0||typeof g=="string"),nn.fromBase64String(g||"")):(Xe(g===void 0||g instanceof Buffer||g instanceof Uint8Array),nn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(f){const g=f.code===void 0?J.UNKNOWN:DI(f.code);return new de(g,f.message||"")}(a);n=new FI(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sp(t,r.document.name),s=kr(r.document.updateTime),a=r.document.createTime?kr(r.document.createTime):Se.min(),c=new Hn({mapValue:{fields:r.document.fields}}),h=Jt.newFoundDocument(i,s,a,c),f=r.targetIds||[],g=r.removedTargetIds||[];n=new Rh(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sp(t,r.document),s=r.readTime?kr(r.readTime):Se.min(),a=Jt.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Rh([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sp(t,r.document),s=r.removedTargetIds||[];n=new Rh([],s,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new sV(i,s),c=r.targetId;n=new VI(c,a)}}return n}function vV(t,e){let n;if(e instanceof ju)n={update:T0(t,e.key,e.value)};else if(e instanceof MI)n={delete:eg(t,e.key)};else if(e instanceof es)n={update:T0(t,e.key,e.data),updateMask:bV(e.fieldMask)};else{if(!(e instanceof rV))return Te();n={verify:eg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const c=a.transform;if(c instanceof Td)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Iu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Pu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Sd)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:mV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Te()}(t,e.precondition)),n}function yV(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?kr(i.updateTime):kr(s);return a.isEqual(Se.min())&&(a=kr(s)),new eV(a,i.transformResults||[])}(n,e))):[]}function wV(t,e){return{documents:[BI(t,e.path)]}}function EV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BI(t,i);const s=function(f){if(f.length!==0)return HI(Lr.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(f){if(f.length!==0)return f.map(g=>function(w){return{field:Ms(w.field),direction:IV(w.dir)}}(g))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=Ym(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function TV(t){let e=gV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xe(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=function(v){const w=$I(v);return w instanceof Lr&&_I(w)?w.getFilters():[w]}(n.where));let a=[];n.orderBy&&(a=function(v){return v.map(w=>function(k){return new Ed(Ds(k.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(v){let w;return w=typeof v=="object"?v.value:v,df(w)?null:w}(n.limit));let h=null;n.startAt&&(h=function(v){const w=!!v.before,C=v.values||[];return new wd(C,w)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const w=!v.before,C=v.values||[];return new wd(C,w)}(n.endAt)),zD(e,i,a,s,c,"F",h,f)}function SV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $I(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ds(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ds(n.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ds(n.unaryFilter.field);return bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ds(n.unaryFilter.field);return bt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return bt.create(Ds(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(r=>$I(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function IV(t){return hV[t]}function PV(t){return dV[t]}function CV(t){return fV[t]}function Ms(t){return{fieldPath:t.canonicalString()}}function Ds(t){return jt.fromServerFormat(t.fieldPath)}function HI(t){return t instanceof bt?function(n){if(n.op==="=="){if(l0(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NAN"}};if(a0(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l0(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NAN"}};if(a0(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(n.field),op:PV(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const r=n.getFilters().map(i=>HI(i));return r.length===1?r[0]:{compositeFilter:{op:CV(n.op),filters:r}}}(t):Te()}function bV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,r,i,s=Se.min(),a=Se.min(),c=nn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.ct=e}}function RV(t){const e=TV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this._n=new xV}addToCollectionParentIndex(e,n){return this._n.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(no.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class xV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ht(rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ht(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new wa(0)}static Ln(){return new wa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.changes=new xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ql(r.mutation,i,or.empty(),Rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const i=Ro();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Ml();return s.forEach((c,h)=>{a=a.insert(c,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let s=fi();const a=Zl(),c=function(){return Zl()}();return n.forEach((h,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof es)?s=s.insert(f.key,f):g!==void 0?(a.set(f.key,g.mutation.getFieldMask()),Ql(g.mutation,f,g.mutation.getFieldMask(),Rt.now())):a.set(f.key,or.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((f,g)=>a.set(f,g)),n.forEach((f,g)=>{var v;return c.set(f,new LV(g,(v=a.get(f))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Zl();let i=new ut((a,c)=>a-c),s=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let g=r.get(h)||or.empty();g=c.applyToLocalView(f,g),r.set(h,g);const v=(i.get(c.batchId)||Ne()).add(h);i=i.insert(c.batchId,v)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,g=h.value,v=CI();g.forEach(w=>{if(!s.has(w)){const C=LI(n.get(w),r.get(w));C!==null&&v.set(w,C),s=s.add(w)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,v))}return Y.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Y.resolve(Ro());let c=-1,h=s;return a.next(f=>Y.forEach(f,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),s.get(g)?Y.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,h,f,Ne())).next(g=>({batchId:c,changes:PI(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=Ml();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Ml();return this.indexManager.getCollectionParents(e,s).next(c=>Y.forEach(c,h=>{const f=function(v,w){return new ff(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((v,w)=>{a=a.insert(v,w)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((h,f)=>{const g=f.getKey();a.get(g)===null&&(a=a.insert(g,Jt.newInvalidDocument(g)))});let c=Ml();return a.forEach((h,f)=>{const g=s.get(h);g!==void 0&&Ql(g.mutation,f,or.empty(),Rt.now()),mf(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:kr(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:RV(i.bundledQuery),readTime:kr(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.overlays=new ut(pe.comparator),this.hr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ro();return Y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Ro(),s=n.length+1,a=new pe(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ut((f,g)=>f-g);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=s.get(f.largestBatchId);g===null&&(g=Ro(),s=s.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const c=Ro(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,g)=>c.set(f,g)),!(c.size()>=i)););return Y.resolve(c)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new oV(n,r));let s=this.hr.get(n);s===void 0&&(s=Ne(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.Pr=new Ht(Lt.Ir),this.Tr=new Ht(Lt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Lt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new pe(new rt([])),r=new Lt(n,e),i=new Lt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new pe(new rt([])),r=new Lt(n,e),i=new Lt(n,e+1);let s=Ne();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Lt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return pe.comparator(e.key,n.key)||je(e.pr,n.pr)}static Er(e,n){return je(e.pr,n.pr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ht(Lt.Ir)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new iV(s,n,r,i);this.mutationQueue.push(a);for(const c of i)this.wr=this.wr.add(new Lt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Y.resolve(a)}lookupMutationBatch(e,n){return Y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{const c=this.Sr(a.pr);s.push(c)}),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ht(je);return n.forEach(i=>{const s=new Lt(i,0),a=new Lt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],c=>{r=r.add(c.pr)})}),Y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const a=new Lt(new pe(s),0);let c=new Ht(je);return this.wr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.pr)),!0)},a),Y.resolve(this.Dr(c))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Xe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Y.forEach(n.mutations,i=>{const s=new Lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Lt(n,0),i=this.wr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.vr=e,this.docs=function(){return new ut(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jt.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fi();const a=n.path,c=new pe(a.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||TD(ED(g),r)<=0||(i.has(g.key)||mf(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te()}Fr(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UV(this)}getSize(e){return Y.resolve(this.size)}}class UV extends OV{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.persistence=e,this.Mr=new xa(n=>W_(n),q_),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Q_,this.targetCount=0,this.Lr=wa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Y.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new wa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.qn(n),Y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Y.waitFor(s).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.Br={},this.overlays={},this.kr=new B_(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new zV(this),this.indexManager=new kV,this.remoteDocumentCache=function(i){return new FV(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new AV(n),this.$r=new MV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new VV(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const i=new jV(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return Y.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class jV extends ID{constructor(e){super(),this.currentSequenceNumber=e}}class X_{constructor(e){this.persistence=e,this.zr=new Q_,this.jr=null}static Hr(e){return new X_(e)}get Jr(){if(this.jr)return this.jr;throw Te()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Jr,r=>{const i=pe.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Y.or([()=>Y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ne(),i=Ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Y_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return qL()?8:PD(qt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new $V;return this.Ji(e,n,a).next(c=>{if(s.result=c,this.Ui)return this.Yi(e,n,a,c.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Cl()<=Me.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Y.resolve()):(Cl()<=Me.DEBUG&&ae("QueryEngine","Query:",Ns(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Cl()<=Me.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):Y.resolve())}ji(e,n){if(d0(n))return Y.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xm(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ne(...s);return this.zi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.Zi(n,c);return this.Xi(n,f,a,h.readTime)?this.ji(e,Xm(n,null,"F")):this.es(e,f,n,h)}))})))}Hi(e,n,r,i){return d0(n)||i.isEqual(Se.min())?Y.resolve(null):this.zi.getDocuments(e,r).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,r,i)?Y.resolve(null):(Cl()<=Me.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(n)),this.es(e,a,n,wD(i,-1)).next(c=>c))})}Zi(e,n){let r=new Ht(SI(e));return n.forEach((i,s)=>{mf(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Cl()<=Me.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ns(n)),this.zi.getDocumentsMatchingQuery(e,n,no.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ut(je),this.rs=new xa(s=>W_(s),q_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NV(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function qV(t,e,n,r){return new WV(t,e,n,r)}async function qI(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],c=[];let h=Ne();for(const f of i){a.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of s){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(f=>({us:f,removedBatchIds:a,addedBatchIds:c}))})})}function GV(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(c,h,f,g){const v=f.batch,w=v.keys();let C=Y.resolve();return w.forEach(k=>{C=C.next(()=>g.getEntry(h,k)).next(R=>{const O=f.docVersions.get(k);Xe(O!==null),R.version.compareTo(O)<0&&(v.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),g.addEntry(R)))})}),C.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Ne();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GI(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function KV(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const c=[];e.targetChanges.forEach((g,v)=>{const w=i.get(v);if(!w)return;c.push(n.Qr.removeMatchingKeys(s,g.removedDocuments,v).next(()=>n.Qr.addMatchingKeys(s,g.addedDocuments,v)));let C=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(nn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):g.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(g.resumeToken,r)),i=i.insert(v,C),function(R,O,S){return R.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(w,C,g)&&c.push(n.Qr.updateTargetData(s,C))});let h=fi(),f=Ne();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(ZV(s,a,e.documentUpdates).next(g=>{h=g.cs,f=g.ls})),!r.isEqual(Se.min())){const g=n.Qr.getLastRemoteSnapshotVersion(s).next(v=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(g)}return Y.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,f)).next(()=>h)}).then(s=>(n.ns=i,s))}function ZV(t,e,n){let r=Ne(),i=Ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=fi();return n.forEach((c,h)=>{const f=s.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Se.min())?(e.removeEntry(c,h.readTime),a=a.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),a=a.insert(c,h)):ae("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{cs:a,ls:i}})}function QV(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XV(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,Y.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new zi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ng(t,e,n){const r=Pe(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Bu(a))throw a;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function S0(t,e,n){const r=Pe(t);let i=Se.min(),s=Ne();return r.persistence.runTransaction("Execute query","readwrite",a=>function(h,f,g){const v=Pe(h),w=v.rs.get(g);return w!==void 0?Y.resolve(v.ns.get(w)):v.Qr.getTargetData(f,g)}(r,a,Rr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,c.targetId).next(h=>{s=h})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:Se.min(),n?s:Ne())).next(c=>(YV(r,$D(e),c),{documents:c,hs:s})))}function YV(t,e,n){let r=t.ss.get(e)||Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class I0{constructor(){this.activeTargetIds=ZD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JV{constructor(){this.no=new I0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new I0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function Ip(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class rF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,a){const c=Ip(),h=this.vo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(f,s,a),this.Mo(n,h,f,i).then(g=>(ae("RestConnection",`Received RPC '${n}' ${c}: `,g),g),g=>{throw ga("RestConnection",`RPC '${n}' ${c} failed with error: `,g,"url: ",h,"request:",i),g})}xo(n,r,i,s,a,c){return this.Co(n,r,i,s,a)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ra}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}vo(n,r){const i=tF[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Ip();return new Promise((a,c)=>{const h=new iI;h.setWithCredentials(!0),h.listenOnce(sI.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ch.NO_ERROR:const g=h.getResponseJson();ae(Zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case Ch.TIMEOUT:ae(Zt,`RPC '${e}' ${s} timed out`),c(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const v=h.getStatus();if(ae(Zt,`RPC '${e}' ${s} failed with status:`,v,"response text:",h.getResponseText()),v>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const k=function(O){const S=O.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(S)>=0?S:J.UNKNOWN}(C.status);c(new de(k,C.message))}else c(new de(J.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new de(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(Zt,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);ae(Zt,`RPC '${e}' ${s} sending request:`,i),h.send(n,"POST",f,r,15)})}Oo(e,n,r){const i=Ip(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=uI(),c=lI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.xmlHttpFactory=new oI({})),this.Fo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=s.join("");ae(Zt,`Creating RPC '${e}' stream ${i}: ${g}`,h);const v=a.createWebChannel(g,h);let w=!1,C=!1;const k=new nF({lo:O=>{C?ae(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(w||(ae(Zt,`Opening RPC '${e}' stream ${i} transport.`),v.open(),w=!0),ae(Zt,`RPC '${e}' stream ${i} sending:`,O),v.send(O))},ho:()=>v.close()}),R=(O,S,I)=>{O.listen(S,A=>{try{I(A)}catch(z){setTimeout(()=>{throw z},0)}})};return R(v,Nl.EventType.OPEN,()=>{C||(ae(Zt,`RPC '${e}' stream ${i} transport opened.`),k.mo())}),R(v,Nl.EventType.CLOSE,()=>{C||(C=!0,ae(Zt,`RPC '${e}' stream ${i} transport closed`),k.po())}),R(v,Nl.EventType.ERROR,O=>{C||(C=!0,ga(Zt,`RPC '${e}' stream ${i} transport errored:`,O),k.po(new de(J.UNAVAILABLE,"The operation could not be completed")))}),R(v,Nl.EventType.MESSAGE,O=>{var S;if(!C){const I=O.data[0];Xe(!!I);const A=I,z=A.error||((S=A[0])===null||S===void 0?void 0:S.error);if(z){ae(Zt,`RPC '${e}' stream ${i} received error:`,z);const W=z.status;let $=function(N){const x=Et[N];if(x!==void 0)return DI(x)}(W),b=z.message;$===void 0&&($=J.INTERNAL,b="Unknown error status: "+W+" with message "+z.message),C=!0,k.po(new de($,b)),v.close()}else ae(Zt,`RPC '${e}' stream ${i} received:`,I),k.yo(I)}}),R(c,aI.STAT_EVENT,O=>{O.stat===qm.PROXY?ae(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===qm.NOPROXY&&ae(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.fo()},0),k}}function Pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){return new pV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r,i,s,a,c,h){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new KI(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new de(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iF extends ZI{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=_V(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Se.min():a.readTime?kr(a.readTime):Se.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=tg(this.serializer),n.addTarget=function(s,a){let c;const h=a.target;if(c=Qm(h)?{documents:wV(s,h)}:{query:EV(s,h)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=UI(s,a.resumeToken);const f=Ym(s,a.expectedCount);f!==null&&(c.expectedCount=f)}else if(a.snapshotVersion.compareTo(Se.min())>0){c.readTime=Id(s,a.snapshotVersion.toTimestamp());const f=Ym(s,a.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=SV(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=tg(this.serializer),n.removeTarget=e,this.i_(n)}}class oF extends ZI{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=yV(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.A_(r,n)}return Xe(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=tg(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vV(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,Jm(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(J.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.xo(e,Jm(n,r),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(J.UNKNOWN,a.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class aF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(di(n),this.y_=!1):ae("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(a=>{r.enqueueAndForget(async()=>{ts(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=Pe(h);f.M_.add(4),await Hu(f),f.N_.set("Unknown"),f.M_.delete(4),await wf(f)}(this))})}),this.N_=new aF(r,i)}}async function wf(t){if(ts(t))for(const e of t.x_)await e(!0)}async function Hu(t){for(const e of t.x_)await e(!1)}function QI(t,e){const n=Pe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),nv(n)?tv(n):Oa(n).Xo()&&ev(n,e))}function J_(t,e){const n=Pe(t),r=Oa(n);n.F_.delete(e),r.Xo()&&XI(n,e),n.F_.size===0&&(r.Xo()?r.n_():ts(n)&&n.N_.set("Unknown"))}function ev(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oa(t).P_(e)}function XI(t,e){t.L_.xe(e),Oa(t).I_(e)}function tv(t){t.L_=new cV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Oa(t).start(),t.N_.w_()}function nv(t){return ts(t)&&!Oa(t).Zo()&&t.F_.size>0}function ts(t){return Pe(t).M_.size===0}function YI(t){t.L_=void 0}async function uF(t){t.N_.set("Online")}async function cF(t){t.F_.forEach((e,n)=>{ev(t,e)})}async function hF(t,e){YI(t),nv(t)?(t.N_.D_(e),tv(t)):t.N_.set("Unknown")}async function dF(t,e,n){if(t.N_.set("Online"),e instanceof FI&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const c of s.targetIds)i.F_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.F_.delete(c),i.L_.removeTarget(c))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pd(t,r)}else if(e instanceof Rh?t.L_.Ke(e):e instanceof VI?t.L_.He(e):t.L_.We(e),!n.isEqual(Se.min()))try{const r=await GI(t.localStore);n.compareTo(r)>=0&&await function(s,a){const c=s.L_.rt(a);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=s.F_.get(f);g&&s.F_.set(f,g.withResumeToken(h.resumeToken,a))}}),c.targetMismatches.forEach((h,f)=>{const g=s.F_.get(h);if(!g)return;s.F_.set(h,g.withResumeToken(nn.EMPTY_BYTE_STRING,g.snapshotVersion)),XI(s,h);const v=new zi(g.target,h,f,g.sequenceNumber);ev(s,v)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await Pd(t,r)}}async function Pd(t,e,n){if(!Bu(e))throw e;t.M_.add(1),await Hu(t),t.N_.set("Offline"),n||(n=()=>GI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await wf(t)})}function JI(t,e){return e().catch(n=>Pd(t,n,e))}async function Ef(t){const e=Pe(t),n=io(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;fF(e);)try{const i=await QV(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,pF(e,i)}catch(i){await Pd(e,i)}eP(e)&&tP(e)}function fF(t){return ts(t)&&t.v_.length<10}function pF(t,e){t.v_.push(e);const n=io(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function eP(t){return ts(t)&&!io(t).Zo()&&t.v_.length>0}function tP(t){io(t).start()}async function mF(t){io(t).V_()}async function gF(t){const e=io(t);for(const n of t.v_)e.d_(n.mutations)}async function _F(t,e,n){const r=t.v_.shift(),i=G_.from(r,e,n);await JI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ef(t)}async function vF(t,e){e&&io(t).E_&&await async function(r,i){if(function(a){return aV(a)&&a!==J.ABORTED}(i.code)){const s=r.v_.shift();io(r).t_(),await JI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ef(r)}}(t,e),eP(t)&&tP(t)}async function C0(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=ts(n);n.M_.add(3),await Hu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await wf(n)}async function yF(t,e){const n=Pe(t);e?(n.M_.delete(2),await wf(n)):e||(n.M_.add(2),await Hu(n),n.N_.set("Unknown"))}function Oa(t){return t.B_||(t.B_=function(n,r,i){const s=Pe(n);return s.f_(),new iF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:uF.bind(null,t),To:cF.bind(null,t),Ao:hF.bind(null,t),h_:dF.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),nv(t)?tv(t):t.N_.set("Unknown")):(await t.B_.stop(),YI(t))})),t.B_}function io(t){return t.k_||(t.k_=function(n,r,i){const s=Pe(n);return s.f_(),new oF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:mF.bind(null,t),Ao:vF.bind(null,t),R_:gF.bind(null,t),A_:_F.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Ef(t)):(await t.k_.stop(),t.v_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new rv(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(t,e){if(di("AsyncQueue",`${e}: ${t}`),Bu(t))return new de(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Ml(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new sa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.q_=new ut(pe.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Te():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ea{constructor(e,n,r,i,s,a,c,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new Ea(e,n,sa.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class EF{constructor(){this.queries=new xa(e=>TI(e),pf),this.onlineState="Unknown",this.z_=new Set}}async function TF(t,e){const n=Pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new wF,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const c=iv(a,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&ov(n)}async function SF(t,e){const n=Pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.U_.indexOf(e);a>=0&&(s.U_.splice(a,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IF(t,e){const n=Pe(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const c of a.U_)c.H_(i)&&(r=!0);a.K_=i}}r&&ov(n)}function PF(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function ov(t){t.z_.forEach(e=>{e.next()})}var rg,A0;(A0=rg||(rg={})).J_="default",A0.Cache="cache";class CF{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==rg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.key=e}}class rP{constructor(e){this.key=e}}class bF{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ne(),this.mutatedKeys=Ne(),this.Ia=SI(e),this.Ta=new sa(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new b0,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,v)=>{const w=i.get(g),C=mf(this.query,v)?v:null,k=!!w&&this.mutatedKeys.has(w.key),R=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let O=!1;w&&C?w.data.isEqual(C.data)?k!==R&&(r.track({type:3,doc:C}),O=!0):this.Ra(w,C)||(r.track({type:2,doc:C}),O=!0,(h&&this.Ia(C,h)>0||f&&this.Ia(C,f)<0)&&(c=!0)):!w&&C?(r.track({type:0,doc:C}),O=!0):w&&!C&&(r.track({type:1,doc:w}),O=!0,(h||f)&&(c=!0)),O&&(C?(a=a.add(C),s=R?s.add(g):s.delete(g)):(a=a.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const g=this.query.limitType==="F"?a.last():a.first();a=a.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{Ta:a,Aa:r,Xi:c,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const a=e.Aa.Q_();a.sort((g,v)=>function(C,k){const R=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return R(C)-R(k)}(g.type,v.type)||this.Ia(g.doc,v.doc)),this.Va(r),i=i!=null&&i;const c=n&&!i?this.ma():[],h=this.Pa.size===0&&this.current&&!i?1:0,f=h!==this.ha;return this.ha=h,a.length!==0||f?{snapshot:new Ea(this.query,e.Ta,s,a,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:c}:{fa:c}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new b0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Ne(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new rP(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new nP(r))}),n}pa(e){this.la=e.hs,this.Pa=Ne();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Ea.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class AF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RF{constructor(e){this.key=e,this.wa=!1}}class kF{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Sa={},this.ba=new xa(c=>TI(c),pf),this.Da=new Map,this.Ca=new Set,this.va=new ut(pe.comparator),this.Fa=new Map,this.Ma=new Q_,this.xa={},this.Oa=new Map,this.Na=wa.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function xF(t,e,n=!0){const r=uP(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await iP(r,e,n,!0),i}async function OF(t,e){const n=uP(t);await iP(n,e,!0,!1)}async function iP(t,e,n,r){const i=await XV(t.localStore,Rr(e)),s=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let c;return r&&(c=await LF(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&QI(t.remoteStore,i),c}async function LF(t,e,n,r,i){t.Ba=(v,w,C)=>async function(R,O,S,I){let A=O.view.da(S);A.Xi&&(A=await S0(R.localStore,O.query,!1).then(({documents:b})=>O.view.da(b,A)));const z=I&&I.targetChanges.get(O.targetId),W=I&&I.targetMismatches.get(O.targetId)!=null,$=O.view.applyChanges(A,R.isPrimaryClient,z,W);return k0(R,O.targetId,$.fa),$.snapshot}(t,v,w,C);const s=await S0(t.localStore,e,!0),a=new bF(e,s.hs),c=a.da(s.documents),h=$u.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(c,t.isPrimaryClient,h);k0(t,n,f.fa);const g=new AF(e,n,a);return t.ba.set(e,g),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),f.snapshot}async function NF(t,e,n){const r=Pe(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(a=>!pf(a,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ng(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&J_(r.remoteStore,i.targetId),ig(r,i.targetId)}).catch(zu)):(ig(r,i.targetId),await ng(r.localStore,i.targetId,!0))}async function MF(t,e){const n=Pe(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),J_(n.remoteStore,r.targetId))}async function DF(t,e,n){const r=$F(t);try{const i=await function(a,c){const h=Pe(a),f=Rt.now(),g=c.reduce((C,k)=>C.add(k.key),Ne());let v,w;return h.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=fi(),R=Ne();return h.os.getEntries(C,g).next(O=>{k=O,k.forEach((S,I)=>{I.isValidDocument()||(R=R.add(S))})}).next(()=>h.localDocuments.getOverlayedDocuments(C,k)).next(O=>{v=O;const S=[];for(const I of c){const A=nV(I,v.get(I.key).overlayedDocument);A!=null&&S.push(new es(I.key,A,pI(A.value.mapValue),oi.exists(!0)))}return h.mutationQueue.addMutationBatch(C,f,S,c)}).next(O=>{w=O;const S=O.applyToLocalDocumentSet(v,R);return h.documentOverlayCache.saveOverlays(C,O.batchId,S)})}).then(()=>({batchId:w.batchId,changes:PI(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,h){let f=a.xa[a.currentUser.toKey()];f||(f=new ut(je)),f=f.insert(c,h),a.xa[a.currentUser.toKey()]=f}(r,i.batchId,n),await Wu(r,i.changes),await Ef(r.remoteStore)}catch(i){const s=iv(i,"Failed to persist write");n.reject(s)}}async function oP(t,e){const n=Pe(t);try{const r=await KV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Fa.get(s);a&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.wa=!0:i.modifiedDocuments.size>0?Xe(a.wa):i.removedDocuments.size>0&&(Xe(a.wa),a.wa=!1))}),await Wu(n,r,e)}catch(r){await zu(r)}}function R0(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,a)=>{const c=a.view.j_(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){const h=Pe(a);h.onlineState=c;let f=!1;h.queries.forEach((g,v)=>{for(const w of v.U_)w.j_(c)&&(f=!0)}),f&&ov(h)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VF(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let a=new ut(pe.comparator);a=a.insert(s,Jt.newNoDocument(s,Se.min()));const c=Ne().add(s),h=new vf(Se.min(),new Map,new ut(je),a,c);await oP(r,h),r.va=r.va.remove(s),r.Fa.delete(e),sv(r)}else await ng(r.localStore,e,!1).then(()=>ig(r,e,n)).catch(zu)}async function FF(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await GV(n.localStore,e);aP(n,r,null),sP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wu(n,i)}catch(i){await zu(i)}}async function UF(t,e,n){const r=Pe(t);try{const i=await function(a,c){const h=Pe(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,c).next(v=>(Xe(v!==null),g=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(r.localStore,e);aP(r,e,n),sP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wu(r,i)}catch(i){await zu(i)}}function sP(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function aP(t,e,n){const r=Pe(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function ig(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||lP(t,r)})}function lP(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(J_(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),sv(t))}function k0(t,e,n){for(const r of n)r instanceof nP?(t.Ma.addReference(r.key,e),zF(t,r)):r instanceof rP?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||lP(t,r.key)):Te()}function zF(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.Ca.add(r),sv(t))}function sv(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new pe(rt.fromString(e)),r=t.Na.next();t.Fa.set(r,new RF(n)),t.va=t.va.insert(n,r),QI(t.remoteStore,new zi(Rr(EI(n.path)),r,"TargetPurposeLimboResolution",B_.oe))}}async function Wu(t,e,n){const r=Pe(t),i=[],s=[],a=[];r.ba.isEmpty()||(r.ba.forEach((c,h)=>{a.push(r.Ba(h,e,n).then(f=>{if((f||n)&&r.isPrimaryClient){const g=f&&!f.fromCache;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){i.push(f);const g=Y_.Ki(h.targetId,f);s.push(g)}}))}),await Promise.all(a),r.Sa.h_(i),await async function(h,f){const g=Pe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Y.forEach(f,w=>Y.forEach(w.qi,C=>g.persistence.referenceDelegate.addReference(v,w.targetId,C)).next(()=>Y.forEach(w.Qi,C=>g.persistence.referenceDelegate.removeReference(v,w.targetId,C)))))}catch(v){if(!Bu(v))throw v;ae("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const w=v.targetId;if(!v.fromCache){const C=g.ns.get(w),k=C.snapshotVersion,R=C.withLastLimboFreeSnapshotVersion(k);g.ns=g.ns.insert(w,R)}}}(r.localStore,s))}async function BF(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await qI(n.localStore,e);n.currentUser=e,function(s,a){s.Oa.forEach(c=>{c.forEach(h=>{h.reject(new de(J.CANCELLED,a))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wu(n,r.us)}}function jF(t,e){const n=Pe(t),r=n.Fa.get(e);if(r&&r.wa)return Ne().add(r.key);{let i=Ne();const s=n.Da.get(e);if(!s)return i;for(const a of s){const c=n.ba.get(a);i=i.unionWith(c.view.Ea)}return i}}function uP(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VF.bind(null,e),e.Sa.h_=IF.bind(null,e.eventManager),e.Sa.ka=PF.bind(null,e.eventManager),e}function $F(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UF.bind(null,e),e}class x0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return qV(this.persistence,new HV,e.initialUser,this.serializer)}createPersistence(e){return new BV(X_.Hr,this.serializer)}createSharedClientState(e){return new JV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class HF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BF.bind(null,this.syncEngine),await yF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EF}()}createDatastore(e){const n=yf(e.databaseInfo.databaseId),r=function(s){return new rF(s)}(e.databaseInfo);return function(s,a,c,h){return new sF(s,a,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,c){return new lF(r,i,s,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>R0(this.syncEngine,n,0),function(){return P0.D()?new P0:new eF}())}createSyncEngine(e,n){return function(i,s,a,c,h,f,g){const v=new kF(i,s,a,c,h,f);return g&&(v.La=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Pe(r);ae("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Hu(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=hI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ae("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ae("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cp(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function O0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KF(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>C0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>C0(e.remoteStore,i)),t._onlineComponents=e}function GF(t){return t.name==="FirebaseError"?t.code===J.FAILED_PRECONDITION||t.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function KF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!GF(n))throw n;ga("Error using user provided cache. Falling back to memory cache: "+n),await Cp(t,new x0)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Cp(t,new x0);return t._offlineComponents}async function cP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await O0(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await O0(t,new HF))),t._onlineComponents}function ZF(t){return cP(t).then(e=>e.syncEngine)}async function QF(t){const e=await cP(t),n=e.eventManager;return n.onListen=xF.bind(null,e.syncEngine),n.onUnlisten=NF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MF.bind(null,e.syncEngine),n}function XF(t,e,n={}){const r=new Xi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,c,h,f){const g=new WF({next:w=>{a.enqueueAndForget(()=>SF(s,v)),w.fromCache&&h.source==="server"?f.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),v=new CF(c,g,{includeMetadataChanges:!0,ra:!0});return TF(s,v)}(await QF(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YF(t,e,n,r){if(e===!0&&r===!0)throw new de(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function N0(t){if(!pe.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function M0(t){if(pe.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function av(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function Cd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=av(t);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hD;switch(r.type){case"firstParty":return new mD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=L0.get(n);r&&(ae("ComponentProvider","Removing Datastore"),L0.delete(n),r.terminate())}(this),Promise.resolve()}}function JF(t,e,n,r={}){var i;const s=(t=Cd(t,Tf))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=Xt.MOCK_USER;else{c=E1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Xt(f)}t._authCredentials=new dD(new cI(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sf(this.firestore,e,this._query)}}class ur{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}}class Yi extends Sf{constructor(e,n,r){super(e,n,EI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new pe(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function fP(t,e,...n){if(t=tn(t),dP("collection","path",e),t instanceof Tf){const r=rt.fromString(e,...n);return M0(r),new Yi(t,null,r)}{if(!(t instanceof ur||t instanceof Yi))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return M0(r),new Yi(t.firestore,null,r)}}function e4(t,e,...n){if(t=tn(t),arguments.length===1&&(e=hI.newId()),dP("doc","path",e),t instanceof Tf){const r=rt.fromString(e,...n);return N0(r),new ur(t,null,new pe(r))}{if(!(t instanceof ur||t instanceof Yi))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return N0(r),new ur(t.firestore,t instanceof Yi?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new KI(this,"async_queue_retry"),this.hu=()=>{const n=Pp();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Pp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Pp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Xi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Bu(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=rv.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Te()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class lv extends Tf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new t4}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mP(this),this._firestoreClient.terminate()}}function n4(t,e){const n=typeof t=="object"?t:A_(),r=typeof t=="string"?t:"(default)",i=af(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=v1("firestore");s&&JF(i,...s)}return i}function pP(t){return t._firestoreClient||mP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mP(t){var e,n,r;const i=t._freezeSettings(),s=function(c,h,f,g){return new AD(c,h,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,hP(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new qF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(nn.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ta(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^__.*__$/;class i4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}function _P(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class hv{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return bd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(_P(this.fu)&&r4.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class o4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yf(e)}Fu(e,n,r,i=!1){return new hv({fu:e,methodName:n,vu:r,path:jt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function s4(t){const e=t._freezeSettings(),n=yf(t._databaseId);return new o4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a4(t,e,n,r,i,s={}){const a=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);EP("Data must be an object, but it was:",a,r);const c=yP(r,a);let h,f;if(s.merge)h=new or(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const g=[];for(const v of s.mergeFields){const w=l4(e,v,n);if(!a.contains(w))throw new de(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);c4(g,w)||g.push(w)}h=new or(g),f=a.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=a.fieldTransforms;return new i4(new Hn(c),h,f)}function vP(t,e){if(wP(t=tn(t)))return EP("Unsupported field value:",e,t),yP(t,e);if(t instanceof gP)return function(r,i){if(!_P(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const c of r){let h=vP(c,i.bu(a));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Rt.fromDate(r);return{timestampValue:Id(i.serializer,s)}}if(r instanceof Rt){const s=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(i.serializer,s)}}if(r instanceof cv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ta)return{bytesValue:UI(i.serializer,r._byteString)};if(r instanceof ur){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Du(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Z_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${av(r)}`)}(t,e)}function yP(t,e){const n={};return dI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(t,(r,i)=>{const s=vP(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof cv||t instanceof Ta||t instanceof ur||t instanceof gP)}function EP(t,e,n){if(!wP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=av(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function l4(t,e,n){if((e=tn(e))instanceof uv)return e._internalPath;if(typeof e=="string")return TP(t,e);throw bd("Field path arguments must be of type string or ",t,!1,void 0,n)}const u4=new RegExp("[~\\*/\\[\\]]");function TP(t,e,n){if(e.search(u4)>=0)throw bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uv(...e.split("."))._internalPath}catch{throw bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bd(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||a)&&(h+=" (found",s&&(h+=` in field ${r}`),a&&(h+=` in document ${i}`),h+=")"),new de(J.INVALID_ARGUMENT,c+t+h)}function c4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(IP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h4 extends SP{data(){return super.data()}}function IP(t,e){return typeof e=="string"?TP(t,e):e instanceof uv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f4{convertValue(e,n="none"){switch(Ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ka(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new cv(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const n=ro(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Xe(WI(r));const i=new Tu(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(n)||di(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class m4 extends SP{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(IP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kh extends m4{data(e={}){return super.data(e)}}class g4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kh(this._firestore,this._userDataWriter,r.key,r,new nh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{const h=new kh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new nh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const h=new kh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new nh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return c.type!==0&&(f=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),g=a.indexOf(c.doc.key)),{type:_4(c.type),doc:h,oldIndex:f,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class v4 extends f4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,n)}}function y4(t){t=Cd(t,Sf);const e=Cd(t.firestore,lv),n=pP(e),r=new v4(e);return d4(t._query),XF(n,t._query).then(i=>new g4(e,r,t,i))}function w4(t,e){const n=Cd(t.firestore,lv),r=e4(t),i=p4(t.converter,e);return E4(n,[a4(s4(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,oi.exists(!1))]).then(()=>r)}function E4(t,e){return function(r,i){const s=new Xi;return r.asyncQueue.enqueueAndForget(async()=>DF(await ZF(r),i,s)),s.promise}(pP(t),e)}(function(e,n=!0){(function(i){Ra=i})(Jo),Ho(new to("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),c=new lv(new fD(r.getProvider("auth-internal")),new _D(r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(f.options.projectId,g)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),br(r0,"4.6.3",e),br(r0,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="firebasestorage.googleapis.com",CP="storageBucket",T4=2*60*1e3,S4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt extends Nr{constructor(e,n,r=0){super(bp(e),`Firebase Storage: ${n} (${bp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function bp(t){return"storage/"+t}function dv(){const t="An unknown error occurred, please check the error payload for server response.";return new pt(ft.UNKNOWN,t)}function I4(t){return new pt(ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function P4(t){return new pt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function C4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(ft.UNAUTHENTICATED,t)}function b4(){return new pt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function A4(t){return new pt(ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function R4(){return new pt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k4(){return new pt(ft.CANCELED,"User canceled the upload/download.")}function x4(t){return new pt(ft.INVALID_URL,"Invalid URL '"+t+"'.")}function O4(t){return new pt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function L4(){return new pt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CP+"' property when initializing the app?")}function N4(){return new pt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function M4(){return new pt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function D4(t){return new pt(ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function og(t){return new pt(ft.INVALID_ARGUMENT,t)}function bP(){return new pt(ft.APP_DELETED,"The Firebase app was deleted.")}function V4(t){return new pt(ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xl(t,e){return new pt(ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bl(t){throw new pt(ft.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cn.makeFromUrl(e,n)}catch{return new Cn(e,"")}if(r.path==="")return r;throw O4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),h={bucket:1,path:3};function f(z){z.path_=decodeURIComponent(z.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${v}/${g}/b/${i}/o${w}`,"i"),k={bucket:1,path:3},R=n===PP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",S=new RegExp(`^https?://${R}/${i}/${O}`,"i"),A=[{regex:c,indices:h,postModify:s},{regex:C,indices:k,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let z=0;z<A.length;z++){const W=A[z],$=W.regex.exec(e);if($){const b=$[W.indices.bucket];let T=$[W.indices.path];T||(T=""),r=new Cn(b,T),W.postModify(r);break}}if(r==null)throw x4(e);return r}}class F4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t,e,n){let r=1,i=null,s=null,a=!1,c=0;function h(){return c===2}let f=!1;function g(...O){f||(f=!0,e.apply(null,O))}function v(O){i=setTimeout(()=>{i=null,t(C,h())},O)}function w(){s&&clearTimeout(s)}function C(O,...S){if(f){w();return}if(O){w(),g.call(null,O,...S);return}if(h()||a){w(),g.call(null,O,...S);return}r<64&&(r*=2);let A;c===1?(c=2,A=0):A=(r+Math.random())*1e3,v(A)}let k=!1;function R(O){k||(k=!0,w(),!f&&(i!==null?(O||(c=2),clearTimeout(i),v(0)):O||(c=1)))}return v(0),s=setTimeout(()=>{a=!0,R(!0)},n),R}function z4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){return t!==void 0}function j4(t){return typeof t=="object"&&!Array.isArray(t)}function fv(t){return typeof t=="string"||t instanceof String}function V0(t){return pv()&&t instanceof Blob}function pv(){return typeof Blob<"u"}function F0(t,e,n,r){if(r<e)throw og(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw og(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function AP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Mo||(Mo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,r,i,s,a,c,h,f,g,v,w=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,k)=>{this.resolve_=C,this.reject_=k,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new rh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const c=s.getErrorCode()===Mo.NO_ERROR,h=s.getStatus();if(!c||$4(h,this.additionalRetryCodes_)&&this.retry){const g=s.getErrorCode()===Mo.ABORT;r(!1,new rh(!1,null,g));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new rh(f,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());B4(h)?s(h):s()}catch(h){a(h)}else if(c!==null){const h=dv();h.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,h)):a(h)}else if(i.canceled){const h=this.appDelete_?bP():k4();a(h)}else{const h=R4();a(h)}};this.canceled_?n(!1,new rh(!1,null,!0)):this.backoffId_=U4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&z4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function W4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function q4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function G4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function K4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Z4(t,e,n,r,i,s,a=!0){const c=AP(t.urlParams),h=t.url+c,f=Object.assign({},t.headers);return G4(f,e),W4(f,n),q4(f,s),K4(f,r),new H4(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function X4(...t){const e=Q4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(pv())return new Blob(t);throw new pt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Y4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){if(typeof atob>"u")throw D4("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ap{constructor(e,n){this.data=e,this.contentType=n||null}}function eU(t,e){switch(t){case Sr.RAW:return new Ap(RP(e));case Sr.BASE64:case Sr.BASE64URL:return new Ap(kP(t,e));case Sr.DATA_URL:return new Ap(nU(e),rU(e))}throw dv()}function RP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function tU(t){let e;try{e=decodeURIComponent(t)}catch{throw Xl(Sr.DATA_URL,"Malformed data URL.")}return RP(e)}function kP(t,e){switch(t){case Sr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Xl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Sr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Xl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=J4(e)}catch(i){throw i.message.includes("polyfill")?i:Xl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class xP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xl(Sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=iU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function nU(t){const e=new xP(t);return e.base64?kP(Sr.BASE64,e.rest):tU(e.rest)}function rU(t){return new xP(t).contentType}function iU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){let r=0,i="";V0(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(V0(this.data_)){const r=this.data_,i=Y4(r,e,n);return i===null?null:new Vi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Vi(r,!0)}}static getBlob(...e){if(pv()){const n=e.map(r=>r instanceof Vi?r.data_:r);return new Vi(X4.apply(null,n))}else{const n=e.map(a=>fv(a)?eU(Sr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)i[s++]=a[c]}),new Vi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){let e;try{e=JSON.parse(t)}catch{return null}return j4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function LP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t,e){return e}class sn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||aU}}let ih=null;function lU(t){return!fv(t)||t.length<2?t:LP(t)}function NP(){if(ih)return ih;const t=[];t.push(new sn("bucket")),t.push(new sn("generation")),t.push(new sn("metageneration")),t.push(new sn("name","fullPath",!0));function e(s,a){return lU(a)}const n=new sn("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new sn("size");return i.xform=r,t.push(i),t.push(new sn("timeCreated")),t.push(new sn("updated")),t.push(new sn("md5Hash",null,!0)),t.push(new sn("cacheControl",null,!0)),t.push(new sn("contentDisposition",null,!0)),t.push(new sn("contentEncoding",null,!0)),t.push(new sn("contentLanguage",null,!0)),t.push(new sn("contentType",null,!0)),t.push(new sn("metadata","customMetadata",!0)),ih=t,ih}function uU(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Cn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function cU(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return uU(r,t),r}function MP(t,e,n){const r=OP(e);return r===null?null:cU(t,r,n)}function hU(t,e,n,r){const i=OP(e);if(i===null||!fv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(f=>{const g=t.bucket,v=t.fullPath,w="/b/"+a(g)+"/o/"+a(v),C=mv(w,n,r),k=AP({alt:"media",token:f});return C+k})[0]}function dU(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class DP{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){if(!t)throw dv()}function fU(t,e){function n(r,i){const s=MP(t,i,e);return VP(s!==null),s}return n}function pU(t,e){function n(r,i){const s=MP(t,i,e);return VP(s!==null),hU(s,i,t.host,t._protocol)}return n}function FP(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=b4():i=C4():n.getStatus()===402?i=P4(t.bucket):n.getStatus()===403?i=A4(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function mU(t){const e=FP(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=I4(t.path)),s.serverResponse=i.serverResponse,s}return n}function gU(t,e,n){const r=e.fullServerUrl(),i=mv(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,c=new DP(i,s,pU(t,n),a);return c.errorHandler=mU(e),c}function _U(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=_U(null,e)),r}function yU(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let A="";for(let z=0;z<2;z++)A=A+Math.random().toString().slice(2);return A}const h=c();a["Content-Type"]="multipart/related; boundary="+h;const f=vU(e,r,i),g=dU(f,n),v="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,w=`\r
--`+h+"--",C=Vi.getBlob(v,r,w);if(C===null)throw N4();const k={name:f.fullPath},R=mv(s,t.host,t._protocol),O="POST",S=t.maxUploadRetryTime,I=new DP(R,O,fU(t,n),S);return I.urlParams=k,I.headers=a,I.body=C.uploadData(),I.errorHandler=FP(e),I}class wU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw bl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class EU extends wU{initXhr(){this.xhr_.responseType="text"}}function UP(){return new EU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this._service=e,n instanceof Cn?this._location=n:this._location=Cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zo(e,n)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LP(this._location.path)}get storage(){return this._service}get parent(){const e=oU(this._location.path);if(e===null)return null;const n=new Cn(this._location.bucket,e);return new Zo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw V4(e)}}function TU(t,e,n){t._throwIfRoot("uploadBytes");const r=yU(t.storage,t._location,NP(),new Vi(e,!0),n);return t.storage.makeRequestWithTokens(r,UP).then(i=>({metadata:i,ref:t}))}function SU(t){t._throwIfRoot("getDownloadURL");const e=gU(t.storage,t._location,NP());return t.storage.makeRequestWithTokens(e,UP).then(n=>{if(n===null)throw M4();return n})}function IU(t,e){const n=sU(t._location.path,e),r=new Cn(t._location.bucket,n);return new Zo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){return/^[A-Za-z]+:\/\//.test(t)}function CU(t,e){return new Zo(t,e)}function zP(t,e){if(t instanceof gv){const n=t;if(n._bucket==null)throw L4();const r=new Zo(n,n._bucket);return e!=null?zP(r,e):r}else return e!==void 0?IU(t,e):t}function bU(t,e){if(e&&PU(e)){if(t instanceof gv)return CU(t,e);throw og("To use ref(service, url), the first argument must be a Storage instance.")}else return zP(t,e)}function U0(t,e){const n=e==null?void 0:e[CP];return n==null?null:Cn.makeFromBucketSpec(n,t)}function AU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:E1(i,t.app.options.projectId))}class gv{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=PP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T4,this._maxUploadRetryTime=S4,this._requests=new Set,i!=null?this._bucket=Cn.makeFromBucketSpec(i,this._host):this._bucket=U0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,e):this._bucket=U0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new F4(bP());{const a=Z4(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const z0="@firebase/storage",B0="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="storage";function RU(t,e,n){return t=tn(t),TU(t,e,n)}function kU(t){return t=tn(t),SU(t)}function xU(t,e){return t=tn(t),bU(t,e)}function OU(t=A_(),e){t=tn(t);const r=af(t,BP).getImmediate({identifier:e}),i=v1("storage");return i&&LU(r,...i),r}function LU(t,e,n,r={}){AU(t,e,n,r)}function NU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new gv(n,r,i,e,Jo)}function MU(){Ho(new to(BP,NU,"PUBLIC").setMultipleInstances(!0)),br(z0,B0,""),br(z0,B0,"esm2017")}MU();const DU={apiKey:"AIzaSyA4VNgT9Fasd_67ihlKucrbUoNFbZkDSOc",authDomain:"herocare-e3f95.firebaseapp.com",projectId:"herocare-e3f95",storageBucket:"herocare-e3f95.appspot.com",messagingSenderId:"975960241571",appId:"1:975960241571:web:6d98d7e2d3ef7df2121616",measurementId:"G-0BPPCNK859"},_v=I1(DU),Rp=uD(_v),VU=new Qr,jP=n4(_v),FU=OU(_v),$P=async()=>{try{const t=await fetch("https://data.gov.il/api/3/action/datastore_search?resource_id=d4901968-dad3-4845-a9b0-a57d027f11ab");if(!t.ok)throw new Error("Failed to fetch cities");return(await t.json()).result.records.map(n=>({label:n.שם_ישוב,value:n.שם_ישוב}))}catch(t){return console.error("Error fetching cities:",t),[]}},Sa=[{type:"טיפול בקבלה והתחייבות (ACT)",category:"רגשי",length:"קצר",homework:"כן",description:"מיועד לאנשים עם הפרעות חרדה ודיכאון, מתמקד בלמידה איך לקבל את המחשבות והרגשות בלי להילחם בהם."},{type:"טיפול בעזרת בעלי חיים",category:"רגשי",length:"ארוך",homework:"לא",description:"מתאים לילדים ומבוגרים עם בעיות רגשיות או נפשיות, משתמש בחיות ליצירת קשר רגשי ושיפור בקשר החברתי."},{type:"טיפול באמנות",category:"רגשי",length:"ארוך",homework:"לא",description:"מיועד לאנשים מכל הגילאים לעיבוד רגשי דרך ביטוי אומנותי, מסייע בהתמודדות עם לחצים וחרדות."},{type:"טיפול בחשיפה",category:"רגשי",length:"קצר",homework:"כן",description:"מיועד לטיפול בחרדות ופוביות, עובד על חשיפה הדרגתית ובטוחה למקור הפחד."},{type:"Eye Movement Desensitization and Reprocessing (EMDR)",category:"רגשי",length:"קצר",homework:"לא",description:"מתמקד בטיפול ב-PTSD, משתמש בהנחיות עיניים לעיבוד טראומות."},{type:"טיפול קבוצתי",category:"רגשי",length:"ארוך",homework:"כן",description:"מתאים למגוון בעיות רגשיות, מעודד תמיכה חברתית ולמידה מחוויות של אחרים."},{type:"יוגה",category:"גופני",length:"קצר",homework:"לא",description:"מיועדת לשיפור בריאות הגוף והנפש, עוזרת בניהול מתח וחרדה דרך תרגול גופני ונפשי."},{type:"תוספי תזונה צמחיים",category:"תזונתי",length:"קצר",homework:"לא",description:"נועדו לשיפור הבריאות הכללית, מתמקדים באיזון תזונתי ותמיכה במערכת החיסונית."},{type:"טיפול במוסיקה",category:"רגשי",length:"ארוך",homework:"לא",description:"מתאים לכל הגילאים, עוזר להתמודד עם בעיות נפשיות ורגשיות דרך ביטוי מוזיקלי."},{type:"טיפול פסיכודינמי",category:"רגשי",length:"ארוך",homework:"לא",description:"מתמקד בחקירת התודעה הלא מודעת לטיפול בבעיות נפשיות והתנהגותיות."},{type:"ייעוץ תזונתי",category:"תזונתי",length:"קצר",homework:"כן",description:"מיועד לשיפור הבריאות דרך תזונה מאוזנת, תוך מתן הדרכה אישית."},{type:"ריפוי בעיסוק",category:"פונקציונלי",length:"קצר",homework:"כן",description:"מסייע למטופלים לשפר יכולות פונקציונליות ולהתמודד עם מגבלות גופניות או נפשיות."},{type:"ארומתרפיה",category:"רוגע",length:"קצר",homework:"לא",description:"שימוש בשמנים אתריים לשיפור מצב הרוח והרגעה, מתאים למטופלים עם לחץ וחרדה."},{type:"טיפול באור",category:"שינה",length:"קצר",homework:"לא",description:"מתמקד בטיפול בהפרעות שינה ודיכאון עונתי, עובד על חשיפה לאור מלאכותי."},{type:"טיפול בתנועה וריקוד",category:"גופני",length:"קצר",homework:"לא",description:"מיועד לשחרור טנזיות וקידום בריאות נפשית דרך ביטוי גופני."},{type:"טיפול מגע גוף נפש",category:"רגשי",length:"קצר",homework:"לא",description:"מטפל בשילוב של טכניקות מגע עם עבודה רגשית, מתאים למטופלים עם טראומות ומתחים."},{type:"SE - חוויה סומתית",category:"רגשי",length:"קצר",homework:"לא",description:"מתמקד בשחרור טראומה דרך תנועות גוף ותודעה גופנית."},{type:"דיקור סיני",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"מיועד לטיפול במגוון בעיות גופניות ורגשיות דרך עידוד זרימת האנרגיה בגוף."},{type:"שיאצו",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"טכניקת מסאז' יפנית המתמקדת בלחיצות על נקודות רפואיות לשיפור הבריאות הכללית."},{type:"נטורופתיה",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"מתמקדת בטיפול טבעי והוליסטי, משלבת שימוש בצמחים ושיטות רפואיות טבעיות."},{type:"הומאופתיה",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"מבוססת על עיקרון הדילול והסימון, מיועדת לטיפול במחלות כרוניות ועוד."},{type:"אוסטאופתיה",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"טיפול בבעיות שלד ומפרקים דרך מניפולציות גופניות."},{type:"רפלקסולוגיה",category:"רפואה אלטרנטיבית",length:"ארוך",homework:"לא",description:"מסאז' שמתמקד בלחיצות בכפות הרגליים להשפעה על איברים ומערכות בגוף."},{type:"עיסוי רפואי הוליסטי",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"משלב טכניקות עיסוי מגוונות לטיפול רפואי ושחרור שרירים."},{type:"טווינא",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"סוג של עיסוי סיני המתמקד בשיפור זרימת הצ'י והדם בגוף."},{type:"כירופרקטיקה",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"מתמקדת בטיפול בבעיות של השלד והעמוד השדרי דרך תיקונים מניפולטיביים."},{type:"שיטת פלדנקרייז",category:"רפואה אלטרנטיבית",length:"ארוך",homework:"לא",description:"מעודדת למידה מחודשת של תנועה לשיפור פונקציות גופניות ומנטליות."},{type:"ביופידבק",category:"רגשי",length:"קצר",homework:"לא",description:"מיועד ללימוד ניהול פונקציות גופניות דרך משוב ממוחשב."},{type:"עיסוי לימפטי (ניקוז לימפטי)",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"מתמקד בשחרור נוזלים מהגוף ותמיכה במערכת הלימפה."},{type:"שיטת פאולה",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"טיפול בתנועה לשיפור התנועתיות והגמישות של הגוף."},{type:"הומוטוקסיקולוגיה",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"עוסקת בניקוי רעלים מהגוף דרך שיטות הוליסטיות."},{type:"הדרכת הורים",category:"רגשי",length:"קצר",homework:"כן",description:"מספקת כלים להורים לניהול יחסים והתמודדות עם אתגרי ההורות."},{type:"שיטת אלכסנדר",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"מתמקדת בשיפור תנוחת הגוף והקלה על כאבים ולחצים גופניים."},{type:"דיקור סיני אנטי אייג'ינג",category:"רפואה אלטרנטיבית",length:"קצר",homework:"לא",description:"מיועד להאטת תהליכי הזדקנות דרך דיקור בנקודות מפתח."},{type:"אבחון אוטיזם",category:"אבחון",length:"קצר",homework:"לא",description:"בדיקות לאיתור סימפטומים של אוטיזם בילדים ומתבגרים."},{type:"היפנוזה",category:"רגשי",length:"קצר",homework:"לא",description:"משמשת להפחתת חרדה, למידה עצמית והתמודדות עם פחדים והרגלים רעים."},{type:"העצמה אישית",category:"רגשי",length:"קצר",homework:"לא",description:"מתמקדת בפיתוח כישורים אישיים והתמודדות עם אתגרים חיים."},{type:"טיפול ב-OCD",category:"רגשי",length:"ארוך",homework:"כן",description:"מיועד לאנשים עם הפרעת טורדנות כפייתית, מתמקד בשליטה בטקסים."},{type:"טיפול באוטיזם",category:"רגשי",length:"ארוך",homework:"כן",description:"מיועד לילדים ומבוגרים עם אוטיזם, מתמקד בשיפור תקשורת והתנהגות."},{type:"טיפול בדרמה",category:"רגשי",length:"ארוך",homework:"לא",description:"משתמש בדרמה לעיבוד רגשי ופיתוח מיומנויות חברתיות."},{type:"טיפול התנהגותי דיאלקטי (DBT)",category:"רגשי",length:"קצר",homework:"כן",description:"טיפול התנהגותי המתמקד בשליטה רגשית ומיתוג מחשבתי."},{type:"טיפול זוגי",category:"רגשי",length:"ארוך",homework:"כן",description:"מיועד לזוגות המעוניינים לשפר את הקשר הרומנטי והתקשורת ביניהם."},{type:"טיפול לקהילה הגאה",category:"רגשי",length:"קצר",homework:"כן",description:"מותאם לצרכים של אנשים בקהילת ה-LGBTQ+, מתמקד בתמיכה רגשית וחברתית."},{type:"טיפול מיני",category:"רגשי",length:"קצר",homework:"כן",description:"עוסק בבעיות וחרדות מיניות, מספק כלים לשיפור החיים המיניים."},{type:"טיפול הפרעות קשב וריכוז - ADHD",category:"רגשי",length:"קצר",homework:"לא",description:"עוזר למי שסובלים מ-ADHD לשפר תשומת לב וריכוז."},{type:"טיפול משפחתי",category:"רגשי",length:"ארוך",homework:"כן",description:"מיועד לשיפור היחסים בתוך המשפחה ופתרון קונפליקטים."},{type:"קלינאות תקשורת",category:"פונקציונלי",length:"קצר",homework:"לא",description:"מיועדת לשיפור יכולת התקשורת, בעיקר לילדים עם לקויות תקשורת."},{type:"אבחון הפרעות קשב וריכוז",category:"אבחון",length:"קצר",homework:"לא",description:"בדיקה לאיתור סימנים ותסמינים של הפרעות קשב."},{type:"אבחון לקויי למידה",category:"אבחון",length:"קצר",homework:"לא",description:"בדיקות לזיהוי לקויות למידה ותכנון תוכניות לימוד מותאמות."},{type:"אבחון דידקטי",category:"אבחון",length:"קצר",homework:"לא",description:"מתמקד בבדיקת כישורים אקדמיים והתאמת תוכניות לימוד."},{type:"טיפול פסיכיאטרי",category:"רגשי",length:"ארוך",homework:"לא",description:"מיועד לטיפול בהפרעות נפשיות חמורות, כולל שימוש בתרופות פסיכיאטריות."},{type:"טיפול קוגניטיבי התנהגותי (CBT)",category:"רגשי",length:"קצר",homework:"כן",description:"טיפול המתמקד בשינוי דפוסי חשיבה והתנהגות לטיפול בהפרעות חרדה, דיכאון ועוד."},{type:"טיפול רגשי בעזרת בעלי חיים",category:"רגשי",length:"קצר",homework:"לא",description:"משלב אינטראקציה עם חיות לצורך תמיכה רגשית ופיתוח כישורים חברתיים, מתאים לילדים ומבוגרים."},{type:"אבחון פסיכולוגי",category:"אבחון",length:"קצר",homework:"לא",description:"בדיקה לאבחון מצבים נפשיים והתאמת טיפולים פסיכולוגיים."},{type:"מיינדפולנס",category:"רגשי",length:"קצר",homework:"לא",description:"מתמקד בתרגול מיינדפולנס ומדיטציה לשיפור הריכוז, השלווה הנפשית וניהול מתחים."},{type:"ניהול לחצים וחוסן אישי",category:"רגשי",length:"קצר",homework:"כן",description:"פותח מיומנויות לניהול לחץ וקידום חוסן נפשי, מתאים לאנשים בעלי עבודות מאומצות ולחוצות."},{type:"פוסט טראומה",category:"רגשי",length:"ארוך",homework:"כן",description:"מיועד לטיפול באנשים אחרי טראומה, מתמקד בהתמודדות עם השלכות הטראומה ושחזור התפקוד היומיומי."},{type:"NLP",category:"רגשי",length:"קצר",homework:"לא",description:"טכניקת תקשורת ושינוי אישי המתמקדת בשימוש בשפה לשינוי דפוסי חשיבה והתנהגות."},{type:"פירוש חלומות",category:"רגשי",length:"קצר",homework:"לא",description:"מסייע למטופלים לפענח ולהבין את משמעויות החלומות שלהם, עלול לסייע בהתמודדות עם רגשות וחוויות בלתי מודעות."},{type:"תמציות פרחי באך",category:"רגשי",length:"קצר",homework:"לא",description:"שימוש בתמציות צמחיות לטיפול במצבי רוח, חרדות ומתחים רגשיים."},{type:"אבחון נוירופסיכולוגי",category:"אבחון",length:"קצר",homework:"לא",description:"בדיקות שמאבחנות פגיעות ובעיות בתפקוד המוחי, מיועדות לאבחון מצבים כמו דמנציה, ADHD, ועוד."}];var Ft=[];for(var kp=0;kp<256;++kp)Ft.push((kp+256).toString(16).slice(1));function UU(t,e=0){return(Ft[t[e+0]]+Ft[t[e+1]]+Ft[t[e+2]]+Ft[t[e+3]]+"-"+Ft[t[e+4]]+Ft[t[e+5]]+"-"+Ft[t[e+6]]+Ft[t[e+7]]+"-"+Ft[t[e+8]]+Ft[t[e+9]]+"-"+Ft[t[e+10]]+Ft[t[e+11]]+Ft[t[e+12]]+Ft[t[e+13]]+Ft[t[e+14]]+Ft[t[e+15]]).toLowerCase()}var oh,zU=new Uint8Array(16);function BU(){if(!oh&&(oh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!oh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oh(zU)}var jU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const j0={randomUUID:jU};function $U(t,e,n){if(j0.randomUUID&&!e&&!t)return j0.randomUUID();t=t||{};var r=t.random||(t.rng||BU)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,UU(r)}function HP(t,e){return function(){return t.apply(e,arguments)}}const{toString:HU}=Object.prototype,{getPrototypeOf:vv}=Object,If=(t=>e=>{const n=HU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dr=t=>(t=t.toLowerCase(),e=>If(e)===t),Pf=t=>e=>typeof e===t,{isArray:La}=Array,Cu=Pf("undefined");function WU(t){return t!==null&&!Cu(t)&&t.constructor!==null&&!Cu(t.constructor)&&Rn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const WP=dr("ArrayBuffer");function qU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&WP(t.buffer),e}const GU=Pf("string"),Rn=Pf("function"),qP=Pf("number"),Cf=t=>t!==null&&typeof t=="object",KU=t=>t===!0||t===!1,xh=t=>{if(If(t)!=="object")return!1;const e=vv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ZU=dr("Date"),QU=dr("File"),XU=dr("Blob"),YU=dr("FileList"),JU=t=>Cf(t)&&Rn(t.pipe),ez=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Rn(t.append)&&((e=If(t))==="formdata"||e==="object"&&Rn(t.toString)&&t.toString()==="[object FormData]"))},tz=dr("URLSearchParams"),[nz,rz,iz,oz]=["ReadableStream","Request","Response","Headers"].map(dr),sz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),La(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let c;for(r=0;r<a;r++)c=s[r],e.call(null,t[c],c,t)}}function GP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const ko=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KP=t=>!Cu(t)&&t!==ko;function sg(){const{caseless:t}=KP(this)&&this||{},e={},n=(r,i)=>{const s=t&&GP(e,i)||i;xh(e[s])&&xh(r)?e[s]=sg(e[s],r):xh(r)?e[s]=sg({},r):La(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&qu(arguments[r],n);return e}const az=(t,e,n,{allOwnKeys:r}={})=>(qu(e,(i,s)=>{n&&Rn(i)?t[s]=HP(i,n):t[s]=i},{allOwnKeys:r}),t),lz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),uz=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},cz=(t,e,n,r)=>{let i,s,a;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&vv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},hz=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},dz=t=>{if(!t)return null;if(La(t))return t;let e=t.length;if(!qP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},fz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&vv(Uint8Array)),pz=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},mz=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},gz=dr("HTMLFormElement"),_z=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),$0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),vz=dr("RegExp"),ZP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};qu(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},yz=t=>{ZP(t,(e,n)=>{if(Rn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Rn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wz=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return La(t)?r(t):r(String(t).split(e)),n},Ez=()=>{},Tz=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,xp="abcdefghijklmnopqrstuvwxyz",H0="0123456789",QP={DIGIT:H0,ALPHA:xp,ALPHA_DIGIT:xp+xp.toUpperCase()+H0},Sz=(t=16,e=QP.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Iz(t){return!!(t&&Rn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Pz=t=>{const e=new Array(10),n=(r,i)=>{if(Cf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=La(r)?[]:{};return qu(r,(a,c)=>{const h=n(a,i+1);!Cu(h)&&(s[c]=h)}),e[i]=void 0,s}}return r};return n(t,0)},Cz=dr("AsyncFunction"),bz=t=>t&&(Cf(t)||Rn(t))&&Rn(t.then)&&Rn(t.catch),XP=((t,e)=>t?setImmediate:e?((n,r)=>(ko.addEventListener("message",({source:i,data:s})=>{i===ko&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ko.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Rn(ko.postMessage)),Az=typeof queueMicrotask<"u"?queueMicrotask.bind(ko):typeof process<"u"&&process.nextTick||XP,Z={isArray:La,isArrayBuffer:WP,isBuffer:WU,isFormData:ez,isArrayBufferView:qU,isString:GU,isNumber:qP,isBoolean:KU,isObject:Cf,isPlainObject:xh,isReadableStream:nz,isRequest:rz,isResponse:iz,isHeaders:oz,isUndefined:Cu,isDate:ZU,isFile:QU,isBlob:XU,isRegExp:vz,isFunction:Rn,isStream:JU,isURLSearchParams:tz,isTypedArray:fz,isFileList:YU,forEach:qu,merge:sg,extend:az,trim:sz,stripBOM:lz,inherits:uz,toFlatObject:cz,kindOf:If,kindOfTest:dr,endsWith:hz,toArray:dz,forEachEntry:pz,matchAll:mz,isHTMLForm:gz,hasOwnProperty:$0,hasOwnProp:$0,reduceDescriptors:ZP,freezeMethods:yz,toObjectSet:wz,toCamelCase:_z,noop:Ez,toFiniteNumber:Tz,findKey:GP,global:ko,isContextDefined:KP,ALPHABET:QP,generateString:Sz,isSpecCompliantForm:Iz,toJSONObject:Pz,isAsyncFn:Cz,isThenable:bz,setImmediate:XP,asap:Az};function Ce(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Z.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const YP=Ce.prototype,JP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{JP[t]={value:t}});Object.defineProperties(Ce,JP);Object.defineProperty(YP,"isAxiosError",{value:!0});Ce.from=(t,e,n,r,i,s)=>{const a=Object.create(YP);return Z.toFlatObject(t,a,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),Ce.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const Rz=null;function ag(t){return Z.isPlainObject(t)||Z.isArray(t)}function eC(t){return Z.endsWith(t,"[]")?t.slice(0,-2):t}function W0(t,e,n){return t?t.concat(e).map(function(i,s){return i=eC(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function kz(t){return Z.isArray(t)&&!t.some(ag)}const xz=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function bf(t,e,n){if(!Z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,O){return!Z.isUndefined(O[R])});const r=n.metaTokens,i=n.visitor||g,s=n.dots,a=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(i))throw new TypeError("visitor must be a function");function f(k){if(k===null)return"";if(Z.isDate(k))return k.toISOString();if(!h&&Z.isBlob(k))throw new Ce("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(k)||Z.isTypedArray(k)?h&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function g(k,R,O){let S=k;if(k&&!O&&typeof k=="object"){if(Z.endsWith(R,"{}"))R=r?R:R.slice(0,-2),k=JSON.stringify(k);else if(Z.isArray(k)&&kz(k)||(Z.isFileList(k)||Z.endsWith(R,"[]"))&&(S=Z.toArray(k)))return R=eC(R),S.forEach(function(A,z){!(Z.isUndefined(A)||A===null)&&e.append(a===!0?W0([R],z,s):a===null?R:R+"[]",f(A))}),!1}return ag(k)?!0:(e.append(W0(O,R,s),f(k)),!1)}const v=[],w=Object.assign(xz,{defaultVisitor:g,convertValue:f,isVisitable:ag});function C(k,R){if(!Z.isUndefined(k)){if(v.indexOf(k)!==-1)throw Error("Circular reference detected in "+R.join("."));v.push(k),Z.forEach(k,function(S,I){(!(Z.isUndefined(S)||S===null)&&i.call(e,S,Z.isString(I)?I.trim():I,R,w))===!0&&C(S,R?R.concat(I):[I])}),v.pop()}}if(!Z.isObject(t))throw new TypeError("data must be an object");return C(t),e}function q0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function yv(t,e){this._pairs=[],t&&bf(t,this,e)}const tC=yv.prototype;tC.append=function(e,n){this._pairs.push([e,n])};tC.toString=function(e){const n=e?function(r){return e.call(this,r,q0)}:q0;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Oz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nC(t,e,n){if(!e)return t;const r=n&&n.encode||Oz,i=n&&n.serialize;let s;if(i?s=i(e,n):s=Z.isURLSearchParams(e)?e.toString():new yv(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class G0{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const rC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lz=typeof URLSearchParams<"u"?URLSearchParams:yv,Nz=typeof FormData<"u"?FormData:null,Mz=typeof Blob<"u"?Blob:null,Dz={isBrowser:!0,classes:{URLSearchParams:Lz,FormData:Nz,Blob:Mz},protocols:["http","https","file","blob","url","data"]},wv=typeof window<"u"&&typeof document<"u",Vz=(t=>wv&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Fz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uz=wv&&window.location.href||"http://localhost",zz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wv,hasStandardBrowserEnv:Vz,hasStandardBrowserWebWorkerEnv:Fz,origin:Uz},Symbol.toStringTag,{value:"Module"})),cr={...zz,...Dz};function Bz(t,e){return bf(t,new cr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return cr.isNode&&Z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function jz(t){return Z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $z(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function iC(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),h=s>=n.length;return a=!a&&Z.isArray(i)?i.length:a,h?(Z.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!c):((!i[a]||!Z.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&Z.isArray(i[a])&&(i[a]=$z(i[a])),!c)}if(Z.isFormData(t)&&Z.isFunction(t.entries)){const n={};return Z.forEachEntry(t,(r,i)=>{e(jz(r),i,n,0)}),n}return null}function Hz(t,e,n){if(Z.isString(t))try{return(e||JSON.parse)(t),Z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Gu={transitional:rC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Z.isObject(e);if(s&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return i?JSON.stringify(iC(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Bz(e,this.formSerializer).toString();if((c=Z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return bf(c?{"files[]":e}:e,h&&new h,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Hz(e)):e}],transformResponse:[function(e){const n=this.transitional||Gu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?Ce.from(c,Ce.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cr.classes.FormData,Blob:cr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],t=>{Gu.headers[t]={}});const Wz=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qz=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&Wz[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},K0=Symbol("internals");function Al(t){return t&&String(t).trim().toLowerCase()}function Oh(t){return t===!1||t==null?t:Z.isArray(t)?t.map(Oh):String(t)}function Gz(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Kz=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Op(t,e,n,r,i){if(Z.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Z.isString(e)){if(Z.isString(r))return e.indexOf(r)!==-1;if(Z.isRegExp(r))return r.test(e)}}function Zz(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Qz(t,e){const n=Z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}class vn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(c,h,f){const g=Al(h);if(!g)throw new Error("header name must be a non-empty string");const v=Z.findKey(i,g);(!v||i[v]===void 0||f===!0||f===void 0&&i[v]!==!1)&&(i[v||h]=Oh(c))}const a=(c,h)=>Z.forEach(c,(f,g)=>s(f,g,h));if(Z.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Z.isString(e)&&(e=e.trim())&&!Kz(e))a(qz(e),n);else if(Z.isHeaders(e))for(const[c,h]of e.entries())s(h,c,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Al(e),e){const r=Z.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Gz(i);if(Z.isFunction(n))return n.call(this,i,r);if(Z.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Al(e),e){const r=Z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Op(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=Al(a),a){const c=Z.findKey(r,a);c&&(!n||Op(r,r[c],c,n))&&(delete r[c],i=!0)}}return Z.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Op(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Z.forEach(this,(i,s)=>{const a=Z.findKey(r,s);if(a){n[a]=Oh(i),delete n[s];return}const c=e?Zz(s):String(s).trim();c!==s&&delete n[s],n[c]=Oh(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[K0]=this[K0]={accessors:{}}).accessors,i=this.prototype;function s(a){const c=Al(a);r[c]||(Qz(i,a),r[c]=!0)}return Z.isArray(e)?e.forEach(s):s(e),this}}vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(vn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Z.freezeMethods(vn);function Lp(t,e){const n=this||Gu,r=e||n,i=vn.from(r.headers);let s=r.data;return Z.forEach(t,function(c){s=c.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function oC(t){return!!(t&&t.__CANCEL__)}function Na(t,e,n){Ce.call(this,t??"canceled",Ce.ERR_CANCELED,e,n),this.name="CanceledError"}Z.inherits(Na,Ce,{__CANCEL__:!0});function sC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ce("Request failed with status code "+n.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Xz(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Yz(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),g=r[s];a||(a=f),n[i]=h,r[i]=f;let v=s,w=0;for(;v!==i;)w+=n[v++],v=v%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),f-a<e)return;const C=g&&f-g;return C?Math.round(w*1e3/C):void 0}}function Jz(t,e){let n=0,r=1e3/e,i,s;const a=(f,g=Date.now())=>{n=g,i=null,s&&(clearTimeout(s),s=null),t.apply(null,f)};return[(...f)=>{const g=Date.now(),v=g-n;v>=r?a(f,g):(i=f,s||(s=setTimeout(()=>{s=null,a(i)},r-v)))},()=>i&&a(i)]}const Ad=(t,e,n=3)=>{let r=0;const i=Yz(50,250);return Jz(s=>{const a=s.loaded,c=s.lengthComputable?s.total:void 0,h=a-r,f=i(h),g=a<=c;r=a;const v={loaded:a,total:c,progress:c?a/c:void 0,bytes:h,rate:f||void 0,estimated:f&&c&&g?(c-a)/f:void 0,event:s,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(v)},n)},Z0=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Q0=t=>(...e)=>Z.asap(()=>t(...e)),eB=cr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let a=s;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){const c=Z.isString(a)?i(a):a;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}(),tB=cr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];Z.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Z.isString(r)&&a.push("path="+r),Z.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rB(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function aC(t,e){return t&&!nB(e)?rB(t,e):e}const X0=t=>t instanceof vn?{...t}:t;function Qo(t,e){e=e||{};const n={};function r(f,g,v){return Z.isPlainObject(f)&&Z.isPlainObject(g)?Z.merge.call({caseless:v},f,g):Z.isPlainObject(g)?Z.merge({},g):Z.isArray(g)?g.slice():g}function i(f,g,v){if(Z.isUndefined(g)){if(!Z.isUndefined(f))return r(void 0,f,v)}else return r(f,g,v)}function s(f,g){if(!Z.isUndefined(g))return r(void 0,g)}function a(f,g){if(Z.isUndefined(g)){if(!Z.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function c(f,g,v){if(v in e)return r(f,g);if(v in t)return r(void 0,f)}const h={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(f,g)=>i(X0(f),X0(g),!0)};return Z.forEach(Object.keys(Object.assign({},t,e)),function(g){const v=h[g]||i,w=v(t[g],e[g],g);Z.isUndefined(w)&&v!==c||(n[g]=w)}),n}const lC=t=>{const e=Qo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:c}=e;e.headers=a=vn.from(a),e.url=nC(aC(e.baseURL,e.url),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let h;if(Z.isFormData(n)){if(cr.hasStandardBrowserEnv||cr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((h=a.getContentType())!==!1){const[f,...g]=h?h.split(";").map(v=>v.trim()).filter(Boolean):[];a.setContentType([f||"multipart/form-data",...g].join("; "))}}if(cr.hasStandardBrowserEnv&&(r&&Z.isFunction(r)&&(r=r(e)),r||r!==!1&&eB(e.url))){const f=i&&s&&tB.read(s);f&&a.set(i,f)}return e},iB=typeof XMLHttpRequest<"u",oB=iB&&function(t){return new Promise(function(n,r){const i=lC(t);let s=i.data;const a=vn.from(i.headers).normalize();let{responseType:c,onUploadProgress:h,onDownloadProgress:f}=i,g,v,w,C,k;function R(){C&&C(),k&&k(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let O=new XMLHttpRequest;O.open(i.method.toUpperCase(),i.url,!0),O.timeout=i.timeout;function S(){if(!O)return;const A=vn.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),W={data:!c||c==="text"||c==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:A,config:t,request:O};sC(function(b){n(b),R()},function(b){r(b),R()},W),O=null}"onloadend"in O?O.onloadend=S:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(S)},O.onabort=function(){O&&(r(new Ce("Request aborted",Ce.ECONNABORTED,t,O)),O=null)},O.onerror=function(){r(new Ce("Network Error",Ce.ERR_NETWORK,t,O)),O=null},O.ontimeout=function(){let z=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const W=i.transitional||rC;i.timeoutErrorMessage&&(z=i.timeoutErrorMessage),r(new Ce(z,W.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,t,O)),O=null},s===void 0&&a.setContentType(null),"setRequestHeader"in O&&Z.forEach(a.toJSON(),function(z,W){O.setRequestHeader(W,z)}),Z.isUndefined(i.withCredentials)||(O.withCredentials=!!i.withCredentials),c&&c!=="json"&&(O.responseType=i.responseType),f&&([w,k]=Ad(f,!0),O.addEventListener("progress",w)),h&&O.upload&&([v,C]=Ad(h),O.upload.addEventListener("progress",v),O.upload.addEventListener("loadend",C)),(i.cancelToken||i.signal)&&(g=A=>{O&&(r(!A||A.type?new Na(null,t,O):A),O.abort(),O=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const I=Xz(i.url);if(I&&cr.protocols.indexOf(I)===-1){r(new Ce("Unsupported protocol "+I+":",Ce.ERR_BAD_REQUEST,t));return}O.send(s||null)})},sB=(t,e)=>{let n=new AbortController,r;const i=function(h){if(!r){r=!0,a();const f=h instanceof Error?h:this.reason;n.abort(f instanceof Ce?f:new Na(f instanceof Error?f.message:f))}};let s=e&&setTimeout(()=>{i(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(h=>{h&&(h.removeEventListener?h.removeEventListener("abort",i):h.unsubscribe(i))}),t=null)};t.forEach(h=>h&&h.addEventListener&&h.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=a,[c,()=>{s&&clearTimeout(s),s=null}]},aB=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},lB=async function*(t,e,n){for await(const r of t)yield*aB(ArrayBuffer.isView(r)?r:await n(String(r)),e)},Y0=(t,e,n,r,i)=>{const s=lB(t,e,i);let a=0,c,h=f=>{c||(c=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:g,value:v}=await s.next();if(g){h(),f.close();return}let w=v.byteLength;if(n){let C=a+=w;n(C)}f.enqueue(new Uint8Array(v))}catch(g){throw h(g),g}},cancel(f){return h(f),s.return()}},{highWaterMark:2})},Af=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uC=Af&&typeof ReadableStream=="function",lg=Af&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),cC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},uB=uC&&cC(()=>{let t=!1;const e=new Request(cr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),J0=64*1024,ug=uC&&cC(()=>Z.isReadableStream(new Response("").body)),Rd={stream:ug&&(t=>t.body)};Af&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Rd[e]&&(Rd[e]=Z.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,r)})})})(new Response);const cB=async t=>{if(t==null)return 0;if(Z.isBlob(t))return t.size;if(Z.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Z.isArrayBufferView(t)||Z.isArrayBuffer(t))return t.byteLength;if(Z.isURLSearchParams(t)&&(t=t+""),Z.isString(t))return(await lg(t)).byteLength},hB=async(t,e)=>{const n=Z.toFiniteNumber(t.getContentLength());return n??cB(e)},dB=Af&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:c,onUploadProgress:h,responseType:f,headers:g,withCredentials:v="same-origin",fetchOptions:w}=lC(t);f=f?(f+"").toLowerCase():"text";let[C,k]=i||s||a?sB([i,s],a):[],R,O;const S=()=>{!R&&setTimeout(()=>{C&&C.unsubscribe()}),R=!0};let I;try{if(h&&uB&&n!=="get"&&n!=="head"&&(I=await hB(g,r))!==0){let $=new Request(e,{method:"POST",body:r,duplex:"half"}),b;if(Z.isFormData(r)&&(b=$.headers.get("content-type"))&&g.setContentType(b),$.body){const[T,N]=Z0(I,Ad(Q0(h)));r=Y0($.body,J0,T,N,lg)}}Z.isString(v)||(v=v?"include":"omit"),O=new Request(e,{...w,signal:C,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:v});let A=await fetch(O);const z=ug&&(f==="stream"||f==="response");if(ug&&(c||z)){const $={};["status","statusText","headers"].forEach(x=>{$[x]=A[x]});const b=Z.toFiniteNumber(A.headers.get("content-length")),[T,N]=c&&Z0(b,Ad(Q0(c),!0))||[];A=new Response(Y0(A.body,J0,T,()=>{N&&N(),z&&S()},lg),$)}f=f||"text";let W=await Rd[Z.findKey(Rd,f)||"text"](A,t);return!z&&S(),k&&k(),await new Promise(($,b)=>{sC($,b,{data:W,headers:vn.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:O})})}catch(A){throw S(),A&&A.name==="TypeError"&&/fetch/i.test(A.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,t,O),{cause:A.cause||A}):Ce.from(A,A&&A.code,t,O)}}),cg={http:Rz,xhr:oB,fetch:dB};Z.forEach(cg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const eE=t=>`- ${t}`,fB=t=>Z.isFunction(t)||t===null||t===!1,hC={getAdapter:t=>{t=Z.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!fB(n)&&(r=cg[(a=String(n)).toLowerCase()],r===void 0))throw new Ce(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(eE).join(`
`):" "+eE(s[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:cg};function Np(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Na(null,t)}function tE(t){return Np(t),t.headers=vn.from(t.headers),t.data=Lp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hC.getAdapter(t.adapter||Gu.adapter)(t).then(function(r){return Np(t),r.data=Lp.call(t,t.transformResponse,r),r.headers=vn.from(r.headers),r},function(r){return oC(r)||(Np(t),r&&r.response&&(r.response.data=Lp.call(t,t.transformResponse,r.response),r.response.headers=vn.from(r.response.headers))),Promise.reject(r)})}const dC="1.7.4",Ev={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ev[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const nE={};Ev.transitional=function(e,n,r){function i(s,a){return"[Axios v"+dC+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,c)=>{if(e===!1)throw new Ce(i(a," has been removed"+(n?" in "+n:"")),Ce.ERR_DEPRECATED);return n&&!nE[a]&&(nE[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,c):!0}};function pB(t,e,n){if(typeof t!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const c=t[s],h=c===void 0||a(c,s,t);if(h!==!0)throw new Ce("option "+s+" must be "+h,Ce.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ce("Unknown option "+s,Ce.ERR_BAD_OPTION)}}const hg={assertOptions:pB,validators:Ev},Ri=hg.validators;class Do{constructor(e){this.defaults=e,this.interceptors={request:new G0,response:new G0}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Qo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&hg.assertOptions(r,{silentJSONParsing:Ri.transitional(Ri.boolean),forcedJSONParsing:Ri.transitional(Ri.boolean),clarifyTimeoutError:Ri.transitional(Ri.boolean)},!1),i!=null&&(Z.isFunction(i)?n.paramsSerializer={serialize:i}:hg.assertOptions(i,{encode:Ri.function,serialize:Ri.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&Z.merge(s.common,s[n.method]);s&&Z.forEach(["delete","get","head","post","put","patch","common"],k=>{delete s[k]}),n.headers=vn.concat(a,s);const c=[];let h=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(h=h&&R.synchronous,c.unshift(R.fulfilled,R.rejected))});const f=[];this.interceptors.response.forEach(function(R){f.push(R.fulfilled,R.rejected)});let g,v=0,w;if(!h){const k=[tE.bind(this),void 0];for(k.unshift.apply(k,c),k.push.apply(k,f),w=k.length,g=Promise.resolve(n);v<w;)g=g.then(k[v++],k[v++]);return g}w=c.length;let C=n;for(v=0;v<w;){const k=c[v++],R=c[v++];try{C=k(C)}catch(O){R.call(this,O);break}}try{g=tE.call(this,C)}catch(k){return Promise.reject(k)}for(v=0,w=f.length;v<w;)g=g.then(f[v++],f[v++]);return g}getUri(e){e=Qo(this.defaults,e);const n=aC(e.baseURL,e.url);return nC(n,e.params,e.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(e){Do.prototype[e]=function(n,r){return this.request(Qo(r||{},{method:e,url:n,data:(r||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,c){return this.request(Qo(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Do.prototype[e]=n(),Do.prototype[e+"Form"]=n(!0)});class Tv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(c=>{r.subscribe(c),s=c}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,c){r.reason||(r.reason=new Na(s,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Tv(function(i){e=i}),cancel:e}}}function mB(t){return function(n){return t.apply(null,n)}}function gB(t){return Z.isObject(t)&&t.isAxiosError===!0}const dg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dg).forEach(([t,e])=>{dg[e]=t});function fC(t){const e=new Do(t),n=HP(Do.prototype.request,e);return Z.extend(n,Do.prototype,e,{allOwnKeys:!0}),Z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return fC(Qo(t,i))},n}const Pt=fC(Gu);Pt.Axios=Do;Pt.CanceledError=Na;Pt.CancelToken=Tv;Pt.isCancel=oC;Pt.VERSION=dC;Pt.toFormData=bf;Pt.AxiosError=Ce;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=mB;Pt.isAxiosError=gB;Pt.mergeConfig=Qo;Pt.AxiosHeaders=vn;Pt.formToJSON=t=>iC(Z.isHTMLForm(t)?new FormData(t):t);Pt.getAdapter=hC.getAdapter;Pt.HttpStatusCode=dg;Pt.default=Pt;const rE=[{value:"גבר",label:"גבר"},{value:"אישה",label:"אישה"},{value:"אחר",label:"אחר"},{value:"מעדיף לא להגיד",label:"מעדיף לא להגיד"}],_B=({onFormSubmit:t})=>{const[e,n]=H.useState({name:"",phone:"",gender:"",categories:[],city:"",address:"",about:"",discountType:"",documents:null,profilePicture:null}),[r,i]=H.useState(1),[s,a]=H.useState(!1),[c,h]=H.useState(!1),[f,g]=H.useState(null),[v,w]=H.useState(null),[C,k]=H.useState([]);H.useEffect(()=>{(async()=>{const V=await $P();k(V)})()},[]);const R=Object.freeze({PROFILE_IMG:0,CERTIFICATE:1}),O={[R.PROFILE_IMG]:"profile/profile_",[R.CERTIFICATE]:"certificates/cert_"},S=async(x,V,U)=>{if(x==null)return;const M=O[V]+U,Re=xU(FU,M);console.log("uploading bytes"),await RU(Re,x),console.log("getting download url");const De=await kU(Re);return console.log("got download url"),De},I=x=>{const{name:V,value:U,type:M,checked:Re,files:De}=x.target;n(M==="checkbox"?te=>({...te,categories:Re?[...te.categories,U]:te.categories.filter(be=>be!==U)}):M==="file"?te=>({...te,[V]:De}):te=>({...te,[V]:U}))},A=x=>{const V=x?x.map(U=>U.value):[];n(U=>({...U,categories:V}))},z=x=>{const V=x?x.value:"";n(U=>({...U,city:V}))},W=x=>{const V=x?x.value:"";n(U=>({...U,gender:V}))},$=async()=>{try{const x=$U();console.log("STARTING addTherapistData");const V=await S(f,R.PROFILE_IMG,x);console.log("UPLOADED PROFILE IMAGE");const U=await S(v,R.CERTIFICATE,x);console.log("UPLOADED CERTIFICATE"),console.log("ADDING TO DB"),await w4(fP(jP,"therapist-data"),{name:e.name,phone:e.phone,gender:e.gender,categories:e.categories,city:e.city,address:e.address,about:e.about,discountType:e.discountType,profile_image:V,certificate:U}),alert("הרשמתך התקבלה.")}catch(x){alert(x.message)}},b=()=>{r===1&&e.name&&e.phone?i(2):r===2&&e.city&&e.categories.length>0?i(3):r===3&&e.address&&e.about?N():alert("Please fill out all required fields.")},T=()=>{i(x=>x-1)},N=x=>{x.preventDefault(),a(!0),$(),setTimeout(()=>{a(!1),h(!0)},2e3)};return s?D.createElement("div",{className:"form-container"},D.createElement("div",{className:"loading-container"},D.createElement("div",{className:"loader"}))):c?D.createElement("div",{className:"form-container"},D.createElement("div",{className:"success-message"},"נכנסת למאגר בהצלחה!")):D.createElement("div",{className:"form-container"},D.createElement("div",{className:"step-indicators"},D.createElement("span",{className:`step ${r===1?"active":""}`},"1. קצת עליי"),D.createElement("span",{className:`step ${r===2?"active":""}`},"2. מה אני מציע?"),D.createElement("span",{className:`step ${r===3?"active":""}`},"3. חשוב לדעת עליי")),D.createElement("div",{className:"questions"},D.createElement("form",{onSubmit:N},r===1&&D.createElement("div",{className:"step-form"},D.createElement("h2",null,"בואו נכיר :"),D.createElement("label",{htmlFor:"name"},"שם: *"),D.createElement("input",{type:"text",id:"name",name:"name",value:e.name,onChange:I,required:!0}),D.createElement("label",{htmlFor:"phone"},"טלפון: *"),D.createElement("input",{type:"text",id:"phone",name:"phone",value:e.phone,onChange:I,required:!0}),D.createElement("label",{htmlFor:"gender"},"מגדר: *"),D.createElement(na,{name:"gender",options:rE,value:rE.find(x=>x.value===e.gender),onChange:W,className:"basic-single-select",classNamePrefix:"select"}),D.createElement("div",{className:"form-navigation"},D.createElement("button",{type:"button",className:"next-button",onClick:b},"הבא"))),r===2&&D.createElement("div",{className:"step-form"},D.createElement("h2",null,"קצת על הטיפולים שלי"),D.createElement("label",{htmlFor:"categories"},"תחומי טיפול: *"),D.createElement(na,{isMulti:!0,name:"categories",options:Sa.map(x=>({label:x.type,value:x.type})),value:Sa.filter(x=>e.categories.includes(x.type)).map(x=>({label:x.type,value:x.type})),onChange:A,className:"basic-multi-select",classNamePrefix:"select"}),D.createElement("label",{htmlFor:"city"},"עיר: *"),D.createElement(na,{name:"city",options:C,value:C.find(x=>x.value===e.city),onChange:z,className:"basic-single-select",classNamePrefix:"select"}),D.createElement("label",{htmlFor:"address"},"כתובת: *"),D.createElement("input",{type:"text",id:"address",name:"address",value:e.address,onChange:I,required:!0}),D.createElement("div",{className:"form-navigation"},D.createElement("button",{type:"button",className:"prev-button",onClick:T},"הקודם"),D.createElement("button",{type:"button",className:"next-button",onClick:b},"הבא"))),r===3&&D.createElement("div",{className:"step-form"},D.createElement("h2",null,"פרטים נוספים"),D.createElement("label",{htmlFor:"about"},"אודות: *"),D.createElement("textarea",{id:"about",name:"about",value:e.about,onChange:I,required:!0}),D.createElement("label",{htmlFor:"discountType"},"סוג הנחה:"),D.createElement("input",{type:"text",id:"discountType",name:"discountType",value:e.discountType,onChange:I}),D.createElement("label",{htmlFor:"documents"},"העלה מסמכים:"),D.createElement("input",{type:"file",id:"documents",name:"documents",onChange:x=>{w(x.target.files[0])},multiple:!0}),D.createElement("br",null),D.createElement("label",{htmlFor:"profilePicture"},"העלה תמונת פרופיל:"),D.createElement("input",{type:"file",id:"profilePicture",name:"profilePicture",onChange:x=>{g(x.target.files[0])}}),D.createElement("div",{id:"form-navigation"},D.createElement("button",{type:"button",className:"prev-button",onClick:T},"הקודם"),D.createElement("button",{type:"submit",className:"submit-button"},"שלח"))))))},vB="/assets/spa1-D0o2d1UW.jpeg",yB="/assets/spa2-DNAvhzU3.jpeg",wB="/assets/spa3-Bes-mYzH.jpeg",EB="/assets/spa4-96Va0KtV.jpeg",TB="/assets/spa5-hkIzdTxt.jpeg",SB="/assets/spa6-gklgE0j2.jpeg",IB="/assets/spa8-D9MmbWi0.jpeg",PB="/assets/spa9-Ckox04TB.jpeg",CB="/assets/spa10-CZFalv4O.jpeg",bB="/assets/soldier7-C92CIOUt.jpeg",AB="/assets/soldier9-BJADLur4.jpeg",RB="/assets/soldier10-DahXDqCE.jpeg",kB="/assets/press-background-CKXNGMJ2.jpeg",bu={_origin:"https://api.emailjs.com"},xB=(t,e="https://api.emailjs.com")=>{bu._userID=t,bu._origin=e},pC=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class iE{constructor(e){this.status=e.status,this.text=e.responseText}}const mC=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:a})=>{const c=new iE(a);c.status===200||c.text==="OK"?r(c):i(c)}),s.addEventListener("error",({target:a})=>{i(new iE(a))}),s.open("POST",bu._origin+t,!0),Object.keys(n).forEach(a=>{s.setRequestHeader(a,n[a])}),s.send(e)}),OB=(t,e,n,r)=>{const i=r||bu._userID;return pC(i,t,e),mC("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},LB=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},NB=(t,e,n,r)=>{const i=r||bu._userID,s=LB(n);pC(i,t,e);const a=new FormData(s);return a.append("lib_version","3.2.0"),a.append("service_id",t),a.append("template_id",e),a.append("user_id",i),mC("/api/v1.0/email/send-form",a)},MB={init:xB,send:OB,sendForm:NB},DB=({navigateToMap:t,navigateToTree:e})=>{const[n,r]=H.useState(!1),i=()=>{r(!0),document.querySelector(".spa-container").classList.add("blur")},s=()=>{r(!1),document.querySelector(".spa-container").classList.remove("blur")},a=c=>{c.preventDefault(),MB.sendForm("service_sfyq7ep","template_cbnou14",c.target,"17xLfBhFm0hHMgUhk").then(h=>{console.log(h.text),alert("Message sent successfully!"),s()},h=>{console.error("Failed to send message:",h),alert("Failed to send message. Please try again later.")})};return H.useEffect(()=>{const c=document.querySelectorAll(".fade-in"),h=new IntersectionObserver(f=>{f.forEach(g=>{g.isIntersecting&&g.target.classList.add("visible")})},{threshold:.5});return c.forEach(f=>{h.observe(f)}),()=>h.disconnect()},[]),D.createElement("div",{className:"spa-container"},D.createElement("header",{className:"spa-header",style:{backgroundImage:`url(${IB})`}},D.createElement("div",{className:"header-content"},D.createElement("h1",null,"HEROCARE Wellness"),D.createElement("h2",null,"הדרך החכמה לנצל את המענק"))),D.createElement("main",{className:"spa-main"},D.createElement("section",{className:"spa-info fade-in parallax",style:{backgroundImage:`url(${TB})`}},D.createElement("div",{className:"overlay"},D.createElement("h2",null,"ברוכים הבאים ל-HEROCARE Wellness"),D.createElement("p",null,"אצלנו תמצאו את המטפלים הכי טובים, במחירים הכי משתלמים, ובדרך הכי נוחה!",D.createElement("br",null)," הכל כדי להקל עליכם את התהליך, שלא תצטרכו לעבוד קשה יותר משכבר עבדתם."))),D.createElement("section",{className:"questionire"},D.createElement("h2",null,"בואו להבין מהו הטיפול שאתם מחפשים",D.createElement("br",null)," בכמה שאלות בלבד! "),D.createElement("button",{className:"testBut",onClick:e},"לשאלון ההכוונה שלנו")),D.createElement("section",{className:"services fade-in"},D.createElement("h2",null,"השירותים שלנו"),D.createElement("div",{className:"service-grid"},D.createElement("div",{className:"service-card"},D.createElement("img",{src:vB,alt:"Massage"}),D.createElement("h3",null,"עיסויים"),D.createElement("p",null,"רשימת מטפלים שמציעים עיסויים מרגיעים במחירים נוחים.")),D.createElement("div",{className:"service-card"},D.createElement("img",{src:yB,alt:"Alternative Medicine"}),D.createElement("h3",null,"רפואה אלטרנטיבית"),D.createElement("p",null,"טיפולים אלטרנטיביים כמו דיקור סיני, ארומתרפיה ורייקי.")),D.createElement("div",{className:"service-card"},D.createElement("img",{src:wB,alt:"Yoga"}),D.createElement("h3",null,"סדנאות יוגה ומדיטציה"),D.createElement("p",null,"סדנאות לשיפור הבריאות הנפשית והפיזית.")),D.createElement("div",{className:"service-card"},D.createElement("img",{src:EB,alt:"Facial Treatments"}),D.createElement("h3",null,"טיפולי פנים"),D.createElement("p",null,"טיפולי פנים לשיפור בריאות העור והענקת זוהר.")))),D.createElement("section",{className:"alternative-medicine fade-in"},D.createElement("h2",null,"מהי רפואה אלטרנטיבית?"),D.createElement("div",{className:"medicine-grid"},D.createElement("div",{className:"medicine-item"},D.createElement("img",{src:SB,alt:"Acupuncture"}),D.createElement("div",{className:"text"},D.createElement("h3",null,"דיקור סיני"),D.createElement("p",null,"טיפול שמקדם ריפוי טבעי ומפחית מתחים על ידי הכנסת מחטים לנקודות מסוימות בגוף."))),D.createElement("div",{className:"medicine-item"},D.createElement("img",{src:PB,alt:"Aromatherapy"}),D.createElement("div",{className:"text"},D.createElement("h3",null,"ארומתרפיה"),D.createElement("p",null,"שימוש בשמנים אתריים טבעיים מצמחים ליצירת תחושת רוגע ותמיכה בבריאות."))),D.createElement("div",{className:"medicine-item"},D.createElement("img",{src:CB,alt:"Reiki"}),D.createElement("div",{className:"text"},D.createElement("h3",null,"רייקי"),D.createElement("p",null,"טיפול אנרגטי שמתבצע על ידי הנחת ידיים להעברת אנרגיה מרפאה לגוף."))))),D.createElement("section",{className:"testimonials fade-in"},D.createElement("h2",null,"עדויות"),D.createElement("div",{className:"testimonial-carousel"},D.createElement("div",{className:"testimonial-item"},D.createElement("p",null,'"החוויה עם HEROCARE הייתה מדהימה. מצאתי טיפולים איכותיים במחירים נוחים מאוד." - שרית')),D.createElement("div",{className:"testimonial-item"},D.createElement("p",null,'"הטיפולים עזרו לי להירגע אחרי שירות אינטנסיבי. ממליץ בחום!" - יואב')),D.createElement("div",{className:"testimonial-item"},D.createElement("p",null,'"דיקור סיני וארומתרפיה עזרו לי להיפטר מהכאב כרוני ולמצוא רוגע." - דניאל')))),D.createElement("section",{className:"latest-news fade-in"},D.createElement("h2",null,"Latest News"),D.createElement("div",{className:"news-grid"},D.createElement("div",{className:"news-item"},D.createElement("img",{src:bB,alt:"News 1"}),D.createElement("h3",null,"New Massage Therapies Available"),D.createElement("p",null,"Discover our new range of massage therapies now available for soldiers and reservists.")),D.createElement("div",{className:"news-item"},D.createElement("img",{src:AB,alt:"News 2"}),D.createElement("h3",null,"Yoga and Meditation Workshops"),D.createElement("p",null,"Join our upcoming yoga and meditation workshops to improve your mental and physical health.")),D.createElement("div",{className:"news-item"},D.createElement("img",{src:RB,alt:"News 3"}),D.createElement("h3",null,"Special Discounts for Reservists"),D.createElement("p",null,"Take advantage of our special discounts on all treatments for reservists this month.")))),D.createElement("section",{className:"press fade-in"},D.createElement("div",{className:"press-background",style:{backgroundImage:`url(${kB})`}},D.createElement("h2",null,"בעיתונות"),D.createElement("div",{className:"press-testimonial"},D.createElement("p",null,'"מצוינות בשירות ומקצועיות ללא פשרות. השירותים של HEROCARE שיפרו את איכות החיים של חיילי המילואים שלנו." - עיתון צה"ל')),D.createElement("div",{className:"press-testimonial"},D.createElement("p",null,'"חווית טיפול מרגיעה ונעימה במחירים נוחים לחיילים. מומלץ מאוד." - עיתון הבריאות')),D.createElement("div",{className:"press-testimonial"},D.createElement("p",null,'"היכולת למצוא טיפולים איכותיים במחירים מוזלים עושה את כל ההבדל לחיילים המילואים." - עיתון הבריאות והחיים')))),D.createElement("div",{className:"button-container fade-in"},D.createElement("button",{className:"contact-button",onClick:i},"מטפלים צור קשר"),D.createElement("button",{className:"contact-button",onClick:t},"לטיפולים"))),D.createElement("footer",{className:"spa-footer fade-in"},D.createElement("p",null,"© 2024 HEROCARE Wellness. כל הזכויות שמורות."),D.createElement("p",null,"צור קשר: info@herocarewellness.com | 03-1234567"),D.createElement("p",null,"כתובת: רחוב הירקון 123, תל אביב")),n&&D.createElement("div",{className:"modal-overlay"},D.createElement("div",{className:"modal"},D.createElement("span",{className:"close-modal",onClick:s},"×"),D.createElement("form",{className:"contact-form",onSubmit:a},D.createElement("h2",null,"צור קשר"),D.createElement("label",null,"שם:"),D.createElement("input",{type:"text",name:"from_name",required:!0}),D.createElement("label",null,"טלפון:"),D.createElement("input",{type:"text",name:"phone",required:!0}),D.createElement("label",null,"אימייל:"),D.createElement("input",{type:"email",name:"reply_to",required:!0}),D.createElement("label",null,"הודעה:"),D.createElement("textarea",{name:"message",required:!0}),D.createElement("button",{type:"submit"},"שלח")))))},VB=({navigateToMap:t})=>{const[e,n]=H.useState(0),[r,i]=H.useState({}),[s,a]=H.useState([]),c=[{question:"בחר קטגוריה",options:["רגשי","גופני","תזונתי","פונקציונלי","רפואה אלטרנטיבית","רוגע","שינה","אבחון"]},{question:"בחר אורך",options:["קצר","ארוך"]},{question:"בחר עבודת בית",options:["כן","לא"]}],h=g=>{const v={...r,[c[e].question]:g};if(i(v),e<c.length-1)n(e+1);else{const w=Sa.filter(C=>C.category===v["בחר קטגוריה"]&&C.length===v["בחר אורך"]&&C.homework===v["בחר עבודת בית"]);a(w.length>0?w:Sa),n(e+1)}},f=()=>{e>0&&n(e-1)};return D.createElement("div",{className:"app-container"},D.createElement("div",{className:"progress-bar-container"},D.createElement("div",{className:"progress-bar",style:{width:`${(e+1)/(c.length+1)*100}%`}})),e<c.length?D.createElement(D.Fragment,null,D.createElement(FB,{question:c[e].question,options:c[e].options,onAnswer:h}),D.createElement("div",{className:"navigation-buttons"},D.createElement("button",{className:"option-button",onClick:f,disabled:e===0},"חזור"))):D.createElement(D.Fragment,null,D.createElement(UB,{TreatmentsList:s}),D.createElement("div",{className:"navigation-buttons"},D.createElement("button",{className:"option-button1",onClick:t},"קח אותי לעמוד הטיפולים"))))},FB=({question:t,options:e,onAnswer:n})=>D.createElement("div",{className:"question-wrapper"},D.createElement("div",{className:"question-container"},D.createElement("h2",null,t),D.createElement("div",{className:"options-container"},e.map((r,i)=>D.createElement("button",{key:i,className:"option-button",onClick:()=>n(r)},r))))),UB=({TreatmentsList:t})=>D.createElement("div",{className:"treatment-list"},t.map((e,n)=>D.createElement("div",{key:n,className:"treatment-item",title:e.description},D.createElement("h3",null,e.type),D.createElement("p",null,e.description)))),oE=[{value:"גבר",label:"גבר"},{value:"אישה",label:"אישה"}],zB=({onFilter:t})=>{const e={location:[],therapyType:[],gender:""},[n,r]=H.useState(e),[i,s]=H.useState([]);H.useEffect(()=>{(async()=>{const w=await $P();s(w)})()},[]);const a=v=>{const w=v?v.map(C=>C.value):[];r({...n,location:w})},c=v=>{const w=v?v.map(C=>C.value):[];r({...n,therapyType:w})},h=v=>{r({...n,gender:v?v.value:""})},f=()=>{t(n)},g=()=>{r(e),t(e)};return D.createElement("div",{className:"filter-section"},D.createElement("label",null,"עיר",D.createElement(na,{isMulti:!0,name:"location",options:i,value:i.filter(v=>n.location.includes(v.value)),onChange:a,className:"basic-multi-select",classNamePrefix:"select"})),D.createElement("label",null,"סוג הטיפול",D.createElement(na,{isMulti:!0,name:"therapyType",options:Sa.map(v=>({label:v.type,value:v.type})),value:Sa.filter(v=>n.therapyType.includes(v.type)).map(v=>({label:v.type,value:v.type})),onChange:c,className:"basic-multi-select",classNamePrefix:"select"})),D.createElement("label",null,"מגדר",D.createElement(na,{name:"gender",options:oE,value:oE.find(v=>v.value===n.gender),onChange:h,className:"basic-single-select",classNamePrefix:"select",placeholder:"בחר מגדר"})),D.createElement("button",{onClick:f},"סנן"),D.createElement("button",{onClick:g},"נקה סינון"))},sE=async t=>{try{console.log(`Geocoding address: ${t}`);const e=await Pt.get("https://api.opencagedata.com/geocode/v1/json",{params:{q:t,key:"6fff56fb57b2420baacb17fc4d6853e5"}});if(e.data&&e.data.results.length>0){const{lat:n,lng:r}=e.data.results[0].geometry;return{lat:n,lng:r}}else return console.error("Geocoding API error: No results found for",t),null}catch(e){return console.error("Error fetching geocoding data:",e),null}};function BB(){const[t,e]=H.useState([]),[n,r]=H.useState("landing"),[i,s]=H.useState(null),[a,c]=H.useState(null),[h,f]=H.useState(null),[g,v]=H.useState(null),[w,C]=H.useState([]),[k,R]=H.useState(!0),[O,S]=H.useState([]),[I,A]=H.useState(!1);H.useEffect(()=>{const te=Rp.onAuthStateChanged(be=>{s(be)});return()=>te()},[]),H.useEffect(()=>{z()},[]),H.useEffect(()=>{w.length>0&&(console.log("Therapists:",w),(async()=>{const G=(await Promise.all(w.map(async re=>{const Q=`${re.address}, ${re.city}`;console.log(`Fetching location for: ${Q}`);const le=await sE(Q);return le?(console.log(`Geocoded location for ${re.name}:`,le),{lat:le.lat,lng:le.lng,name:re.name,isSelected:!1,id:re.id}):(console.log(`Invalid address for therapist ${re.name}:`,Q),null)}))).filter(re=>re!==null);console.log("All Markers:",G),e(G)})())},[w]);const z=async()=>{try{const be=(await y4(fP(jP,"therapist-data"))).docs.map(G=>({id:G.id,...G.data()}));console.log("Fetched Therapists Data:",be),C(be),S(be)}catch(te){console.error("Error fetching therapists data: ",te)}finally{R(!1)}},W=te=>{c(te)},$=async te=>{c(null);const be=`${te.address}, ${te.city}`;console.log(`Geocoding selected therapist's address: ${be}`);const G=await sE(be);if(G){te.lat=G.lat,te.lng=G.lng,f(te),console.log("Selected Therapist:",te);const re=t.map(Q=>({...Q,isSelected:te.id===Q.id}));e(re)}else console.error(`Failed to geocode address for selected therapist: ${te.name}`)},b=async te=>{r("map"),await z()},T=async()=>{try{await v2(Rp,VU),alert("Signed in successfully!"),r("form")}catch(te){console.error("Error during sign-in:",te)}},N=async()=>{try{await XM(Rp),s(null),r("landing")}catch(te){console.error("Error during sign-out:",te)}},x=()=>{r(i?"form":"login")},V=()=>{r("map"),g||M()},U=()=>{r("tree")},M=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(te=>{v({lat:te.coords.latitude,lng:te.coords.longitude})},te=>{console.error("Error obtaining location:",te),alert("Could not obtain your location. Please allow location access and try again.")}):alert("Geolocation is not supported by this browser.")},Re=()=>{A(!I)},De=te=>{const be=w.filter(G=>{const re=te.location.length===0||te.location.some(oe=>oe.trim()===G.city.trim()),Q=te.therapyType.length===0||te.therapyType.some(oe=>G.categories.includes(oe)),le=!te.gender||G.gender===te.gender;return re&&Q&&le});S(be)};return D.createElement("div",{className:"container"},n!=="login"&&D.createElement("div",{className:"header"},D.createElement("div",{className:"login_hi"},D.createElement("span",null,"Hi, ",i?i.displayName:"Guest"),i?D.createElement("button",{onClick:N},"Sign Out"):D.createElement("button",{onClick:T},"Sign In")),D.createElement("div",{className:"headerButtons"},D.createElement("button",{className:"form-toggle-button",onClick:()=>r("landing")},"בית"),D.createElement("button",{className:"form-toggle-button",onClick:V},"מצא טיפול"),D.createElement("button",{className:"form-toggle-button",onClick:x},"הירשם כמטפל"),D.createElement("button",{className:"form-toggle-button",onClick:U},"פתח עץ טיפולים"))),n==="login"&&D.createElement("div",{className:"login-modal"},D.createElement("button",{className:"google-signin-button",onClick:T},"Sign in with Google"),D.createElement("button",{className:"skip-button",onClick:()=>r("landing")},"Maybe Later")),n==="landing"&&D.createElement(DB,{navigateToMap:()=>r("map")}),n==="tree"&&D.createElement(VB,{navigateToMap:V}),n==="map"&&D.createElement("div",{className:"main-content"},D.createElement("div",{className:"list-section"},D.createElement("button",{className:"filter-toggle-button",onClick:Re},I?"הסתר סינון":"סינון"),I&&D.createElement(zB,{onFilter:De}),O.map(te=>D.createElement("div",{key:te.id,onMouseEnter:()=>W(te),onMouseLeave:()=>W(null),onClick:()=>$(te)},D.createElement(cR,{therapist:te})))),D.createElement("div",{className:"map-section"},D.createElement(NR,{markers:t,userLocation:g,selectedTherapist:h})),a&&D.createElement("div",{className:"hovered-therapist-info"},D.createElement("div",{className:"modal-content"},D.createElement("h2",null,a.name),D.createElement("p",null,a.about),D.createElement("p",null,"טל: ",a.phone)))),n==="form"&&D.createElement(_B,{onFormSubmit:b}))}Mp.createRoot(document.getElementById("root")).render(D.createElement(D.StrictMode,null,D.createElement(BB,null)));
